0001   0000             ;
0002   0000             ; CW Moser MAE ASSM/TED for the KIM-1
0003   0000             ; 
0004   0000             ; Reconstructed source from disassmembly of dumped original binary 1979
0005   0000             ; Comments taken from source Junior version
0006   0000             ; TApe I/O form Fast Cassette source listing 
0007   0000             ; Binary compatible with original 
0008   0000             ;
0009   0000             ; Hans Otten, Februari 2024,  TASM32
0010   0000             ;
0011   0000             ; Zeropage  
0012   0000             ;  
0013   0000             NULVECTOR 	=  $00
0014   0000             USRVECTOR 	=  $03
0015   0000             ;
0016   0000             DISCI 	 	=  $AC
0017   0000             DISCO 	 	=  $AD
0018   0000             DISCCVEC 	=  $AE
0019   0000             DISC1 	 	=  $B0
0020   0000             DISC2 	 	=  $B2
0021   0000             DISCOVEC 	=  $B4
0022   0000             DISCIVEC 	=  $B6
0023   0000             ;
0024   0000             SAVEM 	 	=  $B9
0025   0000             ASSMLNKNO 	=  $BA
0026   0000             MACSUPPRS 	=  $BB
0027   0000             MACEXPAND 	=  $BC
0028   0000             MACSRCH 	=  $BD
0029   0000             CALLEXP 	=  $BE
0030   0000             ;
0031   0000             CONDSUP 	=  $BF
0032   0000             SYMBOLIC 	=  $C0
0033   0000             LSTEXPOB 	=  $C1
0034   0000             MACSEQ 		=  $C2
0035   0000             FILESEQ 	=  $C4
0036   0000             ;
0037   0000             SAVEXX 		=  $C6
0038   0000             SAVEYY 		=  $C7
0039   0000             ;
0040   0000             PURECL 		=  $C8
0041   0000             PURECH 		=  $C9
0042   0000             ;
0043   0000             MGFLAG 		=  $CA
0044   0000             MGADDR 		=  $CB
0045   0000             ;
0046   0000             DELIM 		=  $CD
0047   0000             SAVE 		=  $CE
0048   0000             DC 			=  $CF
0049   0000             PNTR 		=  $D0
0050   0000             PROCADDRS 	=  $D1
0051   0000             TPRES 		=  $D3
0052   0000             SPRES 		=  $D5
0053   0000             PC 			=  $D7
0054   0000             REL 		=  $D9
0055   0000             ERRORS 		=  $DB
0056   0000             SCRAT0 		=  $DD
0057   0000             SCRAT1 		=  $DF
0058   0000             SCRAT2 		=  $E0
0059   0000             SCRAT3 		=  $E1
0060   0000             SCRAT4 		=  $E2
0061   0000             SUPPRESS0	=  $E3
0062   0000             SAVEY 		=  $E4
0063   0000             SAVEX 		=  $E5
0064   0000             ;
0065   0000             LN2BOUT 	=  $E6
0066   0000             LNINDEX 	=  $E7
0067   0000             LIBYM 		=  $E8
0068   0000             LINELEN 	=  $E9
0069   0000             AUTOTAB 	=  $EA
0070   0000             ;
0071   0000             ;
0072   0000             TXST 		=  $100
0073   0000             TXEN 		=  $102
0074   0000             STST 		=  $104
0075   0000             STEN 		=  $106
0076   0000             FIRST 		=  $108
0077   0000             LAST 		=  $10A
0078   0000             INCBY 		=  $10C
0079   0000             MANU 		=  $10E
0080   0000             FORMAT		=  $10F
0081   0000             FILENO 		=  $110
0082   0000             HEXDEC 		=  $111
0083   0000             TERM 		=  $112
0084   0000             PASS 		=  $113
0085   0000             CONTAPE 	=  $114
0086   0000             AU 			=  $115
0087   0000             OSTORE 		=  $116
0088   0000             TLIST 		=  $117
0089   0000             ADDRS 		=  $118
0090   0000             ADDPAD 		=  $11A
0091   0000             CURSAVE 	=  $11C
0092   0000             EXT			=  $11E
0093   0000             PRINTCTL 	=  $11F
0094   0000             CRTEX 		=  $18F
0095   0000             LINECNTR 	=  $120
0096   0000             PAGENUMB 	=  $121
0097   0000             RECPOINT 	=  $122
0098   0000             LOADNO 		=  $123
0099   0000             TSTART 		=  $124
0100   0000             TEND 		=  $126
0101   0000             HFILENO 	=  $128
0102   0000             HSTART 		=  $129
0103   0000             HEND 		=  $12B
0104   0000             DELAY1 		=  $12D
0105   0000             DELAY2 		=  $12E
0106   0000             ASLNSV 		=  $12F
0107   0000             EDITFINDC 	=  $131
0108   0000             TABSN 		=  $133
0109   0000             CRT 		=  $135
0110   0000             ;
0111   0000             TOP 		=  $1FE
0112   0000             ;
0113   0000             ; Zeropage for Fast cassette interface
0114   0000             ;
0115   0000             CHECKSUM	= $B2				; (16 bit checksum)
0116   0000             FORMBYTE	= $B4
0117   0000             SYNCCOUNT	= FORMBYTE
0118   0000             BITCOUNT	= $B5
0119   0000             ADDR		= $B6
0120   0000             COUNT		= ADDR
0121   0000             ;
0122   0000             ; Page 1 for Fast cassete interface
0123   0000             ;
0124   0000             ; LOADNO	= $0123				; 00 =No load, 01 = load
0125   0000             START		= $0124				; start address
0126   0000             END			= $0126				; End address + 1
0127   0000             
0128   0000             
0129   0000             ; KIM I/O for character I/O, Break test and Fast Cassette interface
0130   0000             ;
0131   0000             ; Ports:
0132   0000             CPORT		=	$1702			; Data port for I/O motor and ausio cassette
0133   0000             								; bit 0 is motor control save recorder
0134   0000             								; bit 1  is motor control load recorder
0135   0000             								; bit 2 is read from cassette, bit 3 write to
0136   0000             CPORTD		=	$1703			; Data direction register CPORT
0137   0000             SAD			= 	$1740			; TTY in bit, for breaktest
0138   0000             ; 
0139   0000             ; KIM Monitor
0140   0000             GETCH		= 	$1E5A			; read from TTY in A with hardware echo
0141   0000             OUTCH		= 	$1EA0 			; write to TTY 
0142   0000             IRQVEC		= 	$17FE			; IRQ /BRK vector
0143   0000             ;
0144   2000                       .org $2000
0145   2000             ;
0146   2000 4C 10 20              	JMP 	COLDSTART 	; Jump coldstart
0147   2003             ;			
0148   2003 4C AC 20              	JMP 	WARMSTRT	; Jump warmstart
0149   2006             			
0150   2006             ; defaults for memory areas 
0151   2006 2C 36       			.WORD	DEFAULTS
0152   2008 D4 38       			.WORD 	HALAYOUT
0153   200A 47 3C                 	.WORD	EXIT0000
0154   200C 4B 24                 	.WORD 	ERR.0
0155   200E CF 33       			.WORD	HALAYOUT1
0156   2010             ;
0157   2010 A2 FF       COLDSTART  	LDX 	#$FF		; 
0158   2012 9A                    	TXS 	
0159   2013 E8                    	INX 	
0160   2014 86 AC                 	STX 	DISCI
0161   2016 86 AD                 	STX 	DISCO
0162   2018 8E 13 01              	STX 	PASS
0163   201B 86 E3                 	STX 	SUPPRESS0
0164   201D 8E 1F 01              	STX 	PRINTCTL
0165   2020 A9 17                 	LDA 	#$17		; $3A in 65C02 version
0166   2022 EA                    	NOP 	
0167   2023 20 0B 36              	JSR 	SETBNDS
0168   2026 EA                    	NOP 	
0169   2027 EA                    	NOP 	
0170   2028 EA                    	NOP 	
0171   2029 EA                    	NOP 	
0172   202A EA                    	NOP 	
0173   202B 20 A6 3F              	JSR 	INIT
0174   202E A9 01                 	LDA 	#$01
0175   2030 8D 20 01              	STA 	LINECNTR
0176   2033 8D 21 01              	STA 	PAGENUMB
0177   2036 8D 0F 01              	STA 	FORMAT
0178   2039 85 DB                 	STA 	ERRORS
0179   203B 8E 0C 01              	STX 	INCBY
0180   203E 8E 0D 01              	STX 	INCBY+1
0181   2041 8E 0E 01              	STX 	MANU
0182   2044 A0 47                 	LDY 	#MESCOLD-MESERROR
0183   2046 20 2C 25              	JSR 	MESSAGE
0184   2049 A9 0B                 	LDA 	#$0B
0185   204B 85 EA                 	STA 	AUTOTAB
0186   204D 20 94 20    CLEAR     	JSR 	TXTCLEAR
0187   2050 8E 28 01              	STX 	HFILENO
0188   2053 20 14 3B              	JSR 	PRBOUNDS
0189   2056             ;			
0190   2056 20 2F 33    MONL0OFF   	JSR 	TD0OFF 
0191   2059 20 38 33    MONL1OFF   	JSR 	TD1OFF
0192   205C A2 00       MONLOOP    	LDX 	#$00
0193   205E D8          MONLOOP1   	CLD 	
0194   205F EA                    	NOP 	
0195   2060 EA                    	NOP 	
0196   2061 EA                    	NOP 	
0197   2062 A9 00                 	LDA 	#$00
0198   2064 EA                    	NOP 	
0199   2065 EA                    	NOP 	
0200   2066 EA                    	NOP 	
0201   2067 8D 13 01              	STA 	PASS
0202   206A 8D 33 01              	STA 	TABSN
0203   206D 20 EA 33              	JSR 	OUTCR
0204   2070 A2 FF       LNCOM     	LDX 	#$FF
0205   2072 8E 12 01              	STX 	TERM
0206   2075 8E 11 01              	STX 	HEXDEC
0207   2078 9A                    	TXS 	
0208   2079 E8                    	INX 	
0209   207A 8E 14 01              	STX 	CONTAPE
0210   207D 8E 15 01              	STX 	AU
0211   2080 20 62 22              	JSR 	INTXT
0212   2083 A0 00                 	LDY 	#$00
0213   2085 20 10 25              	JSR 	NXTLETTER
0214   2088 C0 50                 	CPY 	#$50
0215   208A B0 E4                 	BCS 	LNCOM
0216   208C 20 9E 26              	JSR 	SRCHCOM 
0217   208F A2 ED                 	LDX 	#$ED
0218   2091 4C 4B 24              	JMP 	ERR.0		; ERROR IN COMMAND INPUT
0219   2094             ;
0220   2094 AD 00 01    TXTCLEAR   	LDA 	TXST
0221   2097 85 D3                 	STA 	TPRES
0222   2099 AD 01 01              	LDA 	TXST+1 
0223   209C 85 D4                 	STA 	TPRES+1
0224   209E 8A          TXTEND0    	TXA 	
0225   209F A0 02                 	LDY 	#$02
0226   20A1 91 D3                 	STA 	(TPRES),Y
0227   20A3 60                    	RTS 	
0228   20A4             ;			
0229   20A4 A9 80       BREAK     	LDA 	#$80
0230   20A6 EA                    	NOP 	
0231   20A7 EA                    	NOP 	
0232   20A8 EA                    	NOP 	
0233   20A9 00                    	BRK 	
0234   20AA EA                    	NOP 	
0235   20AB EA                    	NOP 	
0236   20AC 20 14 3B    WARMSTRT	JSR 	PRBOUNDS
0237   20AF 4C 5C 20              	JMP 	MONLOOP
0238   20B2             ;			
0239   20B2 A2 0C       AUTO       	LDX 	#INCBY-TXST
0240   20B4 20 E4 22              	JSR 	GETDECPARM 
0241   20B7 4C 5E 20              	JMP 	MONLOOP1
0242   20BA             ;			
0243   20BA 20 69 34    GET1       	JSR 	GET
0244   20BD 4C 5C 20              	JMP 	MONLOOP
0245   20C0             ;			
0246   20C0 20 90 26    FORMAT1    	JSR 	GETCRTUP
0247   20C3 8D 0F 01              	STA 	FORMAT
0248   20C6 C9 43                 	CMP 	#'C'
0249   20C8 D0 03                 	BNE 	FORMSETD
0250   20CA 8E 0F 01              	STX 	FORMAT
0251   20CD 20 0D 25    FORMSETD   	JSR 	NXTWORD
0252   20D0 C0 50                 	CPY 	#$50
0253   20D2 B0 13                 	BCS 	MONLOOP11
0254   20D4 8E 11 01              	STX 	HEXDEC
0255   20D7 A9 01                 	LDA 	#$01
0256   20D9 8D 13 01              	STA 	PASS
0257   20DC 20 60 32              	JSR 	OPERTST
0258   20DF E6 D1                 	INC 	PROCADDRS 
0259   20E1 A5 D1                 	LDA 	PROCADDRS 
0260   20E3 29 1F                 	AND 	#$1F
0261   20E5 85 EA                 	STA 	AUTOTAB
0262   20E7 4C 5E 20    MONLOOP11  	JMP 	MONLOOP1
0263   20EA             ;
0264   20EA 20 90 26    MANUSCR    	JSR 	GETCRTUP
0265   20ED 8D 0E 01              	STA 	MANU
0266   20F0 C9 43                 	CMP 	#'C'
0267   20F2 D0 03                 	BNE 	MONLOOP12
0268   20F4 8E 0E 01              	STX 	MANU
0269   20F7 4C 5E 20    MONLOOP12  	JMP 	MONLOOP1
0270   20FA             ;
0271   20FA 8E 14 01    ASSMBLE    	STX 	CONTAPE
0272   20FD 8E 13 01              	STX 	PASS
0273   2100 98                    	TYA 	
0274   2101 48                    	PHA 	
0275   2102 20 57 2F              	JSR 	SPRESSTST
0276   2105 20 75 30              	JSR 	STEND0
0277   2108 8E 11 01              	STX 	HEXDEC
0278   210B 68                    	PLA 	
0279   210C A8                    	TAY 	
0280   210D 8E 17 01              	STX 	TLIST
0281   2110 20 90 26              	JSR 	GETCRTUP
0282   2113 C9 4E                 	CMP 	#'N'
0283   2115 F0 07                 	BEQ 	ASLC	
0284   2117 C9 4C                 	CMP 	#'L'
0285   2119 D0 06                 	BNE 	ASGFRST
0286   211B EE 17 01              	INC 	TLIST
0287   211E 20 0D 25    ASLC    	JSR 	NXTWORD
0288   2121 20 FA 21    ASGFRST    	JSR 	INFL
0289   2124 AD 08 01              	LDA 	FIRST
0290   2127 8D 2F 01              	STA 	ASLNSV
0291   212A AD 09 01              	LDA 	FIRST+1
0292   212D 8D 30 01              	STA 	ASLNSV+1
0293   2130 4C C0 2B              	JMP 	ASSEMBLE
0294   2133             			
0295   2133 A9 01       RUN          	LDA 	#$01
0296   2135 8E 11 01              	STX 	HEXDEC
0297   2138 8D 13 01              	STA 	PASS
0298   213B 20 60 32              	JSR 	OPERTST
0299   213E 20 0D 25              	JSR 	NXTWORD
0300   2141 20 47 21              	JSR 	EXRUN
0301   2144 4C 5E 20              	JMP 	MONLOOP1
0302   2147             ;			
0303   2147 6C D1 00    EXRUN     	JMP 	(PROCADDRS)
0304   214A             ;
0305   214A B9 35 01    PRINTP     	LDA 	CRT,Y
0306   214D C9 2F                 	CMP 	#'/'
0307   214F D0 18                 	BNE 	LIFL
0308   2151 A9 FF                 	LDA 	#$FF
0309   2153 8D 09 01              	STA 	FIRST+1
0310   2156 20 12 22              	JSR 	FINDLNGE
0311   2159 AD 1C 01              	LDA 	CURSAVE
0312   215C 85 DD                 	STA 	SCRAT0
0313   215E AD 1D 01              	LDA 	CURSAVE+1
0314   2161 85 DE                 	STA 	SCRAT0+1
0315   2163 20 C9 21              	JSR 	LILINE
0316   2166 4C 5E 20              	JMP 	MONLOOP1
0317   2169             			
0318   2169 20 FA 21    LIFL     	JSR 	INFL
0319   216C 20 B3 21              	JSR 	LILAST
0320   216F 4C 5E 20              	JMP 	MONLOOP1
0321   2172             ;			
0322   2172 A5 C8       PUTRBUF    	LDA 	PURECL
0323   2174 8D 29 01              	STA 	HSTART
0324   2177 18                    	CLC 	
0325   2178 6D 22 01              	ADC 	RECPOINT
0326   217B 8D 2B 01              	STA 	HEND
0327   217E A5 C9                 	LDA 	PURECH
0328   2180 8D 2A 01              	STA 	HSTART+1
0329   2183 69 00                 	ADC 	#$00
0330   2185 8D 2C 01              	STA 	HEND+1
0331   2188 8E 22 01              	STX 	RECPOINT
0332   218B 20 AF 33    PUTIT     	JSR 	TD0ONW 
0333   218E 84 CE                 	STY 	SAVE
0334   2190 20 9C 35              	JSR 	PUTHF 
0335   2193 A4 CE                 	LDY 	SAVE
0336   2195 20 BD 33              	JSR 	TD0OFW
0337   2198 60                    	RTS 	
0338   2199             ;			
0339   2199 8E 10 01    GETFILNO   	STX 	FILENO
0340   219C 20 90 26              	JSR 	GETCRTUP
0341   219F C9 46                 	CMP 	#'F'
0342   21A1 D0 0F                 	BNE 	RETGFLN
0343   21A3 C8                    	INY 	
0344   21A4 A2 0A                 	LDX 	#LAST-TXST
0345   21A6 20 E4 22              	JSR 	GETDECPARM 
0346   21A9 AD 0A 01              	LDA 	LAST
0347   21AC 8D 10 01              	STA 	FILENO
0348   21AF 20 10 25              	JSR 	NXTLETTER
0349   21B2 60          RETGFLN    	RTS 	
0350   21B3             
0351   21B3 F0 10       LILAST     	BEQ 	LILAST3
0352   21B5 90 12                 	BCC 	LILINE
0353   21B7 A0 02       LILAST1    	LDY 	#$02
0354   21B9 88          LILAST2    	DEY 	
0355   21BA 30 0D                 	BMI 	LILINE
0356   21BC B9 0A 01              	LDA 	LAST,Y
0357   21BF D1 DD                 	CMP 	(SCRAT0),Y
0358   21C1 F0 F6                 	BEQ 	LILAST2
0359   21C3 B0 04                 	BCS 	LILINE
0360   21C5 20 E6 21    LILAST3    	JSR 	LIEND
0361   21C8 60                    	RTS 	
0362   21C9             			
0363   21C9 20 B0 23    LILINE     	JSR 	CRTTXTLIN
0364   21CC AD 0E 01              	LDA 	MANU
0365   21CF D0 06                 	BNE 	LINOLNNR
0366   21D1 20 22 26              	JSR 	PRSPFRST
0367   21D4 20 F9 33              	JSR 	OUT2SP
0368   21D7 20 98 25    LINOLNNR   	JSR 	PRCRT
0369   21DA 20 EA 33              	JSR 	OUTCR
0370   21DD 20 A2 23              	JSR 	NXTLILA
0371   21E0 A0 02                 	LDY 	#$02
0372   21E2 B1 DD                 	LDA 	(SCRAT0),Y
0373   21E4 D0 D1                 	BNE 	LILAST1
0374   21E6 20 ED 21    LIEND     	JSR 	CLRSPR
0375   21E9 20 EA 33              	JSR 	OUTCR
0376   21EC 60                    	RTS 
0377   21ED             ;			
0378   21ED 86 E3       CLRSPR     	STX 	SUPPRESS0
0379   21EF A9 2F                 	LDA 	#'/'
0380   21F1 20 C4 33              	JSR 	OUTCHAR
0381   21F4 A9 2F                 	LDA 	#'/'
0382   21F6 20 C4 33              	JSR 	OUTCHAR
0383   21F9 60                    	RTS 	
0384   21FA             
0385   21FA A2 08       INFL     	LDX 	#FIRST-TXST
0386   21FC 20 E4 22              	JSR 	GETDECPARM 
0387   21FF C0 50                 	CPY 	#$50
0388   2201 90 07                 	BCC 	INLAST
0389   2203 A9 FF                 	LDA 	#$FF
0390   2205 8D 0B 01              	STA 	LAST+1
0391   2208 D0 08                 	BNE 	FINDLNGE
0392   220A             ;			
0393   220A 20 10 25    INLAST     	JSR 	NXTLETTER
0394   220D A2 0A                 	LDX 	#LAST-TXST
0395   220F 20 E4 22              	JSR 	GETDECPARM 
0396   2212 20 BA 24    FINDLNGE    JSR 	SR0TXST
0397   2215 A0 02       FNDEOF     	LDY 	#$02
0398   2217 B1 DD                 	LDA 	(SCRAT0),Y
0399   2219 D0 02                 	BNE 	CMPLNNR
0400   221B 18          FNDLNGE    	CLC 	
0401   221C 60                    	RTS 
0402   221D             ;			
0403   221D 88          CMPLNNR   	DEY 	
0404   221E 30 FB                 	BMI  	FNDLNGE
0405   2220 B1 DD                 	LDA 	(SCRAT0),Y
0406   2222 D9 08 01              	CMP 	FIRST,Y
0407   2225 F0 F6                 	BEQ 	CMPLNNR
0408   2227 90 01                 	BCC 	LNNRLESS
0409   2229 60                    	RTS 	
0410   222A             ;			
0411   222A A5 DD       LNNRLESS   	LDA 	SCRAT0
0412   222C 8D 1C 01              	STA 	CURSAVE
0413   222F A5 DE                 	LDA 	SCRAT0+1 
0414   2231 8D 1D 01              	STA 	CURSAVE+1
0415   2234 20 A2 23              	JSR 	NXTLILA
0416   2237 4C 15 22              	JMP 	FNDEOF
0417   223A             ;			
0418   223A 84 CE       STINRBUF   	STY 	SAVE
0419   223C AC 22 01              	LDY 	RECPOINT
0420   223F 91 C8                 	STA 	(PURECL),Y
0421   2241 EE 22 01              	INC 	RECPOINT
0422   2244 A4 CE                 	LDY 	SAVE
0423   2246 60                    	RTS 	
0424   2247             ;			
0425   2247 AD 13 01    SEILOW     	LDA 	PASS
0426   224A 10 08                 	BPL 	SEINP2
0427   224C A9 4F                 	LDA 	#$4F
0428   224E EE 11 01              	INC 	HEXDEC
0429   2251 20 90 2E              	JSR 	STPROB
0430   2254 4C 31 2E    SEINP2     	JMP 	STPRLOPR 
0431   2257             
0432   2257 A0 02       GETFRSTCH     	LDY 	#$02
0433   2259 B1 DD                 	LDA 	(SCRAT0),Y
0434   225B 60                    	RTS 
0435   225C             ;			
0436   225C EE 13 01    EXPASS2   	INC 	PASS
0437   225F 4C B1 2B              	JMP 	ASAUTOP2
0438   2262             ;			
0439   2262 20 AB 25    INTXT     	JSR 	INLINE
0440   2265 A0 00                 	LDY 	#$00
0441   2267 B9 35 01              	LDA 	CRT,Y
0442   226A C9 30                 	CMP 	#'0'
0443   226C 90 04                 	BCC 	INNOTXT 
0444   226E C9 3A                 	CMP 	#':'
0445   2270 90 01                 	BCC 	INTXTLINE 
0446   2272 60          INNOTXT    	RTS
0447   2273             ; 	
0448   2273 A2 08       INTXTLINE    LDX 	#FIRST-TXST
0449   2275 20 32 26              	JSR 	PARM
0450   2278 84 E1                 	STY 	SCRAT3
0451   227A AD 1A 01              	LDA 	ADDPAD
0452   227D 38                    	SEC 	
0453   227E E5 E1                 	SBC 	SCRAT3
0454   2280 8D 1A 01              	STA 	ADDPAD
0455   2283 20 62 23    SRCHENTRY  	JSR 	FILNDEL
0456   2286 A4 E1                 	LDY 	SCRAT3
0457   2288 20 10 25              	JSR 	NXTLETTER
0458   228B C0 50                 	CPY 	#$50
0459   228D B0 05                 	BCS 	AU1
0460   228F A4 E1                 	LDY 	SCRAT3
0461   2291 20 FA 22              	JSR 	INSRTLN
0462   2294 20 EF 22    AU1    	 	JSR 	ADJAU 
0463   2297 F0 27                 	BEQ 	LNCOM1
0464   2299 AD 08 01              	LDA 	FIRST
0465   229C 18                    	CLC 	
0466   229D F8                    	SED 	
0467   229E 6D 0C 01              	ADC 	INCBY
0468   22A1 8D 08 01              	STA 	FIRST
0469   22A4 AD 09 01              	LDA 	FIRST+1
0470   22A7 6D 0D 01              	ADC 	INCBY+1
0471   22AA 8D 09 01              	STA 	FIRST+1
0472   22AD D8                    	CLD 	
0473   22AE 20 25 26              	JSR 	PRFIRST 
0474   22B1 20 AB 25              	JSR 	INLINE
0475   22B4 A0 00                 	LDY 	#$00
0476   22B6 84 E1                 	STY 	SCRAT3
0477   22B8 20 C3 22              	JSR 	CMP11
0478   22BB D0 C6                 	BNE 	SRCHENTRY
0479   22BD 20 EA 33              	JSR 	OUTCR
0480   22C0 4C 70 20    LNCOM1     	JMP 	LNCOM
0481   22C3             ;
0482   22C3 A0 00       CMP11     	LDY 	#$00
0483   22C5 20 10 25              	JSR 	NXTLETTER
0484   22C8 B9 35 01              	LDA 	CRT,Y
0485   22CB C9 2F                 	CMP 	#'/'
0486   22CD D0 03                 	BNE 	RET3
0487   22CF D9 36 01              	CMP 	CRT+1,Y
0488   22D2 60          RET3     	RTS 
0489   22D3             ;	
0490   22D3 20 32 26    PARMDCML   	JSR 	PARM
0491   22D6 C0 50                 	CPY 	#$50
0492   22D8 B0 09                 	BCS 	RET4
0493   22DA A5 DF                 	LDA 	SCRAT1
0494   22DC F0 05                 	BEQ 	RET4
0495   22DE A2 00       ILLCHINDEC  LDX 	#$00
0496   22E0 4C 42 24              	JMP 	ERR.9
0497   22E3             ;			
0498   22E3 60          RET4     	RTS 	
0499   22E4             ;
0500   22E4 20 D3 22    GETDECPARM  JSR 	PARMDCML
0501   22E7 A9 20                 	LDA 	#$20
0502   22E9 D9 35 01              	CMP 	CRT,Y
0503   22EC D0 F0                 	BNE 	ILLCHINDEC
0504   22EE 60                    	RTS 	
0505   22EF             ;
0506   22EF 18          ADJAU      	CLC 	
0507   22F0 AD 0C 01              	LDA 	INCBY
0508   22F3 6D 0D 01              	ADC 	INCBY+1
0509   22F6 8D 15 01              	STA 	AU
0510   22F9 60                    	RTS 	
0511   22FA             ;			
0512   22FA 98          INSRTLN    	TYA 	
0513   22FB 48                    	PHA 	
0514   22FC 20 A8 24              	JSR 	SR12TPRES
0515   22FF AD 1A 01              	LDA  	ADDPAD
0516   2302 38                    	SEC 	
0517   2303 65 D3                 	ADC 	TPRES
0518   2305 48                    	PHA 	
0519   2306 8A                    	TXA 	
0520   2307 65 D4                 	ADC 	TPRES+1
0521   2309 CD 03 01              	CMP 	TXEN+1
0522   230C 90 0E                 	BCC 	NEWTPRES
0523   230E F0 03                 	BEQ 	TXTOVFLW1
0524   2310 4C 3C 24    TXTOVFLW  	JMP 	ERR.F
0525   2313             ;
0526   2313 A8          TXTOVFLW1  	TAY 	
0527   2314 68                    	PLA 	
0528   2315 CD 02 01              	CMP 	TXEN
0529   2318 B0 F6                 	BCS 	TXTOVFLW
0530   231A 48                    	PHA 	
0531   231B 98                    	TYA 	
0532   231C 85 D4       NEWTPRES   	STA 	TPRES+1
0533   231E 68                    	PLA 	
0534   231F 85 D3                 	STA 	TPRES
0535   2321 20 B1 24              	JSR 	SR34TPRES
0536   2324 4C 31 23              	JMP 	MOVEDUP
0537   2327             ;			
0538   2327 20 E4 24    MOVEUP    	JSR 	DECSCR12
0539   232A 20 E3 24              	JSR 	DECSCR34
0540   232D A1 DF                 	LDA 	(SCRAT1,X)
0541   232F 81 E1                 	STA 	(SCRAT3,X)
0542   2331 A5 DD       MOVEDUP    	LDA 	SCRAT0
0543   2333 C5 DF                 	CMP 	SCRAT1
0544   2335 D0 F0                 	BNE 	MOVEUP
0545   2337 A5 DE                 	LDA 	SCRAT0+1
0546   2339 C5 E0                 	CMP 	SCRAT2
0547   233B D0 EA                 	BNE 	MOVEUP
0548   233D A0 00                 	LDY 	#$00
0549   233F AD 08 01              	LDA 	FIRST
0550   2342 91 DD                 	STA 	(SCRAT0),Y
0551   2344 AD 09 01              	LDA 	FIRST+1
0552   2347 C8                    	INY 	
0553   2348 91 DD                 	STA 	(SCRAT0),Y
0554   234A 68                    	PLA 	
0555   234B AA                    	TAX 	
0556   234C C8          ADDLINE    	INY 	
0557   234D BD 35 01              	LDA 	CRT,X
0558   2350 E8                    	INX 	
0559   2351 91 DD                 	STA 	(SCRAT0),Y
0560   2353 CC 1A 01              	CPY  	ADDPAD
0561   2356 D0 F4                 	BNE 	ADDLINE
0562   2358 09 80                 	ORA 	#$80
0563   235A 91 DD                 	STA 	(SCRAT0),Y
0564   235C A2 00                 	LDX 	#$00
0565   235E 20 9E 20              	JSR 	TXTEND0
0566   2361 60                    	RTS 	
0567   2362             ;
0568   2362 20 12 22    FILNDEL    	JSR 	FINDLNGE
0569   2365 D0 01                 	BNE 	DELIFEQ
0570   2367 60          RETF     	RTS 	
0571   2368             ;
0572   2368 B0 FD       DELIFEQ    	BCS 	RETF
0573   236A 20 9F 24              	JSR 	SR12SR0 
0574   236D 20 A2 23              	JSR 	NXTLILA
0575   2370 A0 02       MOVEDOWN   	LDY 	#$02
0576   2372 B1 DD                 	LDA 	(SCRAT0),Y
0577   2374 D0 0F                 	BNE 	MVDLNNR
0578   2376 A5 DF                 	LDA 	SCRAT1
0579   2378 85 D3                 	STA 	TPRES
0580   237A A5 E0                 	LDA 	SCRAT2
0581   237C 85 D4                 	STA 	TPRES+1
0582   237E 20 9E 20              	JSR 	TXTEND0
0583   2381 20 12 22              	JSR 	FINDLNGE
0584   2384 60                    	RTS 	
0585   2385             ;
0586   2385 A1 DD       MVDLNNR    	LDA 	(SCRAT0,X)
0587   2387 81 DF                 	STA 	(SCRAT1,X)
0588   2389 20 D2 24              	JSR 	INCSCR0 
0589   238C 20 D1 24              	JSR 	INCSCR12
0590   238F 88                    	DEY 	
0591   2390 D0 F3                 	BNE 	MVDLNNR
0592   2392 A1 DD       MVDLINE1   	LDA 	(SCRAT0,X)
0593   2394 81 DF                 	STA 	(SCRAT1,X)
0594   2396 08                    	PHP 	
0595   2397 20 D2 24              	JSR 	INCSCR0 
0596   239A 20 D1 24              	JSR 	INCSCR12
0597   239D 28                    	PLP 	
0598   239E 10 F2                 	BPL 	MVDLINE1
0599   23A0 30 CE                 	BMI 	MOVEDOWN
0600   23A2             ;			
0601   23A2 20 D2 24    NXTLILA    	JSR 	INCSCR0 
0602   23A5 20 D2 24    MVDLINE   	JSR 	INCSCR0 
0603   23A8 A1 DD                 	LDA 	(SCRAT0,X)
0604   23AA 10 F9                 	BPL 	MVDLINE
0605   23AC 20 D2 24              	JSR 	INCSCR0 
0606   23AF 60                    	RTS 	
0607   23B0             ;
0608   23B0 20 16 26    CRTTXTLIN  	JSR 	CLRCRTBUF 
0609   23B3 B1 DD                 	LDA 	(SCRAT0),Y
0610   23B5 8D 08 01              	STA 	FIRST
0611   23B8 C8                    	INY 	
0612   23B9 B1 DD                 	LDA 	(SCRAT0),Y
0613   23BB 8D 09 01              	STA 	FIRST+1
0614   23BE C8                    	INY 	
0615   23BF AD 0F 01              	LDA 	FORMAT
0616   23C2 F0 2D                 	BEQ 	UNTILEOL
0617   23C4 B1 DD                 	LDA 	(SCRAT0),Y
0618   23C6 C9 3B                 	CMP 	#$3B
0619   23C8 F0 27                 	BEQ 	UNTILEOL
0620   23CA C9 20                 	CMP 	#$20
0621   23CC F0 03                 	BEQ 	MNEMFIELD
0622   23CE 20 07 24              	JSR 	ONEWORD
0623   23D1 20 F7 23    MNEMFIELD  	JSR 	TONXTWRD
0624   23D4 A6 EA                 	LDX 	AUTOTAB
0625   23D6 C9 3B                 	CMP 	#$3B			; ';'
0626   23D8 F0 17                 	BEQ 	UNTILEOL
0627   23DA 20 07 24              	JSR 	ONEWORD
0628   23DD 20 F7 23              	JSR 	TONXTWRD
0629   23E0 C9 3B                 	CMP 	#$3B			; ';'
0630   23E2 F0 0A                 	BEQ 	COMMFIELD 
0631   23E4 20 07 24              	JSR 	ONEWORD
0632   23E7 20 F7 23              	JSR 	TONXTWRD
0633   23EA C9 3B                 	CMP 	#$3B
0634   23EC D0 03                 	BNE 	UNTILEOL
0635   23EE 20 00 24    COMMFIELD   JSR 	XNXTTAB
0636   23F1 20 07 24    UNTILEOL    JSR 	ONEWORD
0637   23F4 4C F1 23              	JMP 	UNTILEOL
0638   23F7             ;			
0639   23F7 B1 DD       TONXTWRD    LDA 	(SCRAT0),Y
0640   23F9 C8                    	INY 	
0641   23FA C9 20                 	CMP 	#$20
0642   23FC F0 F9                 	BEQ 	TONXTWRD
0643   23FE 88                    	DEY 	
0644   23FF 60                    	RTS 
0645   2400             ;
0646   2400             ; 			
0647   2400 E8          XNXTTAB    	INX 	
0648   2401 8A                    	TXA 	
0649   2402 29 07                 	AND 	#$07
0650   2404 D0 FA                 	BNE 	XNXTTAB
0651   2406 60                    	RTS 	
0652   2407             ;
0653   2407 E0 50       ONEWORD    	CPX 	#$50
0654   2409 B0 1B                 	BCS 	SAVEEOLY
0655   240B B1 DD                 	LDA 	(SCRAT0),Y
0656   240D 30 0E                 	BMI 	EOLABORT 
0657   240F C9 09                 	CMP 	#$09			; TAB?
0658   2411 F0 1A                 	BEQ 	NXTTAB
0659   2413 9D 35 01              	STA 	CRT,X
0660   2416 C8                    	INY 	
0661   2417 E8                    	INX 	
0662   2418 C9 20                 	CMP 	#$20
0663   241A D0 EB                 	BNE 	ONEWORD
0664   241C 60                    	RTS 	
0665   241D             ;			
0666   241D 29 7F       EOLABORT   	AND 	#$7F
0667   241F C9 09                 	CMP 	#$09
0668   2421 F0 03                 	BEQ 	SAVEEOLY
0669   2423 9D 35 01              	STA 	CRT,X
0670   2426 8A          SAVEEOLY   	TXA 	
0671   2427 A8                    	TAY 	
0672   2428 A2 00                 	LDX 	#$00
0673   242A 68                    	PLA 	
0674   242B 68                    	PLA 	
0675   242C 60                    	RTS 	
0676   242D             ;			
0677   242D 20 00 24    NXTTAB     	JSR 	XNXTTAB
0678   2430 C8                    	INY 	
0679   2431 D0 D4                 	BNE 	ONEWORD
0680   2433             ;			
0681   2433 E8                    	INX 	
0682   2434 E8          ERR.17     	INX 	
0683   2435 E8          ERR.16    	INX 	
0684   2436 E8          ERR.15     	INX 	
0685   2437 E8                    	INX 	
0686   2438 E8                    	INX 	
0687   2439 E8          ERR.12    	INX 	
0688   243A E8          ERR.11     	INX 	
0689   243B E8          ERR.10     	INX 	
0690   243C E8          ERR.F     	INX 	
0691   243D E8          ERR.E    	INX 	
0692   243E E8          ERR.D     	INX 	
0693   243F E8          ERR.C    	INX 	
0694   2440 E8          ERR.B     	INX 	
0695   2441 E8          ERR.A     	INX 	
0696   2442 E8          ERR.9     	INX 	
0697   2443 E8          ERR.8     	INX 	
0698   2444 E8          ERR.7    	INX 	
0699   2445 E8          ERR.6     	INX 	
0700   2446 E8          ERR.5     	INX 	
0701   2447 E8          ERR.4     	INX 	
0702   2448 E8          ERR.3     	INX 	
0703   2449 E8          ERR.2     	INX 	
0704   244A E8          ERR.1     	INX 	
0705   244B 8A          ERR.0     	TXA 	
0706   244C 48                    	PHA 	
0707   244D A2 00                 	LDX 	#$00
0708   244F 20 D7 37              	JSR 	INCERRORS
0709   2452 AD 13 01              	LDA 	PASS
0710   2455 10 03                 	BPL 	PRERRMSG
0711   2457 8D 12 01              	STA 	TERM
0712   245A A5 E3       PRERRMSG   	LDA 	SUPPRESS0
0713   245C 85 CF                 	STA 	DC
0714   245E 86 E3                 	STX 	SUPPRESS0
0715   2460 A9 07                 	LDA 	#$07				; bell
0716   2462 20 C4 33              	JSR 	OUTCHAR
0717   2465 20 62 2F              	JSR 	PRASLNER
0718   2468 20 EA 33              	JSR 	OUTCR
0719   246B A9 21                 	LDA 	#'!'
0720   246D 20 C4 33              	JSR 	OUTCHAR
0721   2470 68                    	PLA 	
0722   2471 20 02 34              	JSR 	OUTBYTE
0723   2474 98                    	TYA 	
0724   2475 48                    	PHA 	
0725   2476 A0 00                 	LDY 	#MESERROR-MESERROR
0726   2478 20 2C 25              	JSR 	MESSAGE
0727   247B 68                    	PLA 	
0728   247C A8                    	TAY 	
0729   247D 20 22 26              	JSR 	PRSPFRST
0730   2480 A9 2F                 	LDA 	#'/'
0731   2482 20 C4 33              	JSR 	OUTCHAR
0732   2485 AD 28 01              	LDA 	HFILENO 
0733   2488 20 02 34              	JSR 	OUTBYTE
0734   248B 20 EA 33              	JSR 	OUTCR
0735   248E AD 12 01              	LDA 	TERM
0736   2491 D0 05                 	BNE 	TERMINATE
0737   2493 A5 CF                 	LDA 	DC
0738   2495 85 E3                 	STA 	SUPPRESS0
0739   2497 60                    	RTS 	
0740   2498             ;
0741   2498 A9 FF       TERMINATE  	LDA 	#$FF
0742   249A 85 DB                 	STA 	ERRORS
0743   249C 4C 56 20              	JMP 	MONL0OFF
0744   249F             ;			
0745   249F A5 DD       SR12SR0    	LDA 	SCRAT0
0746   24A1 85 DF                 	STA 	SCRAT1
0747   24A3 A5 DE                 	LDA 	SCRAT0+1
0748   24A5 85 E0                 	STA 	SCRAT2
0749   24A7 60                    	RTS 	
0750   24A8             ;			
0751   24A8 A5 D3       SR12TPRES  	LDA 	TPRES
0752   24AA 85 DF                 	STA 	SCRAT1
0753   24AC A5 D4                 	LDA 	TPRES+1
0754   24AE 85 E0                 	STA 	SCRAT2
0755   24B0 60                    	RTS 	
0756   24B1             			
0757   24B1 A5 D3       SR34TPRES  	LDA 	TPRES
0758   24B3 85 E1                 	STA 	SCRAT3
0759   24B5 A5 D4                 	LDA 	TPRES+1
0760   24B7 85 E2                 	STA 	SCRAT4
0761   24B9 60                    	RTS 	
0762   24BA             
0763   24BA AD 00 01    SR0TXST    	LDA 	TXST
0764   24BD 85 DD                 	STA 	SCRAT0
0765   24BF AD 01 01              	LDA 	TXST+1
0766   24C2 85 DE                 	STA 	SCRAT0+1
0767   24C4 60                    	RTS 	
0768   24C5             			
0769   24C5 AD 04 01    SR0STST    	LDA 	STST
0770   24C8 85 DD                 	STA 	SCRAT0
0771   24CA AD 05 01              	LDA 	$STST+1
0772   24CD 85 DE                 	STA 	SCRAT0+1
0773   24CF 60                    	RTS 	
0774   24D0             			
0775   24D0 E8          INCSCR34   	INX 	
0776   24D1 E8          INCSCR12   	INX 	
0777   24D2 E8          INCSCR0    	INX 	
0778   24D3 E8                    	INX 	
0779   24D4 E8          INCREL     	INX 	
0780   24D5 E8          INCPC     	INX 	
0781   24D6 E8          INCSPRES   	INX 	
0782   24D7 8A                    	TXA 	
0783   24D8 0A                    	ASL 	A
0784   24D9 AA                    	TAX 	
0785   24DA F6 D3                 	INC 	TPRES,X
0786   24DC D0 02                 	BNE 	INCOK
0787   24DE F6 D4                 	INC 	TPRES+1,X
0788   24E0 A2 00       INCOK     	LDX 	#$00
0789   24E2 60                    	RTS 	
0790   24E3 E8          DECSCR34   	INX 	
0791   24E4 E8          DECSCR12   	INX 	
0792   24E5 E8                    	INX 	
0793   24E6 E8                    	INX 	
0794   24E7 E8          DECREL     	INX 	
0795   24E8 E8                    	INX 	
0796   24E9 E8                    	INX 	
0797   24EA 8A                    	TXA 	
0798   24EB 0A                    	ASL 	A
0799   24EC AA                    	TAX 	
0800   24ED D6 D3       DECTPRES   	DEC 	TPRES,X
0801   24EF B5 D3                 	LDA 	TPRES,X
0802   24F1 C9 FF                 	CMP 	#$FF
0803   24F3 D0 02                 	BNE 	DECOK
0804   24F5 D6 D4                 	DEC 	TPRES+1,X
0805   24F7 A2 00       DECOK     	LDX 	#$00
0806   24F9 60                    	RTS 	
0807   24FA             ;			
0808   24FA B9 35 01    NXTWSK     	LDA 	CRT,Y
0809   24FD C9 21                 	CMP 	#'!'
0810   24FF F0 09                 	BEQ 	SKIP3
0811   2501 D0 0A                 	BNE 	NXTWORD
0812   2503 B9 35 01    COMP     	LDA 	CRT,Y
0813   2506 C9 2E                 	CMP 	#'.'
0814   2508 D0 03                 	BNE 	NXTWORD
0815   250A C8          SKIP3     	INY 	
0816   250B C8                    	INY 	
0817   250C C8                    	INY 	
0818   250D 20 1E 25    NXTWORD    	JSR 	NXTSPACE 
0819   2510 B9 35 01    NXTLETTER  	LDA 	CRT,Y
0820   2513 C8                    	INY 	
0821   2514 C0 50                 	CPY 	#$50
0822   2516 B0 05                 	BCS 	RET1
0823   2518 C9 20                 	CMP 	#' '
0824   251A F0 F4                 	BEQ 	NXTLETTER
0825   251C 88                    	DEY 	
0826   251D 60          RET1     	RTS 
0827   251E             ;	
0828   251E B9 35 01    NXTSPACE   	LDA 	CRT,Y
0829   2521 C8                    	INY 	
0830   2522 C0 50                 	CPY 	#$50
0831   2524 B0 05                 	BCS 	RET2
0832   2526 C9 20                 	CMP 	#$20
0833   2528 D0 F4                 	BNE 	NXTSPACE 
0834   252A 88                    	DEY 	
0835   252B 60          RET2     	RTS 	
0836   252C             
0837   252C B9 38 25    MESSAGE    	LDA 	MESERROR,Y
0838   252F D0 01                 	BNE 	MESSDO
0839   2531 60                    	RTS 
0840   2532             			
0841   2532 20 C4 33    MESSDO     	JSR 	OUTCHAR
0842   2535 C8                    	INY 	
0843   2536 D0 F4                 	BNE 	MESSAGE
0844   2538             ;
0845   2538 20 41 54 20 MESERROR 	.TEXT 	" AT LINE"
0845   253C 4C 49 4E 45 
0846   2540 00          			.BYTE 	$00
0847   2541 0D 0A 0A 0A MESLABS 	.BYTE 	$0D, $0A, $0A, $0A
0848   2545 4C 41 42 45 			.TEXT	"LABEL FILE:  "
0848   2549 4C 20 46 49 
0848   254D 4C 45 3A 20 
0848   2551 20 
0849   2552 5B 20 2F 20 			.TEXT 	"[ / = EXTERNAL ]"
0849   2556 3D 20 45 58 
0849   255A 54 45 52 4E 
0849   255E 41 4C 20 5D 
0850   2562 0D 0A 0A 00 			.BYTE 	$0D, $0A, $0A, $00
0851   2566 52 45 41 44 MESPASS2 	.TEXT 	"READY FOR PASS 2"
0851   256A 59 20 46 4F 
0851   256E 52 20 50 41 
0851   2572 53 53 20 32 
0852   2576 0D 0A 00    			.BYTE 	$0D, $0A, $00
0853   2579 50 41 47 45 MESPAGE 	.TEXT 	"PAGE " 
0853   257D 20 
0854   257E 00          			.BYTE	$00
0855   257F 0D 0A       MESCOLD 	.BYTE 	$0D, $0A 
0856   2581 43 20 31 39 			.TEXT	"C 1979 BY C. MOSER"
0856   2585 37 39 20 42 
0856   2589 59 20 43 2E 
0856   258D 20 4D 4F 53 
0856   2591 45 52 
0857   2593 0D 0A 0D 0A 			.BYTE	$0D, $0A, $0D, $0A, $00
0857   2597 00 
0858   2598             ;			
0859   2598 A2 00       PRCRT     	LDX 	#$00
0860   259A 8A          PRCRTNXT   	TXA 	
0861   259B 48          PRCRT2    	PHA 	
0862   259C BD 35 01              	LDA 	CRT,X
0863   259F 20 C4 33              	JSR 	OUTCHAR
0864   25A2 68                    	PLA 	
0865   25A3 AA                    	TAX 	
0866   25A4 E8                    	INX 	
0867   25A5 88                    	DEY 	
0868   25A6 10 F2                 	BPL 	PRCRTNXT
0869   25A8 A2 00                 	LDX 	#$00
0870   25AA 60                    	RTS 
0871   25AB             ;			
0872   25AB 86 E3       INLINE     	STX 	SUPPRESS0
0873   25AD A9 3E       PROMPT     	LDA 	#'>'
0874   25AF 20 C4 33              	JSR 	OUTCHAR
0875   25B2 20 16 26              	JSR 	CLRCRTBUF 
0876   25B5 20 DD 33    INCHALNE   	JSR 	INSAVXY
0877   25B8 C9 0D                 	CMP 	#$0D			; CR
0878   25BA D0 08                 	BNE 	TSTBS
0879   25BC C8          GOTALINE   	INY 	
0880   25BD 8C 1A 01              	STY 	 ADDPAD
0881   25C0 60                    	RTS 
0882   25C1             ;			
0883   25C1 20 C4 33    CURSBACK   	JSR 	OUTCHAR
0884   25C4 C9 08       TSTBS     	CMP 	#$08			; backspace?
0885   25C6 F0 09                 	BEQ 	CRTBACK
0886   25C8 C9 7F                 	CMP 	#$7F
0887   25CA D0 1E                 	BNE 	TSTLINDEL 
0888   25CC A9 5C                 	LDA 	#$5C
0889   25CE 20 C4 33              	JSR 	OUTCHAR
0890   25D1 88          CRTBACK    	DEY 	
0891   25D2 30 08                 	BMI 	LINEAGN
0892   25D4 A9 20                 	LDA 	#' '
0893   25D6 99 35 01              	STA 	CRT,Y
0894   25D9 4C B5 25              	JMP 	INCHALNE
0895   25DC             ;			
0896   25DC 20 EA 33    LINEAGN 	JSR 	OUTCR
0897   25DF AD 15 01              	LDA 	AU
0898   25E2 F0 C7                 	BEQ 	INLINE
0899   25E4 20 25 26              	JSR 	PRFIRST 
0900   25E7 4C AD 25              	JMP 	PROMPT
0901   25EA             ;			
0902   25EA C9 18       TSTLINDEL  	CMP 	#$18			; CTRL-X? Cancel?
0903   25EC F0 EE                 	BEQ 	LINEAGN
0904   25EE 99 35 01              	STA 	CRT,Y
0905   25F1 C9 09                 	CMP 	#$09			; tab?
0906   25F3 F0 10                 	BEQ 	PRTAB
0907   25F5 C8                    	INY 	
0908   25F6 C0 50                 	CPY 	#$50
0909   25F8 90 BB                 	BCC 	INCHALNE
0910   25FA A9 07                 	LDA 	#$07			; bell
0911   25FC 20 C4 33              	JSR 	OUTCHAR
0912   25FF A9 08       TSTLNOVFL  	LDA 	#$08
0913   2601 D0 BE                 	BNE 	CURSBACK
0914   2603 F0 96                 	BEQ 	PRCRT2			; 65c02?
0915   2605 98          PRTAB     	TYA 	
0916   2606 48                    	PHA 	
0917   2607 20 FC 33    PRTABSP    	JSR 	OUTSP
0918   260A C8                    	INY 	
0919   260B 98                    	TYA 	
0920   260C 29 07                 	AND 	#$07
0921   260E D0 F7                 	BNE 	PRTABSP
0922   2610 68                    	PLA 	
0923   2611 A8                    	TAY 	
0924   2612 C8                    	INY 	
0925   2613 4C FF 25              	JMP 	TSTLNOVFL		; 65c02 jumps to CPY#$50
0926   2616             ;
0927   2616 A0 55       CLRCRTBUF  	LDY 	#$55
0928   2618 A9 20                 	LDA 	#' '
0929   261A 99 35 01    CLRCRTDO   	STA 	CRT,Y
0930   261D 88                    	DEY 	
0931   261E 10 FA                 	BPL 	CLRCRTDO
0932   2620 C8                    	INY 	
0933   2621 60                    	RTS 
0934   2622             ;			
0935   2622 20 FC 33    PRSPFRST   	JSR 	OUTSP
0936   2625 AD 09 01    PRFIRST    	LDA 	FIRST+1
0937   2628 20 02 34              	JSR 	OUTBYTE
0938   262B AD 08 01              	LDA 	FIRST
0939   262E 20 02 34              	JSR 	OUTBYTE
0940   2631 60                    	RTS 	
0941   2632             ;			
0942   2632 A9 00       PARM     	LDA 	#$00
0943   2634 9D 00 01              	STA 	TXST,X
0944   2637 9D 01 01              	STA 	TXST+1,X
0945   263A 85 DF                 	STA 	SCRAT1
0946   263C 85 E0                 	STA 	SCRAT2
0947   263E 20 6E 26    PARMGET   	JSR 	GETCRTHX
0948   2641 D0 03                 	BNE 	PARMNITST
0949   2643 A2 00                 	LDX 	#$00
0950   2645 60                    	RTS 	
0951   2646             ;			
0952   2646 48          PARMNITST  	PHA 	
0953   2647 A5 DF                 	LDA 	SCRAT1
0954   2649 F0 09                 	BEQ 	PARMNIBOK 
0955   264B AD 11 01              	LDA 	HEXDEC
0956   264E F0 04                 	BEQ 	PARMNIBOK 
0957   2650 A2 00                 	LDX 	#$00
0958   2652 68                    	PLA 	
0959   2653 60                    	RTS 	
0960   2654             			
0961   2654 C8          PARMNIBOK   INY 	
0962   2655 98                    	TYA 	
0963   2656 48                    	PHA 	
0964   2657 A0 04                 	LDY 	#$04
0965   2659 1E 00 01    PARMNIBIN  	ASL 	TXST,X
0966   265C 3E 01 01              	ROL 	TXST+1,X
0967   265F 88                    	DEY 	
0968   2660 D0 F7                 	BNE 	PARMNIBIN
0969   2662 68                    	PLA 	
0970   2663 A8                    	TAY 	
0971   2664 68                    	PLA 	
0972   2665 1D 00 01              	ORA 	TXST,X
0973   2668 9D 00 01              	STA 	TXST,X
0974   266B 4C 3E 26              	JMP 	PARMGET
0975   266E             ;			
0976   266E 20 90 26    GETCRTHX   	JSR 	GETCRTUP
0977   2671 C9 30                 	CMP 	#'0'
0978   2673 90 18                 	BCC 	NOTHEX
0979   2675 C9 3A                 	CMP 	#':'
0980   2677 90 0F                 	BCC 	NUMHEX
0981   2679 C9 41                 	CMP 	#'A'
0982   267B 90 10                 	BCC 	NOTHEX
0983   267D C9 47                 	CMP 	#'G'		
0984   267F B0 0C                 	BCS 	NOTHEX		
0985   2681 29 0F                 	AND 	#$0F
0986   2683 18                    	CLC 	
0987   2684 69 09                 	ADC 	#$09
0988   2686 E6 DF                 	INC 	SCRAT1
0989   2688 29 0F       NUMHEX     	AND 	#$0F
0990   268A E6 E0                 	INC 	SCRAT2
0991   268C 60                    	RTS 	
0992   268D             			
0993   268D A9 00       NOTHEX     	LDA 	#$00
0994   268F 60                    	RTS
0995   2690             ;
0996   2690             ;			
0997   2690 B9 35 01    GETCRTUP   	LDA 	CRT,Y
0998   2693 C9 61       UPPERCASE     	CMP 	#'a'
0999   2695 90 06                 	BCC 	NOTLOWER
1000   2697 C9 7B                 	CMP 	#'{'
1001   2699 B0 02                 	BCS 	NOTLOWER
1002   269B 29 DF                 	AND 	#SCRAT1
1003   269D 60          NOTLOWER   	RTS 
1004   269E             ;	
1005   269E A9 00       SRCHCOM    	LDA 	#$00
1006   26A0 F0 06                 	BEQ 	STRTSRCH 
1007   26A2 A9 01       SRCHMNEM   	LDA 	#$01
1008   26A4 D0 02                 	BNE 	STRTSRCH 
1009   26A6 A9 FF       SRCHMODS   	LDA 	#$FF
1010   26A8 85 E1       STRTSRCH   	STA 	SCRAT3
1011   26AA 84 E2                 	STY 	SCRAT4
1012   26AC A4 E2       CONTSRCH   	LDY 	SCRAT4
1013   26AE A5 E1       CMPNXT     	LDA 	SCRAT3
1014   26B0 F0 0E                 	BEQ 	CMPCOM
1015   26B2 10 06                 	BPL 	CMPMODS
1016   26B4 BD B7 28              	LDA 	MNEMMODS,X
1017   26B7 D0 0D                 	BNE 	COMPARE
1018   26B9 60                    	RTS 
1019   26BA             ;			
1020   26BA BD 31 28    CMPMODS    	LDA 	MNEMTABLE,X
1021   26BD D0 07                 	BNE 	COMPARE
1022   26BF 60                    	RTS 	
1023   26C0 BD 31 27    CMPCOM     	LDA 	COMTABLE,X
1024   26C3 D0 01                 	BNE 	COMPARE
1025   26C5 60                    	RTS 
1026   26C6             			
1027   26C6 8D 1A 01    COMPARE     STA 	ADDPAD
1028   26C9 20 90 26              	JSR 	GETCRTUP
1029   26CC CD 1A 01              	CMP 	ADDPAD
1030   26CF 08                    	PHP 	
1031   26D0 98                    	TYA 	
1032   26D1 38                    	SEC 	
1033   26D2 E5 E2                 	SBC 	SCRAT4
1034   26D4 C8                    	INY 	
1035   26D5 E8                    	INX 	
1036   26D6 28                    	PLP 	
1037   26D7 F0 22                 	BEQ 	MATCH23
1038   26D9 C9 01                 	CMP 	#$01
1039   26DB F0 05                 	BEQ 	FALSE2ND
1040   26DD C9 02                 	CMP 	#$02
1041   26DF F0 02                 	BEQ 	FALSE3TH
1042   26E1 E8                    	INX 	
1043   26E2 E8          FALSE2ND   	INX 	
1044   26E3 E8          FALSE3TH   	INX 	
1045   26E4 A5 E1                 	LDA 	SCRAT3
1046   26E6 30 05                 	BMI 	SKIPOPS
1047   26E8 D0 C2                 	BNE 	CONTSRCH
1048   26EA 4C AC 26              	JMP 	CONTSRCH
1049   26ED             ;			
1050   26ED BD B6 28    SKIPOPS    	LDA 	MNEMMODS-1,X
1051   26F0 29 0F                 	AND 	#$0F
1052   26F2 86 E0                 	STX 	SCRAT2
1053   26F4 38                    	SEC 	
1054   26F5 65 E0                 	ADC 	SCRAT2
1055   26F7 AA                    	TAX 	
1056   26F8 4C AC 26              	JMP 	CONTSRCH
1057   26FB             ;			
1058   26FB 48          MATCH23    	PHA 	
1059   26FC A5 E1                 	LDA 	SCRAT3
1060   26FE D0 07                 	BNE 	MATCH3
1061   2700 68                    	PLA 	
1062   2701 C9 01                 	CMP 	#$01
1063   2703 D0 A9                 	BNE 	CMPNXT
1064   2705 F0 05                 	BEQ 	MATCHOK 
1065   2707 68          MATCH3     	PLA 	
1066   2708 C9 02                 	CMP 	#$02
1067   270A D0 A2                 	BNE 	CMPNXT
1068   270C A5 E1       MATCHOK    	LDA 	SCRAT3
1069   270E F0 03                 	BEQ 	XPSEUCOM
1070   2710 86 D0                 	STX 	PNTR
1071   2712 60                    	RTS 
1072   2713             ;			
1073   2713 BD 31 27    XPSEUCOM   LDA 		COMTABLE,X
1074   2716 85 E1                 	STA 	SCRAT3
1075   2718 BD 32 27              	LDA 	COMTABLE+1,X
1076   271B 85 E2                 	STA 	SCRAT4
1077   271D 68                    	PLA 	
1078   271E 68                    	PLA 	
1079   271F E0 85                 	CPX 	#PSEUTABLE-COMTABLE
1080   2721 B0 06                 	BCS 	EXPSEU
1081   2723 20 0D 25              	JSR 	NXTWORD
1082   2726 4C 2C 27              	JMP 	EXCOM
1083   2729             ;			
1084   2729 20 10 25    EXPSEU     	JSR 	NXTLETTER
1085   272C A2 00       EXCOM     	LDX 	#$00
1086   272E 6C E1 00              	JMP 	(SCRAT3)
1087   2731             ;
1088   2731             ; Command table  
1089   2731             ;			
1090   2731             COMTABLE  
1091   2731 42 52       			.TEXT "BR"
1092   2733 A4 20       			.WORD  BREAK
1093   2735 43 4C       			.TEXT "CL"
1094   2737 4D 20       			.WORD  CLEAR
1095   2739 50 55       			.TEXT "PU"
1096   273B 44 35       			.WORD  PUT
1097   273D 46 4F       			.TEXT "FO"
1098   273F C0 20       			.WORD  FORMAT1
1099   2741 50 52       			.TEXT "PR"
1100   2743 4A 21       			.WORD  PRINTP
1101   2745 41 55       			.TEXT "AU"
1102   2747 B2 20       			.WORD  AUTO
1103   2749 41 53       			.TEXT "AS"
1104   274B FA 20       			.WORD  ASSMBLE
1105   274D 50 41       			.TEXT "PA"
1106   274F CD 32       			.WORD  PASS1
1107   2751 52 55       			.TEXT "RU"
1108   2753 33 21       			.WORD  RUN
1109   2755 4D 41       			.TEXT "MA"
1110   2757 EA 20       			.WORD  MANUSCR
1111   2759 4F 55       			.TEXT "OU"
1112   275B A0 2B       			.WORD  OUTPUT
1113   275D 4F 4E       			.TEXT "ON"
1114   275F 70 33       			.WORD  ON
1115   2761 4F 46       			.TEXT "OF"
1116   2763 53 33       			.WORD  OFF
1117   2765 48 41       			.TEXT "HA"
1118   2767 2F 39       			.WORD  HARD
1119   2769 47 45       			.TEXT "GE"
1120   276B BA 20       			.WORD  GET1
1121   276D 4C 41       			.TEXT "LA"
1122   276F 20 2F       			.WORD  LABELS
1123   2771 45 44       			.TEXT "ED"
1124   2773 3C 36       			.WORD  EDIT
1125   2775 4E 55       			.TEXT "NU"
1126   2777 1D 34       			.WORD  NUMBER
1127   2779 44 45       			.TEXT "DE"
1128   277B AD 3A       			.WORD  DELETE
1129   277D 46 49       			.TEXT "FI"
1130   277F 36 36       			.WORD  FIND
1131   2781 4D 4F       			.TEXT "MO"
1132   2783 A4 3A       			.WORD  MOVE
1133   2785 43 4F       			.TEXT "CO"
1134   2787 61 39       			.WORD  COPY
1135   2789 53 45       			.TEXT "SE"
1136   278B DA 3A       			.WORD  SET
1137   278D 55 53       			.TEXT "US"
1138   278F 03 00       			.WORD USRVECTOR
1139   2791 44 55       			.TEXT "DU"
1140   2793 68 3B       			.WORD  DUPLCT
1141   2795 45 4E       			.TEXT "EN"
1142   2797 9E 3B       			.WORD  ENTER
1143   2799 4C 4F       			.TEXT "LO"
1144   279B AF 3B       			.WORD  LOOKUP
1145   279D 44 43       			.TEXT "DC"
1146   279F C0 3B       			.WORD  DISCCOM
1147   27A1             ;			
1148   27A1 00 00 00 00  			.BYTE 	$00, $00, $00, $00, $00
1148   27A5 00 
1149   27A6 00 00 00 00 			.BYTE 	$00, $00, $00, $00, $00
1149   27AA 00 
1150   27AB 00          			.BYTE 	$00
1151   27AC             			
1152   27AC D0 04       BRA1     	BNE 	BRA2
1153   27AE 68                    	PLA 	
1154   27AF 4C 5E 2D              	JMP 	BRA
1155   27B2             ;
1156   27B2 68          BRA2     	PLA 	
1157   27B3 4C 53 2D              	JMP 	RANGEER
1158   27B6             ;			
1159   27B6             PSEUTABLE 
1160   27B6 53 49       			.TEXT 	"SI"
1161   27B8 3F 2A       			.WORD 	SI
1162   27BA 42 41       			.TEXT 	"BA"
1163   27BC 53 2A       			.WORD 	BA
1164   27BE 45 4E       			.TEXT 	"EN"
1165   27C0 5C 2B       			.WORD 	EN
1166   27C2 42 59       			.TEXT 	"BY"
1167   27C4 BD 2A       			.WORD 	BY
1168   27C6 53 45       			.TEXT 	"SE"
1169   27C8 48 2A       			.WORD 	SE
1170   27CA 44 49       			.TEXT 	"DI"
1171   27CC F7 2A       			.WORD 	DI
1172   27CE 4C 53       			.TEXT 	"LS"
1173   27D0 34 2A       			.WORD 	LS
1174   27D2 4C 43       			.TEXT 	"LC"
1175   27D4 39 2A       			.WORD 	LC
1176   27D6 4D 43       			.TEXT 	"MC"
1177   27D8 93 2A       			.WORD 	MC
1178   27DA 4F 43       			.TEXT 	"OC"
1179   27DC 2A 2A       			.WORD 	OC
1180   27DE 4F 53       			.TEXT 	"OS"
1181   27E0 25 2A       			.WORD 	OS
1182   27E2 43 45       			.TEXT 	"CE"
1183   27E4 20 2A       			.WORD 	CE
1184   27E6 43 54       			.TEXT 	"CT"
1185   27E8 2F 2A       			.WORD 	CT
1186   27EA 52 53       			.TEXT 	"RS"
1187   27EC 1B 2A       			.WORD 	RS
1188   27EE 44 45       			.TEXT 	"DE"
1189   27F0 00 2B       			.WORD 	DE
1190   27F2 52 43       			.TEXT 	"RC"
1191   27F4 57 34       			.WORD 	RC
1192   27F6 44 53       			.TEXT 	"DS"
1193   27F8 A5 29       			.WORD 	DS
1194   27FA 45 53       			.TEXT 	"ES"
1195   27FC 5B 3E       			.WORD 	ES
1196   27FE 45 43       			.TEXT 	"EC"
1197   2800 60 3E       			.WORD 	EC
1198   2802 45 4A       			.TEXT 	"EJ"
1199   2804 04 2A       			.WORD 	EJ
1200   2806 4D 44       			.TEXT 	"MD"
1201   2808 A7 3E       			.WORD 	MD
1202   280A 4D 45       			.TEXT 	"ME"
1203   280C 4D 3F       			.WORD 	ME
1204   280E 4D 47       			.TEXT 	"MG"
1205   2810 A0 29       			.WORD 	MG
1206   2812             ;
1207   2812 00 00 00 00 			.BYTE	$00, $00, $00, $00, $00
1207   2816 00 
1208   2817 00 00 00 00 			.BYTE	$00, $00, $00, $00, $00
1208   281B 00 
1209   281C 00 00 00 00 			.BYTE	$00, $00, $00, $00, $00
1209   2820 00 
1210   2821 00 00 00 00 			.BYTE	$00, $00, $00, $00, $00
1210   2825 00 
1211   2826 00          			.BYTE   $00	
1212   2827             
1213   2827             ;
1214   2827 41 20       MODACCU 	.TEXT 	"A "
1215   2829 EA 2D       			.WORD	ACCU
1216   282B 00          			.BYTE 	$00
1217   282C             ;
1218   282C 29 20       MODIND 		.TEXT 	") "
1219   282E 2A 2E       			.WORD 	INDABS
1220   2830 00          			.BYTE 	$00
1221   2831             			
1222   2831             MNEMTABLE  	
1223   2831 54 41 58    			.TEXT 	"TAX" 
1224   2834 AA          			.BYTE	$AA
1225   2835 54 41 59    			.TEXT "TAY" 
1226   2838 A8          			.BYTE	$A8
1227   2839 54 53 58    			.TEXT "TSX" 
1228   283C BA          			.BYTE	$BA
1229   283D 54 58 41    			.TEXT "TXA" 
1230   2840 8A          			.BYTE	$8A
1231   2841 54 58 53    			.TEXT "TXS" 
1232   2844 9A          			.BYTE	$9A
1233   2845 54 59 41    			.TEXT "TYA" 
1234   2848 98          			.BYTE	$98
1235   2849 43 4C 43    			.TEXT "CLC" 
1236   284C 18          			.BYTE	$18
1237   284D 43 4C 44    			.TEXT "CLD" 
1238   2850 D8          			.BYTE	$D8
1239   2851 43 4C 49    			.TEXT "CLI" 
1240   2854 58          			.BYTE	$58
1241   2855 43 4C 56    			.TEXT "CLV" 
1242   2858 B8          			.BYTE	$B8
1243   2859 53 45 43    			.TEXT "SEC" 
1244   285C 38          			.BYTE	$38
1245   285D 53 45 44    			.TEXT "SED" 
1246   2860 F8          			.BYTE	$F8
1247   2861 53 45 49    			.TEXT "SEI" 
1248   2864 78          			.BYTE	$78
1249   2865 4E 4F 50     			.TEXT "NOP" 
1250   2868 EA          			.BYTE	$EA
1251   2869 52 54 49     			.TEXT "RTI" 
1252   286C 40          			.BYTE	$40
1253   286D 52 54 53     			.TEXT "RTS" 
1254   2870 60          			.BYTE	$60
1255   2871 44 45 58     			.TEXT "DEX" 
1256   2874 CA          			.BYTE	$CA
1257   2875 44 45 59     			.TEXT "DEY" 
1258   2878 88          			.BYTE	$88
1259   2879 49 4E 58     			.TEXT "INX" 
1260   287C E8          			.BYTE	$E8
1261   287D 49 4E 59     			.TEXT "INY" 
1262   2880 C8          			.BYTE	$C8
1263   2881 50 48 41     			.TEXT "PHA" 
1264   2884 48          			.BYTE	$48
1265   2885 50 48 50     			.TEXT "PHP" 
1266   2888 08          			.BYTE	$08
1267   2889 50 4C 41     			.TEXT "PLA" 
1268   288C 68          			.BYTE	$68
1269   288D 50 4C 50     			.TEXT "PLP" 
1270   2890 28          			.BYTE	$28
1271   2891 42 52 4B     			.TEXT "BRK" 
1272   2894 00          			.BYTE	$00		
1273   2895             ;
1274   2895 00          			.BYTE 	$00 
1275   2896             ;			
1276   2896             MNEMBRA 
1277   2896 42 43 43    			.TEXT  "BCC" 
1278   2899 90          			.BYTE 	$90
1279   289A 42 43 53    			.TEXT  "BCS" 
1280   289D B0          			.BYTE 	$B0
1281   289E 42 45 51    			.TEXT  "BEQ" 
1282   28A1 F0          			.BYTE 	$F0
1283   28A2 42 4D 49    			.TEXT  "BMI" 
1284   28A5 30          			.BYTE 	$30
1285   28A6 42 4E 45    			.TEXT  "BNE" 
1286   28A9 D0          			.BYTE 	$D0
1287   28AA 42 50 4C    			.TEXT  "BPL" 
1288   28AD 10          			.BYTE 	$10
1289   28AE 42 56 43    			.TEXT  "BVC" 
1290   28B1 50          			.BYTE 	$50
1291   28B2 42 56 53    			.TEXT  "BVS" 
1292   28B5 70          			.BYTE 	$70
1293   28B6             			
1294   28B6 00          			.BYTE $00			
1295   28B7             ;		
1296   28B7 52 4F 52    MNEMMODS  	.TEXT  "ROR" 
1297   28BA C5          			.BYTE	%11000000+5 
1298   28BB C1          			.BYTE	%11000001
1299   28BC 6E 7E 66 76  			.BYTE  $6E,$7E,$66,$76,$6A
1299   28C0 6A 
1300   28C1             ;			
1301   28C1 41 44 43     			.TEXT  "ADC" 
1302   28C4 E8          			.BYTE  %11100000+8
1303   28C5 DA          			.BYTE  %11011010
1304   28C6 6D 7D 79 65  			.BYTE $6D, $7D, $79, $65,  $75,  $71, $61 , $69
1304   28CA 75 71 61 69 
1305   28CE             ;			
1306   28CE 41 4E 44     			.TEXT  "AND" 
1307   28D1 E8          			.BYTE  %11100000+8 
1308   28D2 DA          			.BYTE  %11011010
1309   28D3 2D 3D 39 25  			.BYTE $2D , $3D , $39 , $25 , $35 , $31 , $21 , $29
1309   28D7 35 31 21 29 
1310   28DB             ;			
1311   28DB 41 53 4C     			.TEXT  "ASL" 
1312   28DE C5          			.BYTE  %11000000+5 
1313   28DF C1          			.BYTE  %11000001
1314   28E0 0E 1E 06 16  			.BYTE $0E , $1E , $06 , $16 , $0A
1314   28E4 0A 
1315   28E5             ;			
1316   28E5 42 49 54     			.TEXT  "BIT" 
1317   28E8 82          			.BYTE  %10000000+2 
1318   28E9 80          			.BYTE  %10000000
1319   28EA 2C 24        			.BYTE $2C , $24
1320   28EC             ;			
1321   28EC 43 4D 50     			.TEXT  "CMP" 
1322   28EF E8          			.BYTE  %11100000+8 
1323   28F0 DA          			.BYTE  %11011010
1324   28F1 CD DD D9 C5  			.BYTE $CD , $DD ,$D9 , $C5 , $D5 , $D1 , $C1 , $C9
1324   28F5 D5 D1 C1 C9 
1325   28F9             ;			
1326   28F9 43 50 58     			.TEXT  "CPX" 
1327   28FC 83          			.BYTE  %10000000+3 
1328   28FD 82          			.BYTE  %10000010
1329   28FE EC E4 E0     			.BYTE $EC , $E4 , $E0
1330   2901             ;			
1331   2901 43 50 59     			.TEXT  "CPY" 
1332   2904 83          			.BYTE  %10000000+3 
1333   2905 82          			.BYTE  %10000010
1334   2906 CC C4 C0     			.BYTE $CC , $C4 , $C0
1335   2909             ;			
1336   2909 44 45 43     			.TEXT  "DEC" 
1337   290C C4          			.BYTE  %11000000+4 
1338   290D C0          			.BYTE  %11000000
1339   290E CE DE C6 D6  			.BYTE $CE , $DE , $C6 , $D6
1340   2912             ;			
1341   2912 45 4F 52     			.TEXT  "EOR" 
1342   2915 E8          			.BYTE  %11100000+8 
1343   2916 DA          			.BYTE  %11011010
1344   2917 4D 5D 59 45  			.BYTE $4D , $5D , $59 , $45 , $55 , $51 , $41 , $49
1344   291B 55 51 41 49 
1345   291F             ;			
1346   291F 49 4E 43     			.TEXT  "INC" 
1347   2922 C4          			.BYTE  %11000000+4 
1348   2923 C0          			.BYTE  %11000000
1349   2924 EE FE E6 F6  			.BYTE  $EE , $FE , $E6 , $F6
1350   2928             ;			
1351   2928 4A 4D 50     			.TEXT  "JMP" 
1352   292B 92          			.BYTE  %10010000+2 
1353   292C 00          			.BYTE  %00000000
1354   292D 4C 6C        			.BYTE  $4C , $6C
1355   292F             ;			
1356   292F 4C 44 41     			.TEXT  "LDA" 
1357   2932 E8          			.BYTE  %11100000+8 
1358   2933 DA          			.BYTE  %11011010
1359   2934 AD BD B9 A5 			.BYTE  $AD , $BD , $B9 , $A5 , $B5 , $B1 , $A1 , $A9
1359   2938 B5 B1 A1 A9 
1360   293C             ;
1361   293C             ; 			.BYTE  $AE , $BE , $A6 , $B6 , $A2						;65C02?
1362   293C             ;			
1363   293C 4C 44 58    			.TEXT 	"LDX"
1364   293F A5          			.BYTE	%10100000+5 
1365   2940 A2          			.BYTE	%10100010
1366   2941 AE BE A6 B6 			.BYTE 	$AE, CALLEXP, $A6, $B6, $A2
1366   2945 A2 
1367   2946             ;
1368   2946 4C 44 59     			.TEXT  "LDY" 
1369   2949 C5          			.BYTE  %11000000+5 
1370   294A C2          			.BYTE  %11000010
1371   294B AC BC A4 B4  			.BYTE  $AC, $BC, $A4, $B4, $A0
1371   294F A0 
1372   2950             ;			
1373   2950 4C 53 52     			.TEXT  "LSR" 
1374   2953 C4          			.BYTE  %11000000+4 
1375   2954 C1          			.BYTE  %11000001
1376   2955 4E 5E 46 56  			.BYTE  $4E , $5E , $46 , $56
1377   2959             ;			
1378   2959 4A 53 52     			.TEXT  "JSR" 
1379   295C 81          			.BYTE  %10000000+1 
1380   295D 00          			.BYTE  %00000000
1381   295E 20           			.BYTE  $20
1382   295F             ;			
1383   295F 4F 52 41     			.TEXT  "ORA" 
1384   2962 E8          			.BYTE  %11100000+8 
1385   2963 DA          			.BYTE  %11011010
1386   2964 0D 1D 19 05  			.BYTE  $0D , $1D , $19 , $05 , $15 , $11 , $01 , $09
1386   2968 15 11 01 09 
1387   296C             ;			
1388   296C 52 4F 4C     			.TEXT  "ROL" 
1389   296F C5          			.BYTE  %11000000+5 
1390   2970 C1          			.BYTE  %11000001
1391   2971 2E 3E 26 36  			.BYTE  $2E , $3E , $26 , $36 , $2A
1391   2975 2A 
1392   2976             ;			
1393   2976 53 42 43     			.TEXT  "SBC" 
1394   2979 E8          			.BYTE  %11100000+8 
1395   297A DA          			.BYTE  %11011010
1396   297B ED FD F9 E5  			.BYTE  $ED , $FD , $F9 , $E5 , $F5 , $F1 , $E1 , $E9
1396   297F F5 F1 E1 E9 
1397   2983             ;			
1398   2983 53 54 41     			.TEXT  "STA" 
1399   2986 E7          			.BYTE  %11100000+7 
1400   2987 D8          			.BYTE  %11011000
1401   2988 8D 9D 99 85  			.BYTE  $8D , $9D , $99 , $85 , $95 , $91 , $81
1401   298C 95 91 81 
1402   298F             ;			
1403   298F 53 54 58     			.TEXT  "STX" 
1404   2992 83          			.BYTE  %10000000+3 
1405   2993 A0          			.BYTE  %10100000
1406   2994 8E 86 96     			.BYTE  $8E , $86 , $96
1407   2997             ;			
1408   2997 53 54 59     			.TEXT  "STY" 
1409   299A 83          			.BYTE  %10000000+3 
1410   299B C0          			.BYTE  %11000000
1411   299C 8C 84 94     			.BYTE  $8C , $84 , $94
1412   299F             ;			
1413   299F 00           			.BYTE $00
1414   29A0              			
1415   29A0             ;	
1416   29A0 E6 CA       MG      	INC 	MGFLAG
1417   29A2 4C 04 2C              	JMP 	ASGOON
1418   29A5             ;			
1419   29A5 AD 17 01    DS         	LDA 	TLIST
1420   29A8 F0 12                 	BEQ 	BLOCKSIZE
1421   29AA AD 13 01              	LDA 	PASS
1422   29AD C9 01                 	CMP 	#$01
1423   29AF D0 0B                 	BNE 	BLOCKSIZE
1424   29B1 A5 BC                 	LDA 	MACEXPAND
1425   29B3 D0 07                 	BNE 	BLOCKSIZE
1426   29B5 20 DF 2E              	JSR 	PRPC
1427   29B8 A9 05                 	LDA 	#$05
1428   29BA 85 E7                 	STA 	LNINDEX
1429   29BC 20 60 32    BLOCKSIZE  	JSR 	OPERTST
1430   29BF AD 1A 01              	LDA 	ADDPAD
1431   29C2 F0 06                 	BEQ 	EXDS
1432   29C4 8C 12 01              	STY 	TERM
1433   29C7 4C 47 24              	JMP 	ERR.4			;OPERAND UNDEFINED 
1434   29CA             ;			
1435   29CA A5 D1       EXDS     	LDA 	PROCADDRS
1436   29CC 18                    	CLC 	
1437   29CD 65 D7                 	ADC 	PC
1438   29CF 85 D7                 	STA 	PC
1439   29D1 A5 D2                 	LDA 	PROCADDRS+1
1440   29D3 65 D8                 	ADC 	PC+1
1441   29D5 85 D8                 	STA 	PC+1
1442   29D7 A5 D1                 	LDA 	PROCADDRS
1443   29D9 18                    	CLC 	
1444   29DA 65 D9                 	ADC 	REL
1445   29DC 85 D9                 	STA 	REL
1446   29DE A5 D2                 	LDA 	PROCADDRS+1
1447   29E0 65 DA                 	ADC 	REL+1
1448   29E2 85 DA                 	STA 	REL+1
1449   29E4 AD 13 01              	LDA 	PASS
1450   29E7 10 18                 	BPL 	ASGOON1
1451   29E9 A9 7F                 	LDA 	#$7F
1452   29EB EE 11 01              	INC 	HEXDEC
1453   29EE 20 90 2E              	JSR 	STPROB
1454   29F1 A5 D1                 	LDA 	PROCADDRS
1455   29F3 EE 11 01              	INC 	HEXDEC
1456   29F6 20 90 2E              	JSR 	STPROB
1457   29F9 A5 D2                 	LDA 	PROCADDRS+1
1458   29FB EE 11 01              	INC 	HEXDEC
1459   29FE 20 90 2E              	JSR 	STPROB
1460   2A01 4C 04 2C    ASGOON1    	JMP 	ASGOON
1461   2A04             
1462   2A04 AD 13 01    EJ         	LDA 	PASS
1463   2A07 F0 0F                 	BEQ 	ASGOON2 
1464   2A09 30 0D                 	BMI 	ASGOON2 
1465   2A0B AD 17 01              	LDA 	TLIST
1466   2A0E F0 08                 	BEQ 	ASGOON2 
1467   2A10 AD 1F 01              	LDA 	PRINTCTL
1468   2A13 F0 03                 	BEQ 	ASGOON2 
1469   2A15 20 EE 38              	JSR 	HAPAGE 
1470   2A18 4C 04 2C    ASGOON2    	JMP 	ASGOON
1471   2A1B             
1472   2A1B A9 5F       RS         	LDA 	#$5F
1473   2A1D 4C BB 2D              	JMP 	P3RDIR
1474   2A20             ;			
1475   2A20 8E 12 01    CE         	STX 	TERM
1476   2A23 F0 17                 	BEQ 	ASGOON3
1477   2A25             ;			
1478   2A25 8C 16 01    OS         	STY 	OSTORE
1479   2A28 F0 12                 	BEQ 	ASGOON3
1480   2A2A             ;			
1481   2A2A 8E 16 01    OC         	STX 	OSTORE
1482   2A2D F0 0D                 	BEQ 	ASGOON3
1483   2A2F             ;			
1484   2A2F 8C 14 01    CT         	STY 	CONTAPE
1485   2A32 F0 08                 	BEQ 	ASGOON3
1486   2A34             ;			
1487   2A34 8C 17 01    LS         	STY 	TLIST
1488   2A37 F0 03                 	BEQ 	ASGOON3
1489   2A39             ;			
1490   2A39 8E 17 01    LC         	STX 	TLIST
1491   2A3C 4C 04 2C    ASGOON3    	JMP 	ASGOON
1492   2A3F             
1493   2A3F 20 60 32    SI         	JSR 	OPERTST
1494   2A42 EE 1E 01              	INC 	EXT
1495   2A45 4C 47 22              	JMP 	SEILOW 
1496   2A48             
1497   2A48 20 60 32    SE         	JSR 	OPERTST
1498   2A4B A2 00                 	LDX 	#$00
1499   2A4D 8E 1E 01              	STX 	EXT
1500   2A50 4C 47 22              	JMP 	SEILOW 
1501   2A53             			
1502   2A53 A5 DD       BA         	LDA 	SCRAT0
1503   2A55 48                    	PHA 	
1504   2A56 A5 DE                 	LDA 	SCRAT0+1
1505   2A58 48                    	PHA 	
1506   2A59 20 60 32              	JSR 	OPERTST
1507   2A5C AD 1A 01              	LDA  	ADDPAD
1508   2A5F F0 06                 	BEQ 	EXBA
1509   2A61 8C 12 01              	STY 	TERM
1510   2A64 4C 47 24              	JMP 	ERR.4
1511   2A67             			
1512   2A67 68          EXBA     	PLA 	
1513   2A68 85 DE                 	STA 	SCRAT0+1
1514   2A6A 68                    	PLA 	
1515   2A6B 85 DD                 	STA 	SCRAT0
1516   2A6D A5 D1                 	LDA 	PROCADDRS
1517   2A6F 85 D7                 	STA 	PC
1518   2A71 85 D9                 	STA 	REL
1519   2A73 A5 D2                 	LDA 	PROCADDRS+1
1520   2A75 85 D8                 	STA 	PC+1
1521   2A77 85 DA                 	STA 	REL+1
1522   2A79 AD 35 01              	LDA 	CRT
1523   2A7C C9 20                 	CMP 	#' '
1524   2A7E F0 08                 	BEQ 	BAP3
1525   2A80 AD 13 01              	LDA 	PASS
1526   2A83 D0 03                 	BNE 	BAP3
1527   2A85 20 50 2B              	JSR 	CHNGEVALUE
1528   2A88 AD 13 01    BAP3     	LDA 	PASS
1529   2A8B 10 03                 	BPL 	ASGOON4
1530   2A8D 20 0D 2F              	JSR 	PUTRBUFR 
1531   2A90 4C 04 2C    ASGOON4    	JMP 	ASGOON
1532   2A93             ;
1533   2A93 AD 12 01    MC         	LDA 	TERM
1534   2A96 48                    	PHA 	
1535   2A97 8C 12 01              	STY 	TERM
1536   2A9A 20 60 32              	JSR 	OPERTST
1537   2A9D 68                    	PLA 	
1538   2A9E 8D 12 01              	STA 	TERM
1539   2AA1 A5 D1                 	LDA 	PROCADDRS
1540   2AA3 85 D9                 	STA 	REL
1541   2AA5 A5 D2                 	LDA 	PROCADDRS+1
1542   2AA7 85 DA                 	STA 	REL+1
1543   2AA9 4C 04 2C              	JMP 	ASGOON
1544   2AAC             ;			
1545   2AAC 20 60 32    BYOPER     	JSR 	OPERTST
1546   2AAF A5 D1                 	LDA 	PROCADDRS
1547   2AB1 20 E4 2A              	JSR 	BYSTORE 
1548   2AB4 20 10 25    BYDONE     	JSR 	NXTLETTER
1549   2AB7 C0 50                 	CPY 	#$50
1550   2AB9 B0 D5                 	BCS 	ASGOON4
1551   2ABB 90 0A                 	BCC 	BYOPRS
1552   2ABD             ;			
1553   2ABD C0 50       BY         	CPY 	#$50
1554   2ABF 90 06                 	BCC 	BYOPRS
1555   2AC1 20 41 24    OPER      	JSR 	ERR.A
1556   2AC4 4C 04 2C              	JMP 	ASGOON
1557   2AC7             ;
1558   2AC7 C9 3B       BYOPRS     	CMP 	#$3B			; ';'
1559   2AC9 F0 C5                 	BEQ 	ASGOON4
1560   2ACB C9 27                 	CMP 	#$27			; '
1561   2ACD D0 DD                 	BNE 	BYOPER
1562   2ACF C8          BYSTRING   	INY 	
1563   2AD0 C0 50                 	CPY 	#$50
1564   2AD2 B0 ED                 	BCS 	OPER 
1565   2AD4 B9 35 01              	LDA 	CRT,Y
1566   2AD7 C9 27                 	CMP 	#$27			; '
1567   2AD9 D0 03                 	BNE 	BYNXTCH
1568   2ADB C8                    	INY 	
1569   2ADC D0 D6                 	BNE 	BYDONE
1570   2ADE             ;
1571   2ADE 20 E4 2A    BYNXTCH    	JSR 	BYSTORE 
1572   2AE1 B8                    	CLV 	
1573   2AE2 50 EB                 	BVC 	BYSTRING
1574   2AE4             ;			
1575   2AE4 48          BYSTORE    	PHA 	
1576   2AE5 AD 13 01              	LDA 	PASS
1577   2AE8 10 08                 	BPL 	BYSTDAT
1578   2AEA A9 3F                 	LDA 	#$3F
1579   2AEC EE 11 01              	INC 	HEXDEC
1580   2AEF 20 90 2E              	JSR 	STPROB
1581   2AF2 68          BYSTDAT    	PLA 	
1582   2AF3 20 90 2E              	JSR 	STPROB
1583   2AF6 60                    	RTS 
1584   2AF7             ;			
1585   2AF7 20 28 2B    DI         	JSR 	DEFLAB
1586   2AFA 20 50 2B              	JSR 	CHNGEVALUE
1587   2AFD 4C 04 2C              	JMP 	ASGOON
1588   2B00             ;			
1589   2B00 20 28 2B    DE         	JSR 	DEFLAB
1590   2B03 D0 1D                 	BNE 	EXTMARKED
1591   2B05 A0 01                 	LDY 	#$01
1592   2B07 C8          MARKEXT    	INY 	
1593   2B08 B1 CE                 	LDA 	(SAVE),Y
1594   2B0A 10 FB                 	BPL 	MARKEXT
1595   2B0C B1 CE       INSERT     	LDA 	(SAVE),Y
1596   2B0E C8                    	INY 	
1597   2B0F 91 CE                 	STA 	(SAVE),Y
1598   2B11 88                    	DEY 	
1599   2B12 88                    	DEY 	
1600   2B13 C0 01                 	CPY 	#$01
1601   2B15 D0 F5                 	BNE 	INSERT
1602   2B17 C8                    	INY 	
1603   2B18 A9 2F                 	LDA 	#$2F
1604   2B1A 91 CE                 	STA 	(SAVE),Y
1605   2B1C 20 D6 24              	JSR 	INCSPRES
1606   2B1F 20 75 30              	JSR 	STEND0
1607   2B22 20 50 2B    EXTMARKED  	JSR 	CHNGEVALUE
1608   2B25 4C 04 2C              	JMP 	ASGOON
1609   2B28             ;			
1610   2B28 20 60 32    DEFLAB     	JSR 	OPERTST
1611   2B2B AD 35 01              	LDA 	CRT
1612   2B2E C9 20                 	CMP 	#$20
1613   2B30 D0 06                 	BNE 	LABWHERE
1614   2B32 20 46 24              	JSR 	ERR.5
1615   2B35 4C 04 2C              	JMP 	ASGOON
1616   2B38             ;			
1617   2B38 A0 00       LABWHERE   	LDY 	#$00
1618   2B3A 20 30 31              	JSR 	EVLABEX 
1619   2B3D A5 DD                 	LDA 	SCRAT0
1620   2B3F 85 CE                 	STA 	SAVE
1621   2B41 A5 DE                 	LDA 	SCRAT0+1
1622   2B43 85 CF                 	STA 	SAVE+1
1623   2B45 AD 13 01              	LDA 	PASS
1624   2B48 F0 05                 	BEQ 	RETZIFP1
1625   2B4A 8E 1E 01              	STX 	EXT
1626   2B4D A9 FF                 	LDA 	#$FF
1627   2B4F 60          RETZIFP1   	RTS 
1628   2B50             	
1629   2B50 A0 00       CHNGEVALUE 	LDY 	#$00
1630   2B52 A5 D1                 	LDA 	PROCADDRS
1631   2B54 91 CE                 	STA 	(SAVE),Y
1632   2B56 C8                    	INY 	
1633   2B57 A5 D2                 	LDA 	PROCADDRS+1
1634   2B59 91 CE                 	STA 	(SAVE),Y
1635   2B5B 60                    	RTS 
1636   2B5C             ;			
1637   2B5C 20 67 2F    EN         	JSR 	PRASLIN 
1638   2B5F A5 BC                 	LDA 	MACEXPAND
1639   2B61 D0 0A                 	BNE 	MACEXPEN
1640   2B63 A5 BF                 	LDA 	CONDSUP
1641   2B65 D0 0A                 	BNE 	CONSUPEN
1642   2B67 A5 BB                 	LDA 	MACSUPPRS
1643   2B69 D0 0A                 	BNE 	MACDEFEN
1644   2B6B F0 0D                 	BEQ 	EXEN
1645   2B6D             ;
1646   2B6D A2 21       MACEXPEN   	LDX 	#$21
1647   2B6F D0 06                 	BNE 	ERR01				;MACRO IN EXP STATE AT .EN 
1648   2B71             ;			
1649   2B71 A2 22       CONSUPEN   	LDX 	#$22
1650   2B73 D0 02                 	BNE 	ERR01
1651   2B75             ;
1652   2B75 A2 23       MACDEFEN   	LDX 	#$23
1653   2B77 20 4B 24    ERR01     	JSR 	ERR.0				;MACRO DEF INCOMPLETE AT .EN 
1654   2B7A AD 13 01    EXEN     	LDA 	PASS
1655   2B7D F0 0E                 	BEQ 	STRTPASS2
1656   2B7F 30 06                 	BMI 	ENPASS3
1657   2B81 AD 17 01              	LDA 	TLIST
1658   2B84 4C 1E 2F              	JMP 	ENPASS2
1659   2B87             ;
1660   2B87 20 0D 2F    ENPASS3    	JSR 	PUTRBUFR 
1661   2B8A 4C 56 20              	JMP 	MONL0OFF
1662   2B8D             ;
1663   2B8D EE 13 01    STRTPASS2  	INC 	PASS
1664   2B90 AD 14 01              	LDA 	CONTAPE
1665   2B93 F0 1C                 	BEQ 	ASAUTOP2
1666   2B95 20 BD 33              	JSR 	TD0OFW
1667   2B98 A0 2E                 	LDY 	#$2E
1668   2B9A 20 2C 25              	JSR 	MESSAGE
1669   2B9D 4C 56 20              	JMP 	MONL0OFF
1670   2BA0             ;			
1671   2BA0 8E 22 01    OUTPUT     	STX 	RECPOINT
1672   2BA3 20 99 21              	JSR 	GETFILNO
1673   2BA6 8E 11 01              	STX 	HEXDEC
1674   2BA9 A2 FF                 	LDX 	#$FF
1675   2BAB 8E 13 01              	STX 	PASS
1676   2BAE 8E 0A 01              	STX 	LAST
1677   2BB1 AD 2F 01    ASAUTOP2   	LDA 	ASLNSV
1678   2BB4 8D 08 01              	STA 	FIRST
1679   2BB7 AD 30 01              	LDA 	ASLNSV+1
1680   2BBA 8D 09 01              	STA 	FIRST+1
1681   2BBD 20 12 22              	JSR 	FINDLNGE
1682   2BC0 A2 00       ASSEMBLE   	LDX 	#$00
1683   2BC2 86 E6                 	STX 	LN2BOUT
1684   2BC4 86 DC                 	STX 	ERRORS+1
1685   2BC6 86 DB                 	STX 	ERRORS
1686   2BC8 A2 FF                 	LDX 	#$FF
1687   2BCA 9A                    	TXS 	
1688   2BCB E8                    	INX 	
1689   2BCC 8E 16 01              	STX 	OSTORE
1690   2BCF 86 CA                 	STX 	MGFLAG
1691   2BD1 AD 00 01              	LDA 	TXST
1692   2BD4 85 CB                 	STA 	MGADDR
1693   2BD6 AD 01 01              	LDA 	TXST+1
1694   2BD9 85 CC                 	STA 	MGADDR+1
1695   2BDB A9 01                 	LDA 	#$01
1696   2BDD 85 C4                 	STA 	FILESEQ
1697   2BDF 86 C5                 	STX 	FILESEQ+1
1698   2BE1 86 C2                 	STX 	MACSEQ
1699   2BE3 86 C3                 	STX 	MACSEQ+1
1700   2BE5 86 BB                 	STX 	MACSUPPRS
1701   2BE7 86 BC                 	STX 	MACEXPAND
1702   2BE9 86 BF                 	STX 	CONDSUP
1703   2BEB 86 C1                 	STX 	LSTEXPOB 
1704   2BED A9 00                 	LDA 	#$00
1705   2BEF 85 D7                 	STA 	PC
1706   2BF1 85 D9                 	STA 	REL
1707   2BF3 A9 02                 	LDA 	#$02
1708   2BF5 85 D8                 	STA 	PC+1
1709   2BF7 85 DA                 	STA 	REL+1
1710   2BF9 AD 13 01              	LDA 	PASS
1711   2BFC 10 11                 	BPL 	ASNEW
1712   2BFE 20 10 2F              	JSR 	RESETRBUF
1713   2C01 4C 0F 2C              	JMP 	ASNEW
1714   2C04             ;			
1715   2C04 A2 00       ASGOON     	LDX 	#$00
1716   2C06 68                    	PLA 	
1717   2C07 85 DD                 	STA 	SCRAT0
1718   2C09 68                    	PLA 	
1719   2C0A 85 DE                 	STA 	SCRAT0+1
1720   2C0C 20 A2 23              	JSR 	NXTLILA
1721   2C0F A5 DE       ASNEW     	LDA 	SCRAT0+1
1722   2C11 48                    	PHA 	
1723   2C12 A5 DD                 	LDA 	SCRAT0
1724   2C14 48                    	PHA 	
1725   2C15 8E 1E 01              	STX 	EXT
1726   2C18 20 57 22              	JSR 	GETFRSTCH
1727   2C1B D0 6D                 	BNE 	ASLINE
1728   2C1D A5 BB                 	LDA 	MACSUPPRS
1729   2C1F F0 05                 	BEQ 	INCFILSEQ
1730   2C21 A2 27                 	LDX 	#$27
1731   2C23 20 4B 24              	JSR 	ERR.0				;MACRO DEF OVERLAPS FILE-BOUND 
1732   2C26 E6 C4       INCFILSEQ  	INC 	FILESEQ
1733   2C28 D0 09                 	BNE 	TSTCTAPE
1734   2C2A E6 C5                 	INC 	$C5
1735   2C2C D0 05                 	BNE 	TSTCTAPE
1736   2C2E A2 2F                 	LDX 	#$2F
1737   2C30 20 4B 24              	JSR 	ERR.0				;OVRFLW IN FILE SEQ COUNT 
1738   2C33 AD 14 01    TSTCTAPE   	LDA 	CONTAPE
1739   2C36 D0 08                 	BNE 	NXTFILE
1740   2C38 A9 01                 	LDA 	#$01
1741   2C3A 8D 12 01              	STA 	TERM
1742   2C3D 4C 44 24              	JMP 	ERR.7
1743   2C40             ;			
1744   2C40 20 67 2F    NXTFILE    	JSR 	PRASLIN 
1745   2C43 20 EA 33              	JSR 	OUTCR
1746   2C46 20 EA 33              	JSR 	OUTCR
1747   2C49 20 EA 33              	JSR 	OUTCR
1748   2C4C A5 CA                 	LDA 	MGFLAG
1749   2C4E F0 08                 	BEQ 	NOMG 
1750   2C50 A5 D3                 	LDA 	TPRES
1751   2C52 85 CB                 	STA 	MGADDR
1752   2C54 A5 D4                 	LDA 	TPRES+1
1753   2C56 85 CC                 	STA 	MGADDR+1
1754   2C58 A9 00       NOMG      	LDA 	#$00
1755   2C5A 85 CA                 	STA 	MGFLAG
1756   2C5C A5 CB                 	LDA 	MGADDR
1757   2C5E 85 D3                 	STA 	TPRES
1758   2C60 A5 CC                 	LDA 	MGADDR+1
1759   2C62 85 D4                 	STA 	TPRES+1
1760   2C64 8E 10 01              	STX 	FILENO
1761   2C67 20 9B 34              	JSR 	GSA
1762   2C6A A9 00                 	LDA 	#$00
1763   2C6C 8D 11 01              	STA 	HEXDEC
1764   2C6F AD 2F 01              	LDA 	ASLNSV
1765   2C72 8D 08 01              	STA 	FIRST
1766   2C75 AD 30 01              	LDA 	ASLNSV+1
1767   2C78 8D 09 01              	STA 	FIRST+1
1768   2C7B A5 CB                 	LDA 	MGADDR
1769   2C7D 85 DD                 	STA 	SCRAT0
1770   2C7F A5 CC                 	LDA 	MGADDR+1
1771   2C81 85 DE                 	STA 	SCRAT0+1
1772   2C83 A2 FF                 	LDX 	#$FF
1773   2C85 9A                    	TXS 	
1774   2C86 E8                    	INX 	
1775   2C87 4C 0F 2C              	JMP 	ASNEW
1776   2C8A             ;			
1777   2C8A A2 00       ASLINE     	LDX 	#$00
1778   2C8C AD 17 01              	LDA 	TLIST
1779   2C8F F0 15                 	BEQ 	TERMNTYET 
1780   2C91 20 67 2F              	JSR 	PRASLIN 
1781   2C94 AD 13 01              	LDA 	PASS
1782   2C97 C9 01                 	CMP 	#$01
1783   2C99 D0 0B                 	BNE 	TERMNTYET 
1784   2C9B A5 BC                 	LDA 	MACEXPAND
1785   2C9D F0 04                 	BEQ 	TERMLLINE
1786   2C9F A5 C1                 	LDA 	LSTEXPOB
1787   2CA1 F0 03                 	BEQ 	TERMNTYET 
1788   2CA3 20 EA 33    TERMLLINE   JSR 	OUTCR
1789   2CA6 20 B0 23    TERMNTYET  	JSR 	CRTTXTLIN
1790   2CA9 84 E9                 	STY 	LINELEN 
1791   2CAB E6 E6                 	INC 	LN2BOUT
1792   2CAD A0 00                 	LDY 	#$00
1793   2CAF B9 35 01              	LDA 	CRT,Y
1794   2CB2 C9 3B                 	CMP 	#$3B				; ';'
1795   2CB4 F0 03                 	BEQ 	MACRINP
1796   2CB6 20 0D 25              	JSR 	NXTWORD
1797   2CB9 86 BD       MACRINP    	STX 	MACSRCH
1798   2CBB A5 BB                 	LDA 	MACSUPPRS
1799   2CBD F0 08                 	BEQ 	ASSUPR
1800   2CBF A2 24                 	LDX 	#$24
1801   2CC1 20 5E 3D              	JSR 	SRCHAT 
1802   2CC4 4C 04 2C              	JMP 	ASGOON
1803   2CC7             ;			
1804   2CC7 A5 BF       ASSUPR     	LDA 	CONDSUP
1805   2CC9 F0 08                 	BEQ 	CMNTONLY
1806   2CCB A2 19                 	LDX 	#$19
1807   2CCD 20 5E 3D              	JSR 	SRCHAT 
1808   2CD0 4C 04 2C              	JMP 	ASGOON
1809   2CD3             ;			
1810   2CD3 A0 00       CMNTONLY    LDY 	#$00
1811   2CD5 B9 35 01              	LDA 	CRT,Y
1812   2CD8 C9 3B                 	CMP 	#$3B
1813   2CDA D0 03                 	BNE 	NEWLAB
1814   2CDC 4C 04 2C    ASGOON5    	JMP 	ASGOON
1815   2CDF             
1816   2CDF C9 20       NEWLAB     	CMP 	#$20
1817   2CE1 F0 08                 	BEQ 	NONEWLAB
1818   2CE3 AD 13 01              	LDA 	PASS
1819   2CE6 D0 03                 	BNE 	NONEWLAB
1820   2CE8 20 99 2F              	JSR 	NEWLABEL 
1821   2CEB 20 FA 24    NONEWLAB   	JSR 	NXTWSK
1822   2CEE B9 35 01              	LDA 	CRT,Y
1823   2CF1 C9 3B                 	CMP 	#$3B				; '
1824   2CF3 F0 E7                 	BEQ 	ASGOON5
1825   2CF5 C0 50                 	CPY 	#$50
1826   2CF7 B0 E3                 	BCS 	ASGOON5
1827   2CF9 C9 2E                 	CMP 	#'.'				
1828   2CFB D0 18                 	BNE 	MNEM
1829   2CFD C8                    	INY 	
1830   2CFE B9 37 01              	LDA 	CRT+2,Y
1831   2D01 C9 20                 	CMP 	#$20
1832   2D03 F0 06                 	BEQ 	FIEXPSEU
1833   2D05 20 48 24    PSEUER     	JSR 	ERR.3
1834   2D08 4C 04 2C              	JMP 	ASGOON
1835   2D0B A2 85       FIEXPSEU   	LDX 	#$85
1836   2D0D 20 9E 26              	JSR 	SRCHCOM 
1837   2D10 A2 00                 	LDX 	#$00
1838   2D12 4C 05 2D              	JMP 	PSEUER
1839   2D15             			
1840   2D15 B9 38 01    MNEM     	LDA 	CRT+3,Y
1841   2D18 C9 20                 	CMP 	#$20
1842   2D1A D0 50                 	BNE 	IFPSEU
1843   2D1C 20 A2 26              	JSR 	SRCHMNEM
1844   2D1F F0 09                 	BEQ 	BRA0
1845   2D21 BD 31 28              	LDA 	MNEMTABLE,X
1846   2D24 20 90 2E    LASTOB     	JSR 	STPROB
1847   2D27 4C 04 2C              	JMP 	ASGOON
1848   2D2A             			
1849   2D2A A2 65       BRA0     	LDX 	#$65
1850   2D2C 20 A2 26              	JSR 	SRCHMNEM
1851   2D2F F0 34                 	BEQ 	MOD
1852   2D31 BD 31 28              	LDA 	MNEMTABLE,X
1853   2D34 20 90 2E              	JSR 	STPROB
1854   2D37 20 0D 25              	JSR 	NXTWORD
1855   2D3A AD 13 01              	LDA 	PASS
1856   2D3D F0 23                 	BEQ 	LASTOB1
1857   2D3F 20 60 32              	JSR 	OPERTST
1858   2D42 18                    	CLC 	
1859   2D43 A5 D1                 	LDA 	PROCADDRS
1860   2D45 E5 D7                 	SBC 	PC
1861   2D47 48                    	PHA 	
1862   2D48 A5 D2                 	LDA 	PROCADDRS+1
1863   2D4A E5 D8                 	SBC 	PC+1
1864   2D4C D0 0B                 	BNE 	BRA11
1865   2D4E 68                    	PLA 	
1866   2D4F C9 80                 	CMP 	#$80
1867   2D51 90 0F                 	BCC 	LASTOB1
1868   2D53 20 4A 24    RANGEER    	JSR 	ERR.1
1869   2D56 4C 24 2D              	JMP 	LASTOB
1870   2D59             ;			
1871   2D59 C9 FF       BRA11     	CMP 	#$FF
1872   2D5B 4C AC 27              	JMP 	BRA1
1873   2D5E             			
1874   2D5E C9 80       BRA     	CMP 	#$80
1875   2D60 90 F1                 	BCC 	RANGEER
1876   2D62 4C 24 2D    LASTOB1    	JMP 	LASTOB
1877   2D65             ;
1878   2D65 A2 00       MOD     	LDX 	#$00
1879   2D67 20 A6 26              	JSR 	SRCHMODS
1880   2D6A D0 03                 	BNE 	WHICHMODE
1881   2D6C 4C A5 3C    IFPSEU     	JMP 	IFPSEU1
1882   2D6F             ;
1883   2D6F 20 10 25    WHICHMODE  	JSR 	NXTLETTER
1884   2D72 B9 35 01              	LDA 	CRT,Y
1885   2D75 C9 23                 	CMP 	#$23			; '
1886   2D77 D0 79                 	BNE 	ACCU1
1887   2D79 A2 0B                 	LDX 	#$0B
1888   2D7B 20 5D 2E              	JSR 	FETCHOP
1889   2D7E A2 55                 	LDX 	#$55
1890   2D80 20 5E 3D              	JSR 	SRCHAT 
1891   2D83 C8                    	INY 	
1892   2D84 B9 35 01              	LDA 	CRT,Y
1893   2D87 C9 27                 	CMP 	#$27
1894   2D89 D0 06                 	BNE 	IMMLABEX 
1895   2D8B B9 36 01              	LDA 	CRT+1,Y
1896   2D8E 4C 24 2D              	JMP 	LASTOB
1897   2D91             ;			
1898   2D91 A2 00       IMMLABEX   	LDX 	#$00
1899   2D93 20 60 32              	JSR 	OPERTST
1900   2D96 A5 D1                 	LDA 	PROCADDRS
1901   2D98 4C 24 2D              	JMP 	LASTOB
1902   2D9B             ;			
1903   2D9B 20 60 32    IMMLABL    	JSR 	OPERTST
1904   2D9E A5 D1                 	LDA 	PROCADDRS
1905   2DA0 20 90 2E              	JSR 	STPROB
1906   2DA3 AD 1E 01              	LDA 	EXT
1907   2DA6 F0 26                 	BEQ 	ASGOON6
1908   2DA8 A9 1F                 	LDA 	#$1F
1909   2DAA D0 0F                 	BNE 	P3RDIR
1910   2DAC             			
1911   2DAC 20 60 32    IMMLABH    	JSR 	OPERTST
1912   2DAF A5 D2                 	LDA 	PROCADDRS+1
1913   2DB1 20 90 2E              	JSR 	STPROB
1914   2DB4 AD 1E 01              	LDA 	EXT
1915   2DB7 F0 15                 	BEQ 	ASGOON6
1916   2DB9 A9 2F                 	LDA 	#$2F
1917   2DBB 48          P3RDIR     	PHA 	
1918   2DBC AD 13 01              	LDA 	PASS
1919   2DBF 10 10                 	BPL 	NOTP3
1920   2DC1 68                    	PLA 	
1921   2DC2 EE 11 01              	INC 	HEXDEC
1922   2DC5 48                    	PHA 	
1923   2DC6 20 90 2E              	JSR 	STPROB
1924   2DC9 68                    	PLA 	
1925   2DCA C9 2F                 	CMP 	#$2F				;
1926   2DCC F0 07                 	BEQ 	P3LALSO 
1927   2DCE 4C 04 2C    ASGOON6    	JMP 	ASGOON
1928   2DD1             ;
1929   2DD1 68          NOTP3     	PLA 	
1930   2DD2 4C 04 2C              	JMP 	ASGOON
1931   2DD5 A5 D1       P3LALSO    	LDA 	PROCADDRS
1932   2DD7 EE 11 01              	INC 	HEXDEC
1933   2DDA 4C 24 2D              	JMP 	LASTOB
1934   2DDD             ;
1935   2DDD 20 90 2E    EXTP3     	JSR 	STPROB
1936   2DE0 AD 1E 01              	LDA 	EXT
1937   2DE3 D0 E9                 	BNE 	ASGOON6
1938   2DE5 A9 0F                 	LDA 	#$0F
1939   2DE7 4C BB 2D              	JMP 	P3RDIR
1940   2DEA             ;			
1941   2DEA A2 0C       ACCU       	LDX 	#$0C
1942   2DEC 20 5D 2E              	JSR 	FETCHOP
1943   2DEF 4C 04 2C              	JMP 	ASGOON
1944   2DF2             ;			
1945   2DF2 A2 F6       ACCU1     	LDX 	#MODACCU-COMTABLE
1946   2DF4 20 9E 26              	JSR 	SRCHCOM 
1947   2DF7 AA                    	TAX 	
1948   2DF8 B9 35 01              	LDA 	CRT,Y
1949   2DFB C9 2A                 	CMP 	#$2A
1950   2DFD D0 0A                 	BNE 	INDIR
1951   2DFF C8                    	INY 	
1952   2E00 20 D7 30              	JSR 	GETOPER
1953   2E03 F0 3A                 	BEQ 	ZEROPG
1954   2E05 A2 3F                 	LDX 	#ATZXY-ATCOND				
1955   2E07 D0 1A                 	BNE 	ABSINDX
1956   2E09             ;			
1957   2E09 C9 28       INDIR     	CMP 	#'('
1958   2E0B D0 0F                 	BNE 	ABS1
1959   2E0D C8                    	INY 	
1960   2E0E 20 D7 30              	JSR 	GETOPER
1961   2E11 A2 FB                 	LDX 	#MODIND-COMTABLE
1962   2E13 20 9E 26              	JSR 	SRCHCOM 
1963   2E16 A2 34                 	LDX 	#ATINDXY-ATCOND				
1964   2E18 D0 09                 	BNE 	ABSINDX
1965   2E1A D0 07                 	BNE 	ABSINDX
1966   2E1C             			
1967   2E1C 20 D7 30    ABS1     	JSR 	GETOPER
1968   2E1F F0 0C                 	BEQ 	ABS
1969   2E21 A2 4A                 	LDX 	#ATAXY-ATCOND
1970   2E23 20 5E 3D    ABSINDX   	JSR 	SRCHAT 
1971   2E26 AA                    	TAX 	
1972   2E27 4C C1 2A              	JMP 	OPER 
1973   2E2A             ;			
1974   2E2A E8          INDABS     	INX 	
1975   2E2B E8          ABSY       	INX 	
1976   2E2C E8          ABSX     	INX 	
1977   2E2D E8          ABS     	INX 	
1978   2E2E 20 5D 2E              	JSR 	FETCHOP
1979   2E31 A5 D1       STPRLOPR   	LDA 	PROCADDRS
1980   2E33 20 90 2E              	JSR 	STPROB
1981   2E36 A5 D2                 	LDA 	PROCADDRS+1
1982   2E38 4C DD 2D              	JMP 	EXTP3
1983   2E3B             ;			
1984   2E3B E8          INDX       	INX 	
1985   2E3C E8          INDY       	INX 	
1986   2E3D E8          ZEROY      	INX 	
1987   2E3E E8          ZEROX      	INX 	
1988   2E3F E8          ZEROPG     	INX 	
1989   2E40 E8                    	INX 	
1990   2E41 E8                    	INX 	
1991   2E42 E8                    	INX 	
1992   2E43 E8                    	INX 	
1993   2E44 20 5D 2E              	JSR 	FETCHOP
1994   2E47 A5 D1                 	LDA 	PROCADDRS
1995   2E49 20 90 2E              	JSR 	STPROB
1996   2E4C A5 D2                 	LDA 	PROCADDRS+1
1997   2E4E F0 0A                 	BEQ 	ASGOOND
1998   2E50 A2 00                 	LDX 	#$00
1999   2E52 AD 13 01              	LDA 	PASS
2000   2E55 F0 03                 	BEQ 	ASGOOND
2001   2E57 20 4B 24              	JSR 	ERR.0
2002   2E5A 4C 04 2C    ASGOOND    	JMP 	ASGOON
2003   2E5D             
2004   2E5D 86 DD       FETCHOP    	STX 	SCRAT0
2005   2E5F A6 D0                 	LDX 	PNTR
2006   2E61 BD B8 28              	LDA 	MNEMMODS+1,X
2007   2E64 85 DE                 	STA 	SCRAT0+1
2008   2E66 A9 04                 	LDA 	#$04
2009   2E68 85 DF                 	STA 	SCRAT1
2010   2E6A BD B7 28              	LDA 	MNEMMODS,X
2011   2E6D C6 DF       NXTA     	DEC 	SCRAT1
2012   2E6F 30 10                 	BMI 	TRYZOPS
2013   2E71 0A                    	ASL 	A
2014   2E72 90 01                 	BCC 	DONTSKA
2015   2E74 E8                    	INX 	
2016   2E75 C6 DD       DONTSKA    	DEC 	SCRAT0
2017   2E77 D0 F4                 	BNE 	NXTA
2018   2E79 B0 12                 	BCS 	FETCHIT
2019   2E7B A2 00       MODEER     	LDX 	#$00
2020   2E7D 20 40 24              	JSR 	ERR.B			;  ;UNIMPLEMENTED ADDR MODE
2021   2E80 60                    	RTS 	
2022   2E81             			
2023   2E81 A5 DE       TRYZOPS    	LDA 	SCRAT0+1
2024   2E83 0A          NXTZOP     	ASL 	A
2025   2E84 90 01                 	BCC 	DONTSKZ
2026   2E86 E8                    	INX 	
2027   2E87 C6 DD       DONTSKZ    	DEC 	SCRAT0
2028   2E89 D0 F8                 	BNE 	NXTZOP 
2029   2E8B 90 EE                 	BCC 	MODEER
2030   2E8D BD B8 28    FETCHIT    	LDA 	MNEMMODS+1,X
2031   2E90 48          STPROB     	PHA 	
2032   2E91 A2 00                 	LDX 	#$00
2033   2E93 AD 13 01              	LDA 	PASS
2034   2E96 F0 57                 	BEQ 	SKIPSTOR
2035   2E98 30 59                 	BMI 	P3STORE 
2036   2E9A AD 17 01              	LDA 	TLIST
2037   2E9D F0 31                 	BEQ 	STOBJBYT
2038   2E9F A5 BC                 	LDA 	MACEXPAND
2039   2EA1 F0 04                 	BEQ 	PROB
2040   2EA3 A5 C1                 	LDA 	LSTEXPOB
2041   2EA5 F0 29                 	BEQ 	STOBJBYT
2042   2EA7 A5 E7       PROB     	LDA 	LNINDEX 
2043   2EA9 D0 07                 	BNE 	PROBNL
2044   2EAB A9 05       PR1EOB     	LDA 	#$05
2045   2EAD 85 E7                 	STA 	LNINDEX 
2046   2EAF 20 DF 2E              	JSR 	PRPC
2047   2EB2 A5 E7       PROBNL     	LDA 	LNINDEX 
2048   2EB4 C9 0E                 	CMP 	#$0E
2049   2EB6 D0 09                 	BNE 	PROBJBYT
2050   2EB8 20 67 2F              	JSR 	PRASLIN 
2051   2EBB 20 EA 33              	JSR 	OUTCR
2052   2EBE 4C AB 2E              	JMP 	PR1EOB
2053   2EC1             			
2054   2EC1 20 FC 33    PROBJBYT   	JSR 	OUTSP
2055   2EC4 A5 E7                 	LDA 	LNINDEX
2056   2EC6 18                    	CLC 	
2057   2EC7 69 03                 	ADC 	#$03
2058   2EC9 85 E7                 	STA 	LNINDEX
2059   2ECB 68                    	PLA 	
2060   2ECC 48                    	PHA 	
2061   2ECD 20 02 34              	JSR 	OUTBYTE
2062   2ED0 AD 16 01    STOBJBYT   	LDA 	OSTORE
2063   2ED3 F0 1A                 	BEQ 	SKIPSTOR
2064   2ED5 68                    	PLA 	
2065   2ED6 81 D9                 	STA 	(REL,X)
2066   2ED8 20 D5 24    INCPCREL   	JSR 	INCPC
2067   2EDB 20 D4 24              	JSR 	INCREL
2068   2EDE 60                    	RTS 	
2069   2EDF             			
2070   2EDF A5 D8       PRPC     	LDA 	$PC+1
2071   2EE1 20 02 34              	JSR 	OUTBYTE
2072   2EE4 A5 D7                 	LDA 	PC
2073   2EE6 20 02 34              	JSR 	OUTBYTE
2074   2EE9 A9 2D                 	LDA 	#'-'			; 
2075   2EEB 20 C4 33              	JSR 	OUTCHAR
2076   2EEE 60                    	RTS 	
2077   2EEF             			
2078   2EEF 68          SKIPSTOR    PLA 	
2079   2EF0 B8                    	CLV 	
2080   2EF1 50 E5                 	BVC 	INCPCREL 
2081   2EF3             ;			
2082   2EF3 68          P3STORE     PLA 	
2083   2EF4 20 3A 22              	JSR 	STINRBUF
2084   2EF7 AD 11 01              	LDA 	HEXDEC
2085   2EFA D0 06                 	BNE 	RDIRSTRD
2086   2EFC 20 D5 24              	JSR 	INCPC
2087   2EFF 4C 05 2F              	JMP 	RBUFULL
2088   2F02             ;
2089   2F02 CE 11 01    RDIRSTRD   	DEC 	HEXDEC
2090   2F05 AD 22 01    RBUFULL    	LDA 	RECPOINT
2091   2F08 C9 FF                 	CMP 	#$FF
2092   2F0A B0 01                 	BCS 	PUTRBUFR 
2093   2F0C 60                    	RTS 
2094   2F0D             ;			
2095   2F0D 20 72 21    PUTRBUFR    JSR 	PUTRBUF
2096   2F10 8E 22 01    RESETRBUF   STX 	RECPOINT
2097   2F13 A5 D7                 	LDA 	PC
2098   2F15 20 3A 22              	JSR 	STINRBUF
2099   2F18 A5 D8                 	LDA 	PC+1
2100   2F1A 20 3A 22              	JSR 	STINRBUF
2101   2F1D 60                    	RTS 
2102   2F1E             	
2103   2F1E F0 03       ENPASS2    	BEQ 	NOLA
2104   2F20 20 78 32    LABELS     	JSR 	EXLA
2105   2F23 20 ED 21    NOLA     	JSR 	CLRSPR
2106   2F26 20 2F 2F              	JSR 	PRERRORS
2107   2F29 20 39 2F              	JSR 	PRPCREL
2108   2F2C 4C 5C 20              	JMP 	MONLOOP
2109   2F2F             			
2110   2F2F A5 DC       PRERRORS   	LDA 	ERRORS+1
2111   2F31 20 02 34              	JSR 	OUTBYTE
2112   2F34 A5 DB                 	LDA 	ERRORS
2113   2F36 4C 02 34              	JMP 	OUTBYTE
2114   2F39             ;			
2115   2F39 A9 2C       PRPCREL    	LDA 	#','
2116   2F3B 20 C4 33              	JSR 	OUTCHAR
2117   2F3E A5 D8                 	LDA 	PC+1 
2118   2F40 20 02 34              	JSR 	OUTBYTE
2119   2F43 A5 D7                 	LDA 	PC
2120   2F45 20 02 34              	JSR 	OUTBYTE
2121   2F48 A9 2C                 	LDA 	#','
2122   2F4A 20 C4 33              	JSR 	OUTCHAR
2123   2F4D A5 DA                 	LDA 	REL+1
2124   2F4F 20 02 34              	JSR 	OUTBYTE
2125   2F52 A5 D9                 	LDA 	REL
2126   2F54 4C 02 34              	JMP 	OUTBYTE
2127   2F57             			
2128   2F57 AD 04 01    SPRESSTST   LDA 	STST
2129   2F5A 85 D5                 	STA 	SPRES
2130   2F5C AD 05 01              	LDA 	STST+1 
2131   2F5F 85 D6                 	STA 	SPRES+1
2132   2F61 60                    	RTS 	
2133   2F62             ;			
2134   2F62 98          PRASLNER   	TYA 	
2135   2F63 48                    	PHA 	
2136   2F64 4C 75 2F              	JMP 	PRSUPR
2137   2F67             ;			
2138   2F67 98          PRASLIN    	TYA 	
2139   2F68 48                    	PHA 	
2140   2F69 AD 13 01              	LDA 	PASS
2141   2F6C C9 01                 	CMP 	#$01
2142   2F6E D0 22                 	BNE 	ASLNPRNTD
2143   2F70 AD 17 01              	LDA 	TLIST
2144   2F73 F0 1D                 	BEQ 	ASLNPRNTD
2145   2F75 A5 E6       PRSUPR     	LDA 	LN2BOUT
2146   2F77 F0 19                 	BEQ 	ASLNPRNTD
2147   2F79 A4 E7                 	LDY 	LNINDEX
2148   2F7B A5 BC                 	LDA 	MACEXPAND
2149   2F7D D0 13                 	BNE 	ASLNPRNTD
2150   2F7F C8          TO16     	INY 	
2151   2F80 20 FC 33              	JSR 	OUTSP
2152   2F83 C0 10                 	CPY 	#$10
2153   2F85 90 F8                 	BCC 	TO16
2154   2F87 A4 E9                 	LDY 	LINELEN 
2155   2F89 20 25 26              	JSR 	PRFIRST 
2156   2F8C 20 FC 33              	JSR 	OUTSP
2157   2F8F 20 98 25              	JSR 	PRCRT
2158   2F92 86 E7       ASLNPRNTD   STX 	LNINDEX
2159   2F94 68                    	PLA 	
2160   2F95 A8                    	TAY 	
2161   2F96 86 E6                 	STX 	LN2BOUT
2162   2F98 60                    	RTS 	
2163   2F99             ;			
2164   2F99 A5 D5       NEWLABEL   	LDA 	SPRES
2165   2F9B 85 B9                 	STA 	SAVEM
2166   2F9D A5 D6                 	LDA 	SPRES+1
2167   2F9F 85 BA                 	STA 	SAVEM+1
2168   2FA1 A5 BC                 	LDA 	MACEXPAND
2169   2FA3 F0 12                 	BEQ 	NLMDEF
2170   2FA5 20 7C 30              	JSR 	MACDEF
2171   2FA8 D0 02                 	BNE 	NLMLAB
2172   2FAA 18                    	CLC 	
2173   2FAB 60                    	RTS 	
2174   2FAC             ;
2175   2FAC 20 8C 30    NLMLAB    	JSR 	MACLAB
2176   2FAF D0 30                 	BNE 	NLNORM
2177   2FB1 20 9F 30              	JSR 	SETMSEQ
2178   2FB4 4C CE 2F              	JMP 	NLSTSEQ
2179   2FB7             			
2180   2FB7 20 7C 30    NLMDEF     	JSR 	MACDEF
2181   2FBA D0 25                 	BNE 	NLNORM
2182   2FBC 20 67 2F              	JSR 	PRASLIN 
2183   2FBF A9 00                 	LDA 	#$00
2184   2FC1 99 36 01              	STA 	CRT+1,Y
2185   2FC4 99 37 01              	STA 	CRT+2,Y
2186   2FC7 A5 CA                 	LDA 	MGFLAG
2187   2FC9 D0 03                 	BNE 	NLSTSEQ
2188   2FCB 20 94 30              	JSR 	SETFSEQ 
2189   2FCE 84 E4       NLSTSEQ    	STY 	SAVEY
2190   2FD0 20 AA 30              	JSR 	STLABADR
2191   2FD3 A6 E4                 	LDX 	SAVEY
2192   2FD5 20 B6 30              	JSR 	STLABCH
2193   2FD8 20 B6 30              	JSR 	STLABCH
2194   2FDB 20 B6 30              	JSR 	STLABCH
2195   2FDE 4C E8 2F              	JMP 	NLSTLAB
2196   2FE1             ;			
2197   2FE1 84 E4       NLNORM     	STY 	SAVEY
2198   2FE3 20 AA 30              	JSR 	STLABADR
2199   2FE6 A6 E4                 	LDX 	SAVEY
2200   2FE8 BD 35 01    NLSTLAB    	LDA 	CRT,X
2201   2FEB C9 40                 	CMP 	#'@'
2202   2FED 90 1D                 	BCC 	NLILLCH
2203   2FEF 20 B6 30    NLCHAR1    	JSR 	STLABCH
2204   2FF2 BD 35 01              	LDA 	CRT,X
2205   2FF5 C9 20                 	CMP 	#$20
2206   2FF7 F0 1D                 	BEQ 	NLLAST
2207   2FF9 A5 BC                 	LDA 	MACEXPAND
2208   2FFB F0 07                 	BEQ 	NLNXTCH
2209   2FFD BD 35 01              	LDA 	CRT,X
2210   3000 C9 29                 	CMP 	#')'
2211   3002 F0 12                 	BEQ 	NLLAST
2212   3004 BD 35 01    NLNXTCH    	LDA 	CRT,X
2213   3007 20 6A 32              	JSR 	TSTLABCH
2214   300A 90 E3                 	BCC 	NLCHAR1 
2215   300C 20 75 30    NLILLCH   	JSR 	STEND0
2216   300F A2 00                 	LDX 	#$00
2217   3011 20 3F 24              	JSR 	ERR.C				;ILLEGAL CHAR IN LABEL
2218   3014 38                    	SEC 	
2219   3015 60                    	RTS 
2220   3016             ;	
2221   3016 B1 D5       NLLAST     	LDA 	(SPRES),Y
2222   3018 09 80                 	ORA 	#$80
2223   301A 91 D5                 	STA 	(SPRES),Y
2224   301C 38                    	SEC 	
2225   301D 98                    	TYA 	
2226   301E 65 D5                 	ADC 	SPRES
2227   3020 85 D5                 	STA 	SPRES
2228   3022 A2 00                 	LDX 	#$00
2229   3024 8A                    	TXA 	
2230   3025 65 D6                 	ADC 	SPRES+1
2231   3027 85 D6                 	STA 	SPRES+1
2232   3029 CD 07 01              	CMP 	STEN+1
2233   302C F0 2E                 	BEQ 	SOVFLW
2234   302E B0 33                 	BCS 	SOVFLW1				; 65C02 SOVFLW 
2235   3030 20 75 30    NLDUP     	JSR 	STEND0
2236   3033 A4 E4                 	LDY 	SAVEY
2237   3035 20 30 31              	JSR 	EVLABEX 
2238   3038 A5 DE                 	LDA 	SCRAT0+1
2239   303A 48                    	PHA 	
2240   303B A5 DD                 	LDA 	SCRAT0
2241   303D 48                    	PHA 	
2242   303E 20 BE 30              	JSR 	NXTLABSK 
2243   3041 20 57 22              	JSR 	GETFRSTCH
2244   3044 F0 0C                 	BEQ 	NLOK 
2245   3046 68                    	PLA 	
2246   3047 85 DD                 	STA 	SCRAT0
2247   3049 68                    	PLA 	
2248   304A 85 DE                 	STA 	SCRAT0+1
2249   304C 20 45 24              	JSR 	ERR.6				;DULPLICATE LABEL 
2250   304F 4C 66 30              	JMP 	OLDSPRES
2251   3052             			
2252   3052 68          NLOK      	PLA 	
2253   3053 85 DD                 	STA 	SCRAT0
2254   3055 68                    	PLA 	
2255   3056 85 DE                 	STA 	SCRAT0+1
2256   3058 A4 E4                 	LDY 	SAVEY
2257   305A 18                    	CLC 	
2258   305B 60                    	RTS 
2259   305C             			
2260   305C A5 D5       SOVFLW     	LDA 	SPRES
2261   305E CD 06 01              	CMP 	STEN
2262   3061 90 CD                 	BCC 	NLDUP
2263   3063 20 3D 24    SOVFLW1    	JSR 	ERR.E
2264   3066 A5 B9       OLDSPRES   	LDA 	$B9
2265   3068 85 D5                 	STA 	SPRES
2266   306A A5 BA                 	LDA 	$BA
2267   306C 85 D6                 	STA 	SPRES+1
2268   306E 20 75 30              	JSR 	STEND0
2269   3071 A4 E4                 	LDY 	SAVEY
2270   3073 38                    	SEC 	
2271   3074 60                    	RTS 
2272   3075             ;			
2273   3075 A9 00       STEND0     	LDA 	#$00
2274   3077 A0 02                 	LDY 	#$02
2275   3079 91 D5                 	STA 	(SPRES),Y
2276   307B 60                    	RTS 	
2277   307C             ;			
2278   307C B9 35 01    MACDEF     	LDA 	CRT,Y
2279   307F C9 21                 	CMP 	#'!'
2280   3081 D0 08       MACCMP23   	BNE 	RETM 
2281   3083 D9 36 01              	CMP 	CRT+1,Y
2282   3086 D0 03                 	BNE 	RETM 
2283   3088 D9 37 01              	CMP 	CRT+2,Y
2284   308B             
2285   308B 60          RETM      	RTS 	
2286   308C B9 35 01    MACLAB     	LDA 	CRT,Y
2287   308F C9 2E                 	CMP 	#$2E
2288   3091 4C 81 30              	JMP 	MACCMP23
2289   3094             ;
2290   3094 A5 C4       SETFSEQ    	LDA 	FILESEQ
2291   3096 99 36 01              	STA 	CRT+1,Y
2292   3099 A5 C5                 	LDA 	FILESEQ+1
2293   309B 99 37 01              	STA 	CRT+2,Y
2294   309E 60                    	RTS 	
2295   309F             ;
2296   309F A5 C2       SETMSEQ     LDA 	MACSEQ
2297   30A1 99 36 01              	STA 	CRT+1,Y
2298   30A4 A5 C3                 	LDA 	MACSEQ+1
2299   30A6 99 37 01              	STA 	CRT+2,Y
2300   30A9 60                    	RTS 	
2301   30AA             ;
2302   30AA A0 00       STLABADR  	LDY 	#$00
2303   30AC A5 D7                 	LDA 	PC
2304   30AE 91 D5                 	STA 	(SPRES),Y
2305   30B0 A5 D8                 	LDA 	PC+1
2306   30B2 C8                    	INY 	
2307   30B3 91 D5                 	STA 	(SPRES),Y
2308   30B5 60                    	RTS 	
2309   30B6             ;
2310   30B6 BD 35 01    STLABCH    	LDA 	CRT,X
2311   30B9 C8                    	INY 	
2312   30BA 91 D5                 	STA 	(SPRES),Y
2313   30BC E8                    	INX 	
2314   30BD 60                    	RTS 	
2315   30BE             ;
2316   30BE A0 02       NXTLABSK   	LDY 	#$02
2317   30C0 B1 DD                 	LDA 	(SCRAT0),Y
2318   30C2 C9 2E                 	CMP 	#'.'
2319   30C4 F0 04                 	BEQ 	SKIPSEQ
2320   30C6 C9 21                 	CMP 	#'!'
2321   30C8 D0 09                 	BNE 	NOSEQ 
2322   30CA 20 D2 24    SKIPSEQ    	JSR 	INCSCR0 
2323   30CD 20 D2 24              	JSR 	INCSCR0 
2324   30D0 20 D2 24              	JSR 	INCSCR0 
2325   30D3 20 A2 23    NOSEQ      	JSR 	NXTLILA
2326   30D6 60                    	RTS 	
2327   30D7             ;
2328   30D7 8E 1E 01    GETOPER    	STX 	EXT
2329   30DA C0 50                 	CPY 	#$50
2330   30DC 90 04                 	BCC 	GETOPRDO
2331   30DE 20 41 24              	JSR 	ERR.A
2332   30E1 60                    	RTS 
2333   30E2             ;			
2334   30E2 86 D1       GETOPRDO   	STX 	PROCADDRS
2335   30E4 86 D2                 	STX 	PROCADDRS+1
2336   30E6 8E 1A 01              	STX 	ADDPAD
2337   30E9 4C FB 30              	JMP 	ADDGET
2338   30EC             ;			
2339   30EC B9 35 01    GOTIT     	LDA 	CRT,Y
2340   30EF C9 2B                 	CMP 	#'+'
2341   30F1 F0 07                 	BEQ 	ADD
2342   30F3 C9 2D                 	CMP 	#'-'
2343   30F5 F0 1E                 	BEQ 	SUBTR
2344   30F7 C9 20                 	CMP 	#$20
2345   30F9 60                    	RTS 	
2346   30FA             ;			
2347   30FA C8          ADD     	INY 	
2348   30FB 20 30 31    ADDGET     	JSR 	EVLABEX 
2349   30FE B0 03                 	BCS 	ADDDO 
2350   3100 EE 1A 01              	INC 	ADDPAD
2351   3103 18          ADDDO    	CLC 	
2352   3104 AD 18 01              	LDA 	ADDRS
2353   3107 65 D1                 	ADC 	PROCADDRS
2354   3109 85 D1                 	STA 	PROCADDRS
2355   310B AD 19 01              	LDA 	ADDRS+1
2356   310E 65 D2                 	ADC 	PROCADDRS+1
2357   3110 85 D2                 	STA 	PROCADDRS+1
2358   3112 4C EC 30              	JMP 	GOTIT
2359   3115             ;
2360   3115 C8          SUBTR     	INY  	
2361   3116 20 30 31              	JSR 	EVLABEX 
2362   3119 B0 03                 	BCS 	SUBTRDO
2363   311B EE 1A 01              	INC 	 ADDPAD
2364   311E 38          SUBTRDO    	SEC 	
2365   311F A5 D1                 	LDA 	PROCADDRS
2366   3121 ED 18 01              	SBC 	ADDRS
2367   3124 85 D1                 	STA 	PROCADDRS
2368   3126 A5 D2                 	LDA 	PROCADDRS+1
2369   3128 ED 19 01              	SBC 	ADDRS+1
2370   312B 85 D2                 	STA 	PROCADDRS+1
2371   312D 4C EC 30              	JMP 	GOTIT
2372   3130             ;
2373   3130 20 C5 24    EVLABEX    	JSR 	SR0STST
2374   3133 86 C0                 	STX 	SYMBOLIC
2375   3135 84 E1                 	STY 	SCRAT3
2376   3137 8E 18 01              	STX 	ADDRS
2377   313A 8E 19 01              	STX 	ADDRS+1
2378   313D B9 35 01              	LDA 	CRT,Y
2379   3140 C9 25                 	CMP 	#'%'
2380   3142 D0 1B                 	BNE 	EVTSTDEC
2381   3144 C8          EVBINEX     INY 	
2382   3145 B9 35 01              	LDA 	CRT,Y
2383   3148 C9 30                 	CMP 	#'0'
2384   314A F0 06                 	BEQ 	EVBIN0
2385   314C C9 31                 	CMP 	#'1'
2386   314E F0 05                 	BEQ 	EVBIN1
2387   3150 38                    	SEC 	
2388   3151 60                    	RTS 	
2389   3152             ;
2390   3152 18          EVBIN0     	CLC 	
2391   3153 90 01                 	BCC 	EVBININ
2392   3155             
2393   3155 38          EVBIN1     	SEC 	
2394   3156 2E 18 01    EVBININ    	ROL 	ADDRS
2395   3159 2E 19 01              	ROL 	ADDRS+1
2396   315C 4C 44 31              	JMP 	EVBINEX
2397   315F             ;
2398   315F 20 B0 31    EVTSTDEC   	JSR 	EVDEC
2399   3162 B0 06                 	BCS 	EVDECEX
2400   3164 B9 35 01              	LDA 	CRT,Y
2401   3167 4C BE 31              	JMP 	EVTSTHX
2402   316A             ;
2403   316A C8          EVDECEX    	INY 	
2404   316B B9 35 01              	LDA 	CRT,Y
2405   316E 20 B0 31              	JSR 	EVDEC
2406   3171 B0 F7                 	BCS 	EVDECEX
2407   3173 98                    	TYA 	
2408   3174 48                    	PHA 	
2409   3175 88          EVDECCNT   	DEY 	
2410   3176 B9 35 01              	LDA 	CRT,Y
2411   3179 84 CE                 	STY 	SAVE
2412   317B 20 B0 31              	JSR 	EVDEC
2413   317E 90 20                 	BCC 	EVDECOK
2414   3180 F0 17                 	BEQ 	EVDECNXT
2415   3182 A8                    	TAY 	
2416   3183 BD A6 31    EVDECCONV  	LDA 	DECTABL,X
2417   3186 18                    	CLC 	
2418   3187 6D 18 01              	ADC 	ADDRS
2419   318A 8D 18 01              	STA 	ADDRS
2420   318D BD AB 31              	LDA 	DECTABH,X
2421   3190 6D 19 01              	ADC 	ADDRS+1
2422   3193 8D 19 01              	STA 	ADDRS+1
2423   3196 88                    	DEY 	
2424   3197 D0 EA                 	BNE 	EVDECCONV
2425   3199 A4 CE       EVDECNXT   	LDY 	SAVE
2426   319B E8                    	INX 	
2427   319C E0 05                 	CPX 	#$05
2428   319E D0 D5                 	BNE 	EVDECCNT
2429   31A0 68          EVDECOK    	PLA 	
2430   31A1 A8                    	TAY 	
2431   31A2 A2 00                 	LDX 	#$00
2432   31A4 38                    	SEC 	
2433   31A5 60                    	RTS 	
2434   31A6             ;
2435   31A6 01 0A 64 E8 DECTABL		.BYTE $01, $0A, $64, $E8, $10
2435   31AA 10 
2436   31AB 00 00 00 03 DECTABH		.BYTE $00, $00, $00, $03, $27
2436   31AF 27 
2437   31B0             
2438   31B0 C9 30       EVDEC     	CMP 	#'0'
2439   31B2 90 04                 	BCC 	EVNODEC 
2440   31B4 C9 3A                 	CMP 	#':'
2441   31B6 90 02                 	BCC 	DECIM
2442   31B8 18          EVNODEC     CLC 	
2443   31B9 60                    	RTS
2444   31BA             ;			
2445   31BA 29 0F       DECIM     	AND 	#$0F
2446   31BC 38                    	SEC 	
2447   31BD 60                    	RTS 	
2448   31BE             		
2449   31BE C9 24       EVTSTHX    	CMP 	#'$'
2450   31C0 F0 4A                 	BEQ 	EVHEXEX 
2451   31C2 C9 3D                 	CMP 	#'='
2452   31C4 F0 39                 	BEQ 	EVPC
2453   31C6 A6 E1       EVSYM   	LDX 	SCRAT3
2454   31C8 A0 02                 	LDY 	#$02
2455   31CA B1 DD                 	LDA 	(SCRAT0),Y
2456   31CC C9 2F                 	CMP 	#'/'
2457   31CE D0 01                 	BNE 	EVTABEND1
2458   31D0 C8                    	INY 	
2459   31D1 B1 DD       EVTABEND1  	LDA 	(SCRAT0),Y
2460   31D3 F0 03                 	BEQ 	EVTABEND
2461   31D5 4C D3 32              	JMP 	EVMSEQ
2462   31D8             ;			
2463   31D8 A2 00       EVTABEND   	LDX 	#$00
2464   31DA A4 E1                 	LDY 	SCRAT3
2465   31DC C8          EVSKLAB	   	INY 	
2466   31DD B9 35 01              	LDA 	CRT,Y
2467   31E0 20 6A 32              	JSR 	TSTLABCH
2468   31E3 90 F7                 	BCC 	EVSKLAB
2469   31E5 C9 21                 	CMP 	#'!'
2470   31E7 F0 04                 	BEQ 	EVNEST
2471   31E9 C9 2E                 	CMP 	#'.'
2472   31EB D0 08                 	BNE 	EVTSTP2
2473   31ED A5 BD       EVNEST     	LDA 	MACSRCH
2474   31EF D0 EB                 	BNE 	EVSKLAB
2475   31F1 A5 BC                 	LDA 	MACEXPAND
2476   31F3 D0 E7                 	BNE 	EVSKLAB
2477   31F5 AD 13 01    EVTSTP2    	LDA 	PASS
2478   31F8 F0 03                 	BEQ 	EVNOTOK
2479   31FA 20 43 24              	JSR 	ERR.8				 ;UNDEFINED LABEL
2480   31FD 18          EVNOTOK    	CLC 	
2481   31FE 60                    	RTS 
2482   31FF             ;			
2483   31FF A5 D7       EVPC     	LDA 	PC
2484   3201 8D 18 01              	STA 	ADDRS
2485   3204 A5 D8                 	LDA 	PC+1
2486   3206 8D 19 01              	STA 	ADDRS+1
2487   3209 C8                    	INY 	
2488   320A 38                    	SEC 	
2489   320B 60                    	RTS 
2490   320C             ;			
2491   320C A2 18       EVHEXEX    	LDX 	#ADDRS-TXST
2492   320E C8                    	INY 	
2493   320F 20 32 26              	JSR 	PARM
2494   3212 A5 E0                 	LDA 	SCRAT2
2495   3214 D0 48                 	BNE 	EVOK
2496   3216 20 3E 24              	JSR 	ERR.D
2497   3219 18                    	CLC 	
2498   321A 60                    	RTS 
2499   321B             ;			
2500   321B B1 DD       EVCOMP     	LDA 	(SCRAT0),Y
2501   321D 08                    	PHP 	
2502   321E 29 7F                 	AND 	#$7F
2503   3220 DD 35 01              	CMP 	CRT,X
2504   3223 D0 11                 	BNE 	EVNOMATCH
2505   3225 E8                    	INX 	
2506   3226 C8                    	INY 	
2507   3227 28                    	PLP 	
2508   3228 10 F1                 	BPL 	EVCOMP
2509   322A 8A                    	TXA 	
2510   322B A8                    	TAY 	
2511   322C B9 35 01              	LDA 	CRT,Y
2512   322F 20 6A 32              	JSR 	TSTLABCH
2513   3232 B0 0B                 	BCS 	EVSYMEQ 
2514   3234 90 01                 	BCC 	EVTONXT
2515   3236             ;			
2516   3236 28          EVNOMATCH   PLP 	
2517   3237 A2 00       EVTONXT     LDX 	#$00
2518   3239 20 BE 30              	JSR 	NXTLABSK 
2519   323C B8                    	CLV 	
2520   323D 50 87                 	BVC 	EVSYM  
2521   323F             ;			
2522   323F 98          EVSYMEQ    	TYA 	
2523   3240 AA                    	TAX 	
2524   3241 A0 00                 	LDY 	#$00
2525   3243 B1 DD                 	LDA 	(SCRAT0),Y
2526   3245 8D 18 01              	STA 	ADDRS
2527   3248 C8                    	INY 	
2528   3249 B1 DD                 	LDA 	(SCRAT0),Y
2529   324B 8D 19 01              	STA 	ADDRS+1
2530   324E C8                    	INY 	
2531   324F B1 DD                 	LDA 	(SCRAT0),Y
2532   3251 C9 2F                 	CMP 	#'/'
2533   3253 F0 03                 	BEQ 	EVEXT
2534   3255 EE 1E 01              	INC 	EXT
2535   3258 8A          EVEXT     	TXA 	
2536   3259 A8                    	TAY 	
2537   325A A2 00                 	LDX 	#$00
2538   325C E6 C0                 	INC 	SYMBOLIC
2539   325E 38          EVOK     	SEC 	
2540   325F 60                    	RTS 
2541   3260             			
2542   3260 20 D7 30    OPERTST    	JSR 	GETOPER
2543   3263 D0 01                 	BNE 	OPER1
2544   3265 60                    	RTS 
2545   3266             			
2546   3266 20 41 24    OPER1     	JSR 	ERR.A				;ERR IN OR NO OPERAND 
2547   3269 60                    	RTS
2548   326A             ;			
2549   326A C9 2E       TSTLABCH   	CMP 	#'.'
2550   326C 90 08                 	BCC 	BADLACHA 
2551   326E C9 3D                 	CMP 	#'='
2552   3270 F0 04                 	BEQ 	BADLACHA 
2553   3272 C9 7B                 	CMP 	#'{'
2554   3274 90 01                 	BCC 	LABCHAOK
2555   3276 38          BADLACHA   	SEC 	
2556   3277 60          LABCHAOK   	RTS
2557   3278              	
2558   3278 A0 09       EXLA     	LDY 	#MESLABS-MESERROR
2559   327A 20 2C 25              	JSR 	MESSAGE
2560   327D 20 C5 24              	JSR 	SR0STST
2561   3280 86 CF       LAPRALL    	STX 	DC
2562   3282 20 EA 33              	JSR 	OUTCR
2563   3285 A0 02       LAEND     	LDY 	#$02
2564   3287 B1 DD                 	LDA 	(SCRAT0),Y
2565   3289 D0 04                 	BNE 	LANORM
2566   328B 20 EA 33              	JSR 	OUTCR
2567   328E 60                    	RTS 	
2568   328F             ;			
2569   328F 20 B0 23    LANORM     	JSR 	CRTTXTLIN
2570   3292 AD 35 01              	LDA 	CRT
2571   3295 C9 21                 	CMP 	#'!'
2572   3297 F0 04                 	BEQ 	LANXT
2573   3299 C9 2E                 	CMP 	#'.'
2574   329B D0 06                 	BNE 	LAPRONE 
2575   329D 20 BE 30    LANXT     	JSR 	NXTLABSK 
2576   32A0 4C 85 32              	JMP 	LAEND
2577   32A3             
2578   32A3 98          LAPRONE    	TYA 	
2579   32A4 18                    	CLC 	
2580   32A5 65 CF                 	ADC 	DC
2581   32A7 85 CF                 	STA 	DC
2582   32A9 20 98 25              	JSR 	PRCRT
2583   32AC A9 3D                 	LDA 	#'='
2584   32AE 20 C4 33              	JSR 	OUTCHAR
2585   32B1 20 25 26              	JSR 	PRFIRST 
2586   32B4 20 BE 30              	JSR 	NXTLABSK 
2587   32B7 A4 CF                 	LDY 	DC
2588   32B9 A4 CF       LACOL     	LDY 	DC
2589   32BB 20 FC 33              	JSR 	OUTSP
2590   32BE C8                    	INY 	
2591   32BF 84 CF                 	STY 	DC
2592   32C1 C0 12                 	CPY 	#$12
2593   32C3 F0 C0                 	BEQ 	LAEND
2594   32C5 C0 24                 	CPY 	#$24
2595   32C7 F0 BC                 	BEQ 	LAEND
2596   32C9 B0 B5                 	BCS 	LAPRALL
2597   32CB D0 EC                 	BNE 	LACOL
2598   32CD             ;			
2599   32CD 8E 11 01    PASS1      	STX 	HEXDEC
2600   32D0 4C 5C 22              	JMP 	EXPASS2
2601   32D3             ;		
2602   32D3 B1 DD       EVMSEQ     	LDA 	(SCRAT0),Y
2603   32D5 C9 2E                 	CMP 	#'.'
2604   32D7 D0 1B                 	BNE 	EVFSEQ1
2605   32D9 A5 BC                 	LDA 	MACEXPAND
2606   32DB F0 48                 	BEQ 	EVTONXT1
2607   32DD C8                    	INY 	
2608   32DE B1 DD                 	LDA 	(SCRAT0),Y
2609   32E0 C5 C2                 	CMP 	MACSEQ
2610   32E2 D0 41                 	BNE 	EVTONXT1
2611   32E4 C8                    	INY 	
2612   32E5 B1 DD                 	LDA 	(SCRAT0),Y
2613   32E7 C5 C3                 	CMP 	MACSEQ+1
2614   32E9 D0 3A                 	BNE 	EVTONXT1
2615   32EB BD 35 01              	LDA 	CRT,X
2616   32EE C9 2E                 	CMP 	#'.'
2617   32F0 D0 33                 	BNE 	EVTONXT1
2618   32F2 F0 34                 	BEQ 	EVMACSRCH 
2619   32F4 C9 21       EVFSEQ1    	CMP 	#'!'
2620   32F6 D0 1E                 	BNE 	EVMSRCH
2621   32F8 C8                    	INY 	
2622   32F9 B1 DD                 	LDA 	(SCRAT0),Y
2623   32FB D0 08                 	BNE 	EVFSEQ 
2624   32FD C8                    	INY 	
2625   32FE B1 DD                 	LDA 	(SCRAT0),Y
2626   3300 F0 0E                 	BEQ 	EVFSEQOK 
2627   3302 88                    	DEY 	
2628   3303 B1 DD                 	LDA 	(SCRAT0),Y
2629   3305 C5 C4       EVFSEQ    	CMP 	FILESEQ
2630   3307 D0 1C                 	BNE 	EVTONXT1
2631   3309 C8                    	INY 	
2632   330A B1 DD                 	LDA 	(SCRAT0),Y
2633   330C C5 C5                 	CMP 	FILESEQ+1
2634   330E D0 15                 	BNE 	EVTONXT1
2635   3310 A5 BD       EVFSEQOK   	LDA 	MACSRCH
2636   3312 F0 14                 	BEQ 	EVMACSRCH 
2637   3314 D0 15                 	BNE 	EVMACDEF 
2638   3316 A5 BD       EVMSRCH    	LDA 	MACSRCH
2639   3318 D0 0B                 	BNE 	EVTONXT1
2640   331A BD 35 01              	LDA 	CRT,X
2641   331D C9 2E                 	CMP 	#'.'
2642   331F F0 04                 	BEQ 	EVTONXT1
2643   3321 C9 21                 	CMP 	#'!'
2644   3323 D0 07                 	BNE 	EVCOMP1  
2645   3325 4C 37 32    EVTONXT1   	JMP 	EVTONXT
2646   3328             ;
2647   3328 E8          EVMACSRCH   INX 	
2648   3329 E8                    	INX 	
2649   332A E8                    	INX 	
2650   332B C8          EVMACDEF   	INY 	
2651   332C 4C 1B 32    EVCOMP1   	JMP 	EVCOMP
2652   332F             ;
2653   332F             ; Tape 0 1 device off KIM-1
2654   332F             ;
2655   332F AD 02 17    TD0OFF     	LDA 	CPORT
2656   3332 29 FE                 	AND 	#$FE
2657   3334 8D 02 17              	STA 	CPORT
2658   3337 60                    	RTS 	
2659   3338             ;			
2660   3338 AD 02 17    TD1OFF     	LDA 	CPORT
2661   333B 29 FD                 	AND 	#$FD
2662   333D 8D 02 17              	STA 	CPORT
2663   3340 60                    	RTS 	
2664   3341             ;
2665   3341             ; Tape device 0 1 on KIM-1 
2666   3341             ;
2667   3341 AD 02 17    TD0ON     	LDA 	CPORT
2668   3344 09 01                 	ORA 	#$01
2669   3346 8D 02 17              	STA 	CPORT
2670   3349 60                    	RTS 	
2671   334A             ;			
2672   334A AD 02 17    TD1ON     	LDA 	CPORT
2673   334D 09 02                 	ORA 	#$02
2674   334F 8D 02 17              	STA 	CPORT
2675   3352 60                    	RTS 
2676   3353             ;
2677   3353             ; 			
2678   3353 A2 08       OFF        	LDX 	#FIRST-TXST
2679   3355 20 E4 22              	JSR 	GETDECPARM 
2680   3358 AD 08 01              	LDA 	FIRST
2681   335B D0 06                 	BNE 	TSTTD1
2682   335D 20 2F 33              	JSR 	TD0OFF 
2683   3360 4C 5E 20              	JMP 	MONLOOP1
2684   3363             ;			
2685   3363 C9 01       TSTTD1     	CMP 	#$01
2686   3365 F0 03                 	BEQ 	TD1OFF1 
2687   3367 4C 35 24    ERR161     	JMP 	ERR.16
2688   336A             ;
2689   336A 20 38 33    TD1OFF1    	JSR 	TD1OFF
2690   336D 4C 5E 20              	JMP 	MONLOOP1
2691   3370             ;			
2692   3370 A2 08       ON         	LDX 	#FIRST-TXST
2693   3372 20 E4 22              	JSR 	GETDECPARM 
2694   3375 AD 08 01              	LDA 	FIRST
2695   3378 D0 06                 	BNE 	TSTTD11
2696   337A 20 41 33              	JSR 	TD0ON
2697   337D 4C 5E 20              	JMP 	MONLOOP1
2698   3380             ;			
2699   3380 C9 01       TSTTD11    	CMP 	#$01
2700   3382 D0 E3                 	BNE 	ERR161				;ILLEGAL TAPEDECK NR
2701   3384 20 4A 33              	JSR 	TD1ON
2702   3387 4C 5E 20              	JMP 	MONLOOP1
2703   338A             			
2704   338A 20 8D 33    DELAY8T    	JSR 	DELAY4T
2705   338D 20 90 33    DELAY4T    	JSR 	DELAY2T
2706   3390 20 93 33    DELAY2T    	JSR 	DELAYT
2707   3393 A2 60       DELAYT    	LDX 	#$60
2708   3395 8E 2D 01              	STX 	DELAY1
2709   3398 8E 2E 01              	STX 	DELAY2
2710   339B EE 2D 01    DELAYON    	INC 	DELAY1
2711   339E D0 FB                 	BNE 	DELAYON
2712   33A0 EE 2E 01              	INC 	DELAY2
2713   33A3 D0 F6                 	BNE 	DELAYON
2714   33A5 A2 00                 	LDX 	#$00
2715   33A7 60                    	RTS 
2716   33A8             ;			
2717   33A8 20 4A 33    TD1ONW     	JSR 	TD1ON
2718   33AB 20 93 33              	JSR 	DELAYT
2719   33AE 60                    	RTS 	
2720   33AF             ;
2721   33AF 20 41 33    TD0ONW     	JSR 	TD0ON
2722   33B2 20 8A 33              	JSR 	DELAY8T
2723   33B5 60                    	RTS 	
2724   33B6             ;
2725   33B6 20 93 33    TD1OFW      	JSR 	DELAYT
2726   33B9 20 38 33              	JSR 	TD1OFF
2727   33BC 60                    	RTS 	
2728   33BD             ;
2729   33BD 20 93 33    TD0OFW     	JSR 	DELAYT
2730   33C0 20 2F 33              	JSR 	TD0OFF 
2731   33C3 60                    	RTS 	
2732   33C4             ;
2733   33C4 48          OUTCHAR    	PHA 	
2734   33C5 84 E4                 	STY 	SAVEY
2735   33C7 86 E5                 	STX 	SAVEX
2736   33C9 AD 1F 01              	LDA 	PRINTCTL
2737   33CC F0 05                 	BEQ 	NOHARDCP 
2738   33CE 68                    	PLA 	
2739   33CF 48          HALAYOUT1  	PHA 	
2740   33D0 20 D4 38              	JSR 	HALAYOUT 
2741   33D3 68          NOHARDCP   	PLA 	
2742   33D4 20 C9 3B              	JSR 	PRBRKTST
2743   33D7 A4 E4                 	LDY 	SAVEY
2744   33D9 A6 E5                 	LDX 	SAVEX
2745   33DB D8                    	CLD 	
2746   33DC 60                    	RTS
2747   33DD             ;			
2748   33DD 84 E4       INSAVXY    	STY 	SAVEY
2749   33DF 86 E5                 	STX 	SAVEX
2750   33E1 20 2A 3C              	JSR 	INTSTCHR
2751   33E4 A4 E4                 	LDY 	SAVEY
2752   33E6 A6 E5                 	LDX 	SAVEX
2753   33E8 D8                    	CLD 	
2754   33E9 60                    	RTS 	
2755   33EA             
2756   33EA 20 F3 33    OUTCR     	JSR 	JSROUTCR1
2757   33ED EA                    	NOP 	
2758   33EE EA                    	NOP 	
2759   33EF EA                    	NOP 	
2760   33F0 EA                    	NOP 	
2761   33F1 EA                    	NOP 	
2762   33F2 60                    	RTS 
2763   33F3             ;			
2764   33F3 A9 0D       JSROUTCR1  	LDA 	#$0D
2765   33F5 20 C4 33              	JSR 	OUTCHAR
2766   33F8 60                    	RTS 
2767   33F9             ;			
2768   33F9 20 FC 33    OUT2SP     	JSR 	OUTSP
2769   33FC A9 20       OUTSP     	LDA 	#' '
2770   33FE 20 C4 33              	JSR 	OUTCHAR
2771   3401 60                    	RTS 	
2772   3402             			
2773   3402 48          OUTBYTE     PHA 	
2774   3403 4A                    	LSR 	A
2775   3404 4A                    	LSR 	A
2776   3405 4A                    	LSR 	A
2777   3406 4A                    	LSR 	A
2778   3407 20 0F 34              	JSR 	OUTNIBBLE
2779   340A 68                    	PLA 	
2780   340B 20 0F 34              	JSR 	OUTNIBBLE
2781   340E 60                    	RTS
2782   340F             ;			
2783   340F 29 0F       OUTNIBBLE  	AND 	#$0F
2784   3411 09 30                 	ORA 	#$30
2785   3413 C9 3A                 	CMP 	#':'
2786   3415 90 02                 	BCC 	NODEC
2787   3417 69 06                 	ADC 	#$06
2788   3419 20 C4 33    NODEC     	JSR 	OUTCHAR
2789   341C 60                    	RTS 	
2790   341D             ;			
2791   341D 20 23 34    NUMBER     	JSR 	EXNUMB
2792   3420 4C 5C 20              	JMP 	MONLOOP
2793   3423             			
2794   3423 20 FA 21    EXNUMB    	JSR 	INFL
2795   3426 AD 0B 01              	LDA 	LAST+1 
2796   3429 C9 FF                 	CMP 	#$FF
2797   342B D0 03                 	BNE 	RENUMB
2798   342D 4C 3A 24              	JMP 	ERR.11				; MISSING PARM IN NU COMM
2799   3430             			
2800   3430 A0 00       RENUMB     	LDY 	#$00
2801   3432 18                    	CLC 	
2802   3433 F8                    	SED 	
2803   3434 08          RENULN     	PHP 	
2804   3435 C0 02                 	CPY 	#$02
2805   3437 D0 0F                 	BNE 	RENUADD
2806   3439 20 A2 23              	JSR 	NXTLILA
2807   343C 28                    	PLP 	
2808   343D 90 03                 	BCC 	RENUMBD
2809   343F 4C 3B 24              	JMP 	ERR.10				;LINE # OVRFLW 
2810   3442             			
2811   3442 B1 DD       RENUMBD    	LDA 	(SCRAT0),Y
2812   3444 D0 EA                 	BNE 	RENUMB
2813   3446 D8                    	CLD 	
2814   3447 60                    	RTS
2815   3448             ;			
2816   3448 28          RENUADD    	PLP 	
2817   3449 B9 0A 01              	LDA 	LAST,Y
2818   344C 79 08 01              	ADC 	FIRST,Y
2819   344F 99 08 01              	STA 	FIRST,Y
2820   3452 91 DD                 	STA 	(SCRAT0),Y
2821   3454 C8                    	INY 	
2822   3455 D0 DD                 	BNE 	RENULN
2823   3457             			
2824   3457 A9 6F       RC         	LDA 	#$6F
2825   3459 4C BB 2D              	JMP 	P3RDIR
2826   345C             ;
2827   345C A2 08       GPLNGE      	LDX 	#FIRST-TXST 
2828   345E 20 E4 22              	JSR 	GETDECPARM 
2829   3461 84 CE       PXFEOF     	STY 	SAVE
2830   3463 20 12 22              	JSR 	FINDLNGE
2831   3466 A4 CE                 	LDY 	SAVE
2832   3468 60                    	RTS 
2833   3469             ;			
2834   3469 20 87 34    GET     	JSR 	GPARMS
2835   346C AD 28 01    GGOTIT     	LDA 	HFILENO 
2836   346F C9 EE                 	CMP 	#$EE
2837   3471 F0 0E                 	BEQ 	GEOF
2838   3473 AD 23 01              	LDA 	LOADNO 
2839   3476 F0 03                 	BEQ 	GTRYAGN
2840   3478 4C 5C 20              	JMP 	MONLOOP
2841   347B             			
2842   347B 20 A9 34    GTRYAGN    	JSR 	GHFILE
2843   347E 4C 6C 34              	JMP 	GGOTIT
2844   3481             
2845   3481 20 9E 20    GEOF     	JSR 	TXTEND0
2846   3484 4C 5C 20              	JMP 	MONLOOP
2847   3487             ;
2848   3487 20 99 21    GPARMS    	JSR 	GETFILNO
2849   348A 20 90 26              	JSR 	GETCRTUP
2850   348D C9 20                 	CMP 	#' '
2851   348F D0 06                 	BNE 	GAPP
2852   3491 20 94 20    GCLEAR      	JSR 	TXTCLEAR
2853   3494 18                    	CLC 	
2854   3495 90 04                 	BCC 	GSA
2855   3497             ;			
2856   3497 C9 41       GAPP     	CMP 	#'A'
2857   3499 D0 0B                 	BNE 	GSRCHSA
2858   349B A5 D3       GSA     	LDA 	TPRES
2859   349D 85 DD                 	STA 	SCRAT0
2860   349F A5 D4                 	LDA 	TPRES+1
2861   34A1 85 DE                 	STA 	SCRAT0+1
2862   34A3 18                    	CLC 	
2863   34A4 90 03                 	BCC 	GHFILE
2864   34A6             ;			
2865   34A6 20 5C 34    GSRCHSA    	JSR 	GPLNGE 
2866   34A9 20 A8 33    GHFILE    	JSR 	TD1ONW
2867   34AC 20 31 35              	JSR 	TADSHFADS 
2868   34AF 8D 23 01              	STA 	LOADNO 
2869   34B2 20 98 3F              	JSR 	LOADER
2870   34B5 D0 69                 	BNE 	GLOADERR
2871   34B7 A5 DD                 	LDA 	SCRAT0
2872   34B9 8D 24 01              	STA 	TSTART 
2873   34BC A5 DE                 	LDA 	SCRAT0+1
2874   34BE 8D 25 01              	STA 	TSTART+1
2875   34C1 38                    	SEC 	
2876   34C2 AD 2B 01              	LDA 	HEND
2877   34C5 ED 29 01              	SBC 	HSTART
2878   34C8 48                    	PHA 	
2879   34C9 AD 2C 01              	LDA 	HEND+1
2880   34CC ED 2A 01              	SBC 	HSTART+1
2881   34CF AA                    	TAX 	
2882   34D0 68                    	PLA 	
2883   34D1 85 D1                 	STA 	PROCADDRS
2884   34D3 18                    	CLC 	
2885   34D4 65 DD                 	ADC 	SCRAT0
2886   34D6 8D 26 01              	STA 	TEND
2887   34D9 8A                    	TXA 	
2888   34DA 85 D2                 	STA 	PROCADDRS+1
2889   34DC 65 DE                 	ADC 	SCRAT0+1
2890   34DE 8D 27 01              	STA 	TEND+1
2891   34E1 A9 00                 	LDA 	#$00
2892   34E3 8D 23 01              	STA 	LOADNO 
2893   34E6 AD 10 01              	LDA 	FILENO
2894   34E9 F0 05                 	BEQ 	GDOLOAD
2895   34EB CD 28 01              	CMP 	HFILENO 
2896   34EE D0 1F                 	BNE 	GAFILE
2897   34F0 EE 23 01    GDOLOAD   	INC 	LOADNO 
2898   34F3 AD 27 01              	LDA 	TEND+1
2899   34F6 CD 03 01              	CMP 	TXEN+1
2900   34F9 90 14                 	BCC 	GAFILE
2901   34FB D0 08                 	BNE 	GTXTOVFLW
2902   34FD AD 26 01              	LDA 	TEND
2903   3500 CD 02 01              	CMP 	TXEN
2904   3503 90 0A                 	BCC 	GAFILE
2905   3505 A9 01       GTXTOVFLW  	LDA 	#$01
2906   3507 8D 12 01              	STA 	TERM
2907   350A A2 00                 	LDX 	#$00
2908   350C 4C 3C 24              	JMP 	ERR.F				;TEXT FILE OVRFLW 
2909   350F             ;			
2910   350F 20 98 3F    GAFILE     	JSR 	LOADER
2911   3512 D0 0C                 	BNE 	GLOADERR
2912   3514 A2 00                 	LDX 	#$00
2913   3516 20 B7 35              	JSR 	GLOADED
2914   3519 20 B6 33              	JSR 	TD1OFW 
2915   351C 20 CA 35              	JSR 	PRFILINFO
2916   351F 60                    	RTS 
2917   3520             			
2918   3520 A2 00       GLOADERR   	LDX 	#$00
2919   3522 AD 23 01              	LDA 	LOADNO 
2920   3525 F0 03                 	BEQ 	GNTFATAL
2921   3527 8D 12 01              	STA 	TERM
2922   352A 20 9E 20    GNTFATAL    	JSR 	TXTEND0
2923   352D 20 34 24              	JSR 	ERR.17
2924   3530 60                    	RTS 
2925   3531             			
2926   3531 A9 28       TADSHFADS  	LDA 	#HFILENO &$FF
2927   3533 8D 24 01              	STA 	TSTART 
2928   3536 A9 2D                 	LDA 	#HEND+2 &$FF
2929   3538 8D 26 01              	STA 	TEND
2930   353B A9 01                 	LDA 	#$01
2931   353D 8D 25 01              	STA 	$TSTART+1
2932   3540 8D 27 01              	STA 	TEND+1
2933   3543 60                    	RTS 
2934   3544             ;			
2935   3544 20 8C 3B    PUT        	JSR 	HFLTXTADS
2936   3547 20 90 26              	JSR 	GETCRTUP
2937   354A C9 20                 	CMP 	#$20
2938   354C F0 48                 	BEQ 	PUTITRETM
2939   354E C9 58                 	CMP 	#'X'
2940   3550 D0 0E                 	BNE 	PFILNO
2941   3552 A9 EE                 	LDA 	#$EE
2942   3554 8D 10 01              	STA 	FILENO
2943   3557 8D 09 01              	STA 	FIRST+1
2944   355A 20 61 34              	JSR 	PXFEOF
2945   355D C8                    	INY 	
2946   355E D0 0A                 	BNE 	PSA 
2947   3560 20 99 21    PFILNO     	JSR 	GETFILNO
2948   3563 C0 50                 	CPY 	#$50
2949   3565 B0 2F                 	BCS 	PUTITRETM
2950   3567 20 5C 34              	JSR 	GPLNGE 
2951   356A A5 DD       PSA      	LDA 	SCRAT0
2952   356C 8D 29 01              	STA 	HSTART
2953   356F A5 DE                 	LDA 	SCRAT0+1
2954   3571 8D 2A 01              	STA 	HSTART+1
2955   3574 20 10 25              	JSR 	NXTLETTER
2956   3577 A2 08                 	LDX 	#FIRST-TXST
2957   3579 20 E4 22              	JSR 	GETDECPARM 
2958   357C A0 02                 	LDY 	#$02
2959   357E B1 DD                 	LDA 	(SCRAT0),Y
2960   3580 F0 0A                 	BEQ 	PEA
2961   3582 20 2A 22              	JSR 	LNNRLESS
2962   3585 B0 05                 	BCS 	PEA
2963   3587 10 03                 	BPL 	PEA
2964   3589 20 A2 23              	JSR 	NXTLILA
2965   358C A5 DD       PEA     	LDA 	SCRAT0
2966   358E 8D 2B 01              	STA 	HEND
2967   3591 A5 DE                 	LDA 	SCRAT0+1
2968   3593 8D 2C 01              	STA 	HEND+1
2969   3596 20 8B 21    PUTITRETM   JSR 	PUTIT
2970   3599 4C 5C 20              	JMP 	MONLOOP
2971   359C             ;			
2972   359C 20 31 35    PUTHF      	JSR 	TADSHFADS 
2973   359F AD 10 01              	LDA 	FILENO
2974   35A2 8D 28 01              	STA 	HFILENO 
2975   35A5 20 B3 35              	JSR 	PUTH 
2976   35A8 A0 03                 	LDY 	#$03
2977   35AA B9 29 01    PUTF     	LDA 	HSTART,Y
2978   35AD 99 24 01              	STA 	TSTART ,Y
2979   35B0 88                    	DEY 	
2980   35B1 10 F7                 	BPL 	PUTF
2981   35B3 20 C8 3F    PUTH      	JSR 	SAVER
2982   35B6 60                    	RTS 
2983   35B7             ;			
2984   35B7 AD 23 01    GLOADED    	LDA 	LOADNO 
2985   35BA F0 0D                 	BEQ 	GRET
2986   35BC AD 26 01              	LDA 	TEND
2987   35BF 85 D3                 	STA 	TPRES
2988   35C1 AD 27 01              	LDA 	TEND+1
2989   35C4 85 D4                 	STA 	TPRES+1
2990   35C6 20 9E 20              	JSR 	TXTEND0
2991   35C9 60          GRET     	RTS 	
2992   35CA             
2993   35CA A9 46       PRFILINFO  	LDA 	#'F'
2994   35CC 20 C4 33              	JSR 	OUTCHAR
2995   35CF AD 28 01              	LDA 	HFILENO 
2996   35D2 20 02 34              	JSR 	OUTBYTE
2997   35D5 20 F9 33              	JSR 	OUT2SP
2998   35D8 A5 D2                 	LDA 	PROCADDRS+1
2999   35DA 20 02 34              	JSR 	OUTBYTE
3000   35DD A5 D1                 	LDA 	PROCADDRS
3001   35DF 20 02 34              	JSR 	OUTBYTE
3002   35E2 AD 23 01              	LDA 	LOADNO 
3003   35E5 F0 20                 	BEQ 	PRNOADRS 
3004   35E7 20 F9 33              	JSR 	OUT2SP
3005   35EA AD 25 01              	LDA 	TSTART+1
3006   35ED 20 02 34              	JSR 	OUTBYTE
3007   35F0 AD 24 01              	LDA 	TSTART 
3008   35F3 20 02 34              	JSR 	OUTBYTE
3009   35F6 A9 2D                 	LDA 	#$2D
3010   35F8 20 C4 33              	JSR 	OUTCHAR
3011   35FB AD 27 01              	LDA 	TEND+1
3012   35FE 20 02 34              	JSR 	OUTBYTE
3013   3601 AD 26 01              	LDA 	TEND
3014   3604 20 02 34              	JSR 	OUTBYTE
3015   3607 20 EA 33    PRNOADRS   	JSR 	OUTCR
3016   360A 60                    	RTS 	
3017   360B             ;
3018   360B BD 2C 36    SETBNDS    	LDA 	DEFAULTS,X
3019   360E 9D 00 01              	STA 	TXST,X
3020   3611 E8                    	INX 	
3021   3612 E0 08                 	CPX 	#$08
3022   3614 90 F5                 	BCC 	SETBNDS
3023   3616 AD 34 36              	LDA 	DEFAULTS+8
3024   3619 85 C8                 	STA 	PURECL
3025   361B AD 35 36              	LDA 	DEFAULTS+9
3026   361E 85 C9                 	STA 	PURECH
3027   3620 A2 00                 	LDX 	#$00
3028   3622 20 94 20    CLRTXTST   	JSR 	TXTCLEAR
3029   3625 20 57 2F              	JSR 	SPRESSTST
3030   3628 20 75 30              	JSR 	STEND0
3031   362B 60                    	RTS 	
3032   362C             ;			
3033   362C 63 41       DEFAULTS  	.WORD 	$4163			; Workspace defaults
3034   362E FC 53       			.WORD 	$53FC
3035   3630 00 54       			.WORD 	$5400
3036   3632 FC 5E       			.WORD 	$5EFC
3037   3634 00 5F       			.WORD	$5F00
3038   3636             			
3039   3636 8C 31 01    FIND      	STY 	EDITFINDC
3040   3639 4C 52 36              	JMP 	EDSTRING
3041   363C             			
3042   363C 8E 31 01    EDIT       	STX 	EDITFINDC
3043   363F 86 DF                 	STX 	SCRAT1
3044   3641 20 6E 26              	JSR 	GETCRTHX
3045   3644 F0 0C                 	BEQ 	EDSTRING
3046   3646 A5 DF                 	LDA 	SCRAT1
3047   3648 D0 08                 	BNE 	EDSTRING
3048   364A 4C E7 37              	JMP 	EDLINE
3049   364D             ;			
3050   364D A2 00       EDSYNER    	LDX 	#$00
3051   364F 4C 36 24              	JMP 	ERR.15			; syntax error in ED command
3052   3652             			
3053   3652 A9 25       EDSTRING   	LDA 	#'%'
3054   3654 85 CF                 	STA 	DC
3055   3656 86 DB                 	STX 	ERRORS
3056   3658 86 DC                 	STX 	ERRORS+1
3057   365A EE 33 01              	INC 	TABSN
3058   365D A2 02                 	LDX 	#$02
3059   365F B9 35 01              	LDA 	CRT,Y
3060   3662 85 CD                 	STA 	DELIM
3061   3664 C8                    	INY 	
3062   3665 98                    	TYA 	
3063   3666 9D 8F 01              	STA 	CRTEX,X
3064   3669 E0 01       EDSAVSTRS  	CPX 	#$01
3065   366B D0 05                 	BNE 	EFSAVSTR
3066   366D AD 31 01              	LDA 	EDITFINDC
3067   3670 D0 16                 	BNE 	EFEMPTY
3068   3672 B9 35 01    EFSAVSTR   	LDA 	CRT,Y
3069   3675 99 8F 01              	STA 	CRTEX,Y
3070   3678 C8                    	INY 	
3071   3679 C0 4C                 	CPY 	#$4C
3072   367B B0 D0                 	BCS 	EDSYNER
3073   367D C5 CD                 	CMP 	DELIM
3074   367F D0 E8                 	BNE 	EDSAVSTRS
3075   3681 98                    	TYA 	
3076   3682 CA                    	DEX 	
3077   3683 9D 8F 01              	STA 	CRTEX,X
3078   3686 D0 E1                 	BNE 	EDSAVSTRS
3079   3688 AD 90 01    EFEMPTY    	LDA 	CRTEX+1 
3080   368B 18                    	CLC 	
3081   368C ED 91 01              	SBC 	CRTEX+2
3082   368F F0 BC                 	BEQ 	EDSYNER
3083   3691 A2 00                 	LDX 	#$00
3084   3693 8E 92 01              	STX 	CRTEX+3
3085   3696 20 10 25              	JSR 	NXTLETTER
3086   3699 B9 35 01              	LDA 	CRT,Y
3087   369C C9 25                 	CMP 	#'%'
3088   369E D0 0D                 	BNE 	EDSUBCS
3089   36A0 C8                    	INY 	
3090   36A1 B9 35 01              	LDA 	CRT,Y
3091   36A4 85 CF                 	STA 	DC
3092   36A6 C8                    	INY 	
3093   36A7 20 10 25              	JSR 	NXTLETTER
3094   36AA B9 35 01              	LDA 	CRT,Y
3095   36AD C9 2A       EDSUBCS    	CMP 	#'*'
3096   36AF D0 05                 	BNE 	EFSUPPRO
3097   36B1 EE 92 01              	INC 	CRTEX+3
3098   36B4 D0 07                 	BNE 	EFTOPARMS
3099   36B6             ;			
3100   36B6 C9 23       EFSUPPRO    CMP 	#'#'
3101   36B8 D0 06                 	BNE 	EFGTPARMS
3102   36BA CE 92 01              	DEC 	CRTEX+3
3103   36BD 20 0D 25    EFTOPARMS  	JSR 	NXTWORD
3104   36C0 20 FA 21    EFGTPARMS   JSR 	INFL
3105   36C3 A0 02       EFEOF     	LDY 	#$02
3106   36C5 B1 DD                 	LDA 	(SCRAT0),Y
3107   36C7 D0 03                 	BNE 	EFSRCHSTR
3108   36C9 4C 54 37              	JMP 	EDDONE
3109   36CC             ;			
3110   36CC 20 C5 37    EFSRCHSTR   JSR 	EFCT 
3111   36CF 8E 18 01              	STX 	ADDRS
3112   36D2 AE 91 01    EFSRCHA1    LDX 	CRTEX+2 
3113   36D5 AC 18 01              	LDY 	ADDRS
3114   36D8 C4 CE       EFEOL     	CPY 	SAVE
3115   36DA F0 02                 	BEQ 	EFDCDLM
3116   36DC B0 20                 	BCS 	EFNEWLN
3117   36DE BD 8F 01    EFDCDLM    	LDA 	CRTEX,X
3118   36E1 C5 CF                 	CMP 	DC
3119   36E3 F0 15                 	BEQ 	EFMATCH
3120   36E5 C5 CD                 	CMP 	DELIM
3121   36E7 D0 07                 	BNE 	EFCMPCH 
3122   36E9 A2 00                 	LDX 	#$00
3123   36EB 8C 8E 01              	STY 	CRTEX-1
3124   36EE F0 24                 	BEQ 	EFFOUND
3125   36F0             ;			
3126   36F0 D9 35 01    EFCMPCH    	CMP 	CRT,Y
3127   36F3 F0 05                 	BEQ 	EFMATCH
3128   36F5 EE 18 01    EFSRCHON   	INC 	ADDRS
3129   36F8 D0 D8                 	BNE 	EFSRCHA1
3130   36FA             ;
3131   36FA E8          EFMATCH    	INX 	
3132   36FB C8                    	INY 	
3133   36FC D0 DA                 	BNE 	EFEOL
3134   36FE             
3135   36FE A2 00       EFNEWLN    	LDX 	#$00
3136   3700 20 A2 23    EFNXTLN     	JSR 	NXTLILA
3137   3703 A0 02                 	LDY 	#$02
3138   3705 88          EFDONE     	DEY 	
3139   3706 30 09                 	BMI 	EFEOF1 
3140   3708 B9 0A 01              	LDA 	LAST,Y
3141   370B D1 DD                 	CMP 	(SCRAT0),Y
3142   370D F0 F6                 	BEQ 	EFDONE
3143   370F 90 43                 	BCC 	EDDONE
3144   3711 4C C3 36    EFEOF1     	JMP 	EFEOF
3145   3714             ;
3146   3714 20 D7 37    EFFOUND    	JSR 	INCERRORS
3147   3717 AD 31 01              	LDA 	EDITFINDC
3148   371A D0 07                 	BNE 	EFPRCOLNR
3149   371C AD 92 01              	LDA 	CRTEX+3
3150   371F 30 5B                 	BMI 	EDCHNGE
3151   3721 F0 59                 	BEQ 	EDCHNGE
3152   3723 AD 92 01    EFPRCOLNR  	LDA 	CRTEX+3
3153   3726 30 0F                 	BMI 	EDSUBCIN
3154   3728 20 FC 33              	JSR 	OUTSP
3155   372B AD 18 01              	LDA 	ADDRS
3156   372E 20 02 34              	JSR 	OUTBYTE
3157   3731 20 4B 38              	JSR 	EFPRLIN
3158   3734 20 EA 33    EDCR     	JSR 	OUTCR
3159   3737 AD 31 01    EDSUBCIN   	LDA 	EDITFINDC
3160   373A D0 B9                 	BNE 	EFSRCHON
3161   373C A9 2A                 	LDA 	#'*'
3162   373E 20 C4 33              	JSR 	OUTCHAR
3163   3741 20 DD 33              	JSR 	INSAVXY
3164   3744 20 93 26              	JSR 	UPPERCASE
3165   3747 48                    	PHA 	
3166   3748 20 EA 33              	JSR 	OUTCR
3167   374B 68                    	PLA 	
3168   374C C9 53                 	CMP 	#'S'
3169   374E F0 AE                 	BEQ 	EFNEWLN
3170   3750 C9 58                 	CMP 	#'X'
3171   3752 D0 09                 	BNE 	EDMAF
3172   3754 20 ED 21    EDDONE     	JSR 	CLRSPR
3173   3757 20 2F 2F              	JSR 	PRERRORS
3174   375A 4C 5E 20              	JMP 	MONLOOP1
3175   375D             ;			
3176   375D C9 4D       EDMAF     	CMP 	#'M'
3177   375F F0 94                 	BEQ 	EFSRCHON
3178   3761 C9 41                 	CMP 	#'A'
3179   3763 F0 17                 	BEQ 	EDCHNGE
3180   3765 C9 06                 	CMP 	#$06				; ACK?
3181   3767 D0 09                 	BNE 	EDD
3182   3769 20 FD 37              	JSR 	ELSTART
3183   376C 20 EA 33              	JSR 	OUTCR
3184   376F 4C FE 36              	JMP 	EFNEWLN
3185   3772             ;			
3186   3772 C9 44       EDD     	CMP 	#'D'
3187   3774 D0 BE                 	BNE 	EDCR
3188   3776 20 62 23              	JSR 	FILNDEL
3189   3779 4C 00 37              	JMP 	EFNXTLN
3190   377C             ;			
3191   377C AD 31 01    EDCHNGE   	LDA 	EDITFINDC
3192   377F F0 03                 	BEQ 	EDCHNGE1
3193   3781 4C F5 36              	JMP 	EFSRCHON
3194   3784             			
3195   3784 AD 8E 01    EDCHNGE1   	LDA 	CRTEX-1
3196   3787 A8                    	TAY 	
3197   3788 38                    	SEC 	
3198   3789 ED 18 01              	SBC 	ADDRS
3199   378C AA                    	TAX 	
3200   378D 20 9B 38    EDDELSTR   	JSR 	EDDELCH 
3201   3790 CA                    	DEX 	
3202   3791 D0 FA                 	BNE 	EDDELSTR
3203   3793 AE 90 01              	LDX 	CRTEX+1 
3204   3796 BD 8F 01    EDINSSTR   	LDA 	CRTEX,X
3205   3799 C5 CD                 	CMP 	DELIM
3206   379B F0 07                 	BEQ 	EDLINOK 
3207   379D 20 72 38              	JSR 	EDINSCH 
3208   37A0 C8                    	INY 	
3209   37A1 E8                    	INX 	
3210   37A2 D0 F2                 	BNE 	EDINSSTR 
3211   37A4 8C 18 01    EDLINOK    	STY 	ADDRS
3212   37A7 20 B5 38              	JSR 	EDCHNGELN 
3213   37AA B0 03                 	BCS 	EDPRNEW
3214   37AC 4C 11 37              	JMP 	EFEOF1 
3215   37AF             ;
3216   37AF AD 92 01    EDPRNEW    	LDA 	CRTEX+3
3217   37B2 10 08                 	BPL 	EDPRNEW1
3218   37B4 A9 00                 	LDA 	#$00
3219   37B6 20 C4 33              	JSR 	OUTCHAR
3220   37B9 4C D2 36              	JMP 	EFSRCHA1
3221   37BC             			
3222   37BC 20 4B 38    EDPRNEW1   	JSR 	EFPRLIN
3223   37BF 20 EA 33              	JSR 	OUTCR
3224   37C2 4C D2 36              	JMP 	EFSRCHA1
3225   37C5             ;			
3226   37C5 AD 0F 01    EFCT      	LDA 	FORMAT
3227   37C8 48                    	PHA 	
3228   37C9 8E 0F 01              	STX 	FORMAT
3229   37CC 20 B0 23              	JSR 	CRTTXTLIN
3230   37CF 68                    	PLA 	
3231   37D0 8D 0F 01              	STA 	FORMAT
3232   37D3 C8                    	INY 	
3233   37D4 84 CE                 	STY 	SAVE
3234   37D6 60                    	RTS 	
3235   37D7             ;
3236   37D7 F8          INCERRORS  	SED 	
3237   37D8 18                    	CLC 	
3238   37D9 A5 DB                 	LDA 	ERRORS
3239   37DB 69 01                 	ADC 	#$01
3240   37DD 85 DB                 	STA 	ERRORS
3241   37DF A5 DC                 	LDA 	$DC
3242   37E1 69 00                 	ADC 	#$00
3243   37E3 85 DC                 	STA 	$DC
3244   37E5 D8                    	CLD 	
3245   37E6 60                    	RTS 
3246   37E7             ;			
3247   37E7 20 FA 21    EDLINE     	JSR 	INFL
3248   37EA 10 0E                 	BPL 	MONLOOP13 
3249   37EC B0 0C                 	BCS 	MONLOOP13 
3250   37EE 20 C5 37              	JSR 	EFCT 
3251   37F1 20 98 25              	JSR 	PRCRT
3252   37F4 20 EA 33              	JSR 	OUTCR
3253   37F7 20 FD 37              	JSR 	ELSTART
3254   37FA 4C 5E 20    MONLOOP13   JMP 	MONLOOP1
3255   37FD             
3256   37FD A0 00       ELSTART    	LDY 	#$00
3257   37FF 20 DD 33    ELF     	JSR 	INSAVXY
3258   3802 C9 06                 	CMP 	#$06				;ACK? (^F) 
3259   3804 D0 26                 	BNE 	ELDEL1		
3260   3806 A9 3E                 	LDA 	#'>'
3261   3808 20 C4 33              	JSR 	OUTCHAR
3262   380B 20 DD 33              	JSR 	INSAVXY
3263   380E C9 06                 	CMP 	#$06				;ACK? (^F)	
3264   3810 F0 ED                 	BEQ 	ELF
3265   3812 8D 8D 01              	STA 	CRTEX-2
3266   3815 C8          ELNXTCH    	INY 	
3267   3816 C4 CE                 	CPY 	SAVE
3268   3818 90 03                 	BCC 	ELPRCH 
3269   381A F0 01                 	BEQ 	ELPRCH 
3270   381C 60                    	RTS 	
3271   381D             ;
3272   381D B9 34 01    ELPRCH     	LDA 	CRT-1,Y
3273   3820 48                    	PHA 	
3274   3821 20 C4 33              	JSR 	OUTCHAR
3275   3824 68                    	PLA 	
3276   3825 CD 8D 01              	CMP 	CRTEX-2
3277   3828 D0 EB                 	BNE 	ELNXTCH
3278   382A F0 D3                 	BEQ 	ELF
3279   382C             ;			
3280   382C C9 08       ELDEL1     	CMP 	#$08				; BS?
3281   382E F0 09                 	BEQ 	ELDEL				; DEL?
3282   3830 C9 7F                 	CMP 	#$7F
3283   3832 D0 0B                 	BNE 	ELCR1
3284   3834 A9 5C                 	LDA 	#$5C
3285   3836 20 C4 33              	JSR 	OUTCHAR
3286   3839 20 9B 38    ELDEL     	JSR 	EDDELCH 
3287   383C 4C FF 37              	JMP 	ELF
3288   383F             
3289   383F C9 0D       ELCR1     	CMP 	#$0D				; CR?
3290   3841 D0 17                 	BNE 	ELD
3291   3843 20 B5 38              	JSR 	EDCHNGELN 
3292   3846 90 11       EL.DONE    	BCC 	ELRET
3293   3848 20 EA 33              	JSR 	OUTCR
3294   384B 20 FC 33    EFPRLIN    	JSR 	OUTSP
3295   384E 20 22 26              	JSR 	PRSPFRST
3296   3851 20 F9 33              	JSR 	OUT2SP
3297   3854 A4 CE                 	LDY 	SAVE
3298   3856 20 98 25              	JSR 	PRCRT
3299   3859 60          ELRET     	RTS 
3300   385A             ;	
3301   385A C9 04       ELD     	CMP 	#$04				; EOT?
3302   385C D0 0D                 	BNE 	ELINSERT
3303   385E 20 EA 33              	JSR 	OUTCR
3304   3861 88                    	DEY 	
3305   3862 84 CE                 	STY 	SAVE
3306   3864 C8                    	INY 	
3307   3865 20 B7 38              	JSR 	EDMAX80
3308   3868 4C 46 38              	JMP 	EL.DONE
3309   386B             ;			
3310   386B 20 72 38    ELINSERT   	JSR 	EDINSCH 
3311   386E C8                    	INY 	
3312   386F 4C FF 37              	JMP 	ELF
3313   3872             ;
3314   3872 48          EDINSCH    	PHA 	
3315   3873 8C 19 01              	STY 	ADDRS+1
3316   3876 A4 CE                 	LDY 	SAVE
3317   3878 B9 35 01    EDUPW     	LDA 	CRT,Y
3318   387B 99 36 01              	STA 	CRT+1,Y
3319   387E 88                    	DEY 	
3320   387F 30 05                 	BMI 	ED76
3321   3881 CC 19 01              	CPY 	ADDRS+1
3322   3884 B0 F2                 	BCS 	EDUPW
3323   3886 68          ED76     	PLA 	
3324   3887 C8                    	INY 	
3325   3888 99 35 01              	STA 	CRT,Y
3326   388B C0 4C                 	CPY 	#76			
3327   388D 90 01                 	BCC 	EDINCEOL 
3328   388F 88                    	DEY 	
3329   3890 E6 CE       EDINCEOL   	INC 	SAVE
3330   3892 A5 CE                 	LDA 	SAVE
3331   3894 C9 4C                 	CMP 	#76
3332   3896 90 02                 	BCC 	EDIRET
3333   3898 C6 CE                 	DEC 	SAVE
3334   389A 60          EDIRET     	RTS 	
3335   389B             ;
3336   389B 88          EDDELCH    	DEY 	
3337   389C 10 01                 	BPL 	EDSVCUR
3338   389E C8                    	INY 	
3339   389F 98          EDSVCUR    	TYA 	
3340   38A0 48                    	PHA 	
3341   38A1 C8          EDDOWNW    	INY 	
3342   38A2 B9 35 01              	LDA 	CRT,Y
3343   38A5 99 34 01              	STA 	CRT-1,Y
3344   38A8 C4 CE                 	CPY 	SAVE
3345   38AA 90 F5                 	BCC 	EDDOWNW
3346   38AC C6 CE                 	DEC 	SAVE
3347   38AE 10 02                 	BPL 	EDGTCUR
3348   38B0 E6 CE                 	INC 	SAVE
3349   38B2 68          EDGTCUR    	PLA 	
3350   38B3 A8                    	TAY 	
3351   38B4 60                    	RTS 	
3352   38B5             ;
3353   38B5 A4 CE       EDCHNGELN  	LDY 	SAVE
3354   38B7 C8          EDMAX80    	INY 	
3355   38B8 C0 52                 	CPY 	#82
3356   38BA 90 02                 	BCC 	EDTOTXT
3357   38BC A0 51                 	LDY 	#81
3358   38BE 8C 1A 01    EDTOTXT    	STY 	 ADDPAD
3359   38C1 A2 00                 	LDX 	#$00
3360   38C3 20 62 23              	JSR 	FILNDEL
3361   38C6 AC 1A 01              	LDY 	ADDPAD
3362   38C9 C0 02                 	CPY 	#$02
3363   38CB 90 06                 	BCC 	EDCRET 
3364   38CD A0 00                 	LDY 	#$00
3365   38CF 20 FA 22              	JSR 	INSRTLN
3366   38D2 38                    	SEC 	
3367   38D3 60          EDCRET      RTS 	
3368   38D4             ;
3369   38D4 EA          HALAYOUT   	NOP 	
3370   38D5 EA                    	NOP 	
3371   38D6 EA                    	NOP 	
3372   38D7 C9 0A                 	CMP 	#$0A				; LF?
3373   38D9 D0 53                 	BNE 	HARET
3374   38DB EE 20 01              	INC 	LINECNTR
3375   38DE AD 20 01              	LDA 	LINECNTR
3376   38E1 C9 04                 	CMP 	#4
3377   38E3 F0 1D                 	BEQ 	HA36SP 
3378   38E5 C9 40                 	CMP 	#$40
3379   38E7 D0 45                 	BNE 	HARET
3380   38E9 A9 0A       HASKTONXT  	LDA 	#$0A
3381   38EB 20 C4 33              	JSR 	OUTCHAR
3382   38EE AD 20 01    HAPAGE     	LDA 	LINECNTR
3383   38F1 C9 3F                 	CMP 	#$3F
3384   38F3 D0 04                 	BNE 	HATST4
3385   38F5 A9 0A                 	LDA 	#$0A
3386   38F7 D0 DB                 	BNE 	HALAYOUT 
3387   38F9 C9 46       HATST4     	CMP 	#$46
3388   38FB D0 EC                 	BNE 	HASKTONXT
3389   38FD A9 04                 	LDA 	#$04
3390   38FF 8D 20 01              	STA 	LINECNTR
3391   3902 A9 24       HA36SP     	LDA 	#$24
3392   3904 8D 2D 01              	STA 	DELAY1
3393   3907 20 FC 33    HANXTSP    	JSR 	OUTSP
3394   390A CE 2D 01              	DEC 	DELAY1
3395   390D D0 F8                 	BNE 	HANXTSP
3396   390F 98                    	TYA 	
3397   3910 48                    	PHA 	
3398   3911 A0 41                 	LDY 	#MESPAGE-MESERROR 
3399   3913 20 2C 25              	JSR 	MESSAGE
3400   3916 68                    	PLA 	
3401   3917 A8                    	TAY 	
3402   3918 AD 21 01              	LDA 	PAGENUMB
3403   391B 48                    	PHA 	
3404   391C 20 02 34              	JSR 	OUTBYTE
3405   391F 68                    	PLA 	
3406   3920 F8                    	SED 	
3407   3921 18                    	CLC 	
3408   3922 69 01                 	ADC 	#$01
3409   3924 D8                    	CLD 	
3410   3925 8D 21 01              	STA 	PAGENUMB
3411   3928 20 EA 33              	JSR 	OUTCR
3412   392B 20 EA 33              	JSR 	OUTCR
3413   392E 60          HARET     	RTS 
3414   392F             ;	
3415   392F 20 90 26    HARD       	JSR 	GETCRTUP
3416   3932 C9 50                 	CMP 	#'P'
3417   3934 F0 1C                 	BEQ 	HASKIPP
3418   3936 8E 1F 01              	STX 	PRINTCTL
3419   3939 C9 53                 	CMP 	#'S'
3420   393B D0 06                 	BNE 	HASEPGNR
3421   393D 8E 20 01              	STX 	LINECNTR
3422   3940 EE 1F 01              	INC 	PRINTCTL
3423   3943 20 0D 25    HASEPGNR   	JSR 	NXTWORD
3424   3946 C0 50                 	CPY 	#80
3425   3948 B0 05                 	BCS 	MONLOOP14
3426   394A A2 21                 	LDX 	#PAGENUMB-TXST
3427   394C 20 E4 22              	JSR 	GETDECPARM 
3428   394F 4C 5E 20    MONLOOP14  	JMP 	MONLOOP1
3429   3952             
3430   3952 AD 1F 01    HASKIPP    	LDA 	PRINTCTL
3431   3955 F0 EC                 	BEQ 	HASEPGNR
3432   3957 98                    	TYA 	
3433   3958 48                    	PHA 	
3434   3959 20 EE 38              	JSR 	HAPAGE 
3435   395C 68                    	PLA 	
3436   395D A8                    	TAY 	
3437   395E 4C 43 39              	JMP 	HASEPGNR
3438   3961             ;			
3439   3961 20 67 39    COPY       	JSR 	EXCOPY 
3440   3964 4C 5C 20              	JMP 	MONLOOP
3441   3967             ;			
3442   3967 20 10 25    EXCOPY     	JSR 	NXTLETTER
3443   396A A2 08                 	LDX 	#FIRST-TXST
3444   396C 20 E4 22              	JSR 	GETDECPARM 
3445   396F AD 08 01              	LDA 	FIRST
3446   3972 48                    	PHA 	
3447   3973 AD 09 01              	LDA 	FIRST+1
3448   3976 48                    	PHA 	
3449   3977 84 CE                 	STY 	SAVE
3450   3979 20 12 22              	JSR 	FINDLNGE
3451   397C 10 03                 	BPL 	CDESTFND
3452   397E 20 A2 23              	JSR 	NXTLILA
3453   3981 A5 DD       CDESTFND   	LDA 	SCRAT0
3454   3983 85 E1                 	STA 	SCRAT3
3455   3985 A5 DE                 	LDA 	SCRAT0+1
3456   3987 85 E2                 	STA 	SCRAT4
3457   3989 A4 CE                 	LDY 	SAVE
3458   398B 20 10 25              	JSR 	NXTLETTER
3459   398E 20 FA 21              	JSR 	INFL
3460   3991 08                    	PHP 	
3461   3992 AD 0B 01              	LDA 	LAST+1 
3462   3995 C9 FF                 	CMP 	#$FF
3463   3997 D0 03                 	BNE 	CFROM
3464   3999 4C 3A 24              	JMP 	ERR.11				;MISSING PARM
3465   399C             			
3466   399C 20 9F 24    CFROM     	JSR 	SR12SR0 
3467   399F 28                    	PLP 	
3468   39A0 10 03                 	BPL 	CUNTIL
3469   39A2 20 A2 23              	JSR 	NXTLILA
3470   39A5 20 97 3A    CUNTIL     	JSR 	FIRSTLAST
3471   39A8 20 15 22              	JSR 	FNDEOF
3472   39AB 10 03                 	BPL 	CCALCTP
3473   39AD 20 A2 23              	JSR 	NXTLILA
3474   39B0 68          CCALCTP     PLA 	
3475   39B1 8D 09 01              	STA 	FIRST+1
3476   39B4 68                    	PLA 	
3477   39B5 8D 08 01              	STA 	FIRST
3478   39B8 38                    	SEC 	
3479   39B9 A5 DD                 	LDA 	SCRAT0
3480   39BB E5 DF                 	SBC 	SCRAT1
3481   39BD 85 D7                 	STA 	PC
3482   39BF A5 DE                 	LDA 	SCRAT0+1
3483   39C1 E5 E0                 	SBC 	SCRAT2
3484   39C3 85 D8                 	STA 	PC+1
3485   39C5 A5 D7                 	LDA 	PC
3486   39C7 18                    	CLC 	
3487   39C8 65 D3                 	ADC 	TPRES
3488   39CA 85 D9                 	STA 	REL
3489   39CC 48                    	PHA 	
3490   39CD A5 D8                 	LDA 	PC+1
3491   39CF 65 D4                 	ADC 	TPRES+1
3492   39D1 85 DA                 	STA 	REL+1 
3493   39D3 48                    	PHA 	
3494   39D4 CD 03 01              	CMP 	TXEN+1
3495   39D7 F0 05                 	BEQ 	COVFLW
3496   39D9 90 0A                 	BCC 	CDU1
3497   39DB 4C 3C 24    ERRF1     	JMP 	ERR.F				;TEXT FILE OVRFLW 
3498   39DE             ;
3499   39DE A5 D9       COVFLW     	LDA 	REL
3500   39E0 CD 02 01              	CMP 	TXEN
3501   39E3 B0 F6                 	BCS 	ERRF1
3502   39E5 A5 E2       CDU1     	LDA 	SCRAT4
3503   39E7 C5 DE                 	CMP 	SCRAT0+1
3504   39E9 F0 04                 	BEQ 	CDU2
3505   39EB 90 08                 	BCC 	CDF1
3506   39ED B0 38                 	BCS 	CMOVED
3507   39EF             ;			
3508   39EF A5 E1       CDU2     	LDA 	SCRAT3
3509   39F1 C5 DD                 	CMP 	SCRAT0
3510   39F3 B0 32                 	BCS 	CMOVED
3511   39F5 A5 E0       CDF1     	LDA 	SCRAT2
3512   39F7 C5 E2                 	CMP 	SCRAT4
3513   39F9 F0 04                 	BEQ 	CDF22
3514   39FB 90 08                 	BCC 	ERR121
3515   39FD B0 09                 	BCS 	CADJFU
3516   39FF             ;			
3517   39FF A5 DF       CDF22     	LDA 	SCRAT1
3518   3A01 C5 E1                 	CMP 	SCRAT3
3519   3A03 B0 03                 	BCS 	CADJFU
3520   3A05 4C 39 24    ERR121     	JMP 	ERR.12				;OUT OF RANGE
3521   3A08             ;
3522   3A08 A2 02       CADJFU     	LDX 	#$02
3523   3A0A 18          CADJU      	CLC 	
3524   3A0B B5 DD                 	LDA 	SCRAT0,X
3525   3A0D 65 D7                 	ADC 	PC
3526   3A0F 95 DD                 	STA 	SCRAT0,X
3527   3A11 B5 DE                 	LDA 	SCRAT0+1,X
3528   3A13 65 D8                 	ADC 	PC+1
3529   3A15 95 DE                 	STA 	SCRAT0+1,X
3530   3A17 CA                    	DEX 	
3531   3A18 CA                    	DEX 	
3532   3A19 10 EF                 	BPL 	CADJU 
3533   3A1B A2 00                 	LDX 	#$00
3534   3A1D 20 ED 24    CMOVEUP    	JSR 	DECTPRES
3535   3A20 20 E7 24              	JSR 	DECREL
3536   3A23 A1 D3                 	LDA 	(TPRES,X)
3537   3A25 81 D9                 	STA 	(REL,X)
3538   3A27 A5 E2       CMOVED     	LDA 	SCRAT4
3539   3A29 C5 D4                 	CMP 	TPRES+1
3540   3A2B D0 F0                 	BNE 	CMOVEUP
3541   3A2D A5 E1                 	LDA 	SCRAT3
3542   3A2F C5 D3                 	CMP 	TPRES
3543   3A31 D0 EA                 	BNE 	CMOVEUP
3544   3A33 A5 DF                 	LDA 	SCRAT1
3545   3A35 48                    	PHA 	
3546   3A36 A5 E0                 	LDA 	SCRAT2
3547   3A38 48                    	PHA 	
3548   3A39 A5 E1                 	LDA 	SCRAT3
3549   3A3B 85 D7                 	STA 	PC
3550   3A3D A5 E2                 	LDA 	SCRAT4
3551   3A3F 85 D8                 	STA 	PC+1
3552   3A41 A5 DD       CCOPYED1   	LDA 	SCRAT0
3553   3A43 C5 DF                 	CMP 	SCRAT1
3554   3A45 D0 06       CCOPYED11   BNE 	CCOPY
3555   3A47 A5 DE                 	LDA 	SCRAT0+1
3556   3A49 C5 E0                 	CMP 	SCRAT2
3557   3A4B F0 0D                 	BEQ 	CCOPYED
3558   3A4D A1 DF       CCOPY     	LDA 	(SCRAT1,X)
3559   3A4F 81 E1                 	STA 	(SCRAT3,X)
3560   3A51 20 D1 24              	JSR 	INCSCR12
3561   3A54 20 D0 24              	JSR 	INCSCR34
3562   3A57 4C 41 3A              	JMP 	CCOPYED1
3563   3A5A             			
3564   3A5A 68          CCOPYED    	PLA 	
3565   3A5B 85 E0                 	STA 	SCRAT2
3566   3A5D 68                    	PLA 	
3567   3A5E 85 DF                 	STA 	SCRAT1
3568   3A60 68                    	PLA 	
3569   3A61 85 D4                 	STA 	TPRES+1
3570   3A63 68                    	PLA 	
3571   3A64 85 D3                 	STA 	TPRES
3572   3A66 20 9E 20              	JSR 	TXTEND0
3573   3A69 A5 DE                 	LDA 	SCRAT0+1
3574   3A6B 48                    	PHA 	
3575   3A6C A5 DD                 	LDA 	SCRAT0
3576   3A6E 48                    	PHA 	
3577   3A6F A0 02                 	LDY 	#$02
3578   3A71 B1 E1                 	LDA 	(SCRAT3),Y
3579   3A73 48                    	PHA 	
3580   3A74 A9 00                 	LDA 	#$00
3581   3A76 91 E1                 	STA 	(SCRAT3),Y
3582   3A78 8D 0A 01              	STA 	LAST
3583   3A7B 8D 0B 01              	STA 	LAST+1 
3584   3A7E A5 D7                 	LDA 	PC
3585   3A80 85 DD                 	STA 	SCRAT0
3586   3A82 A5 D8                 	LDA 	PC+1
3587   3A84 85 DE                 	STA 	SCRAT0+1
3588   3A86 B1 DD                 	LDA 	(SCRAT0),Y
3589   3A88 F0 03                 	BEQ 	CDONE
3590   3A8A 20 30 34              	JSR 	RENUMB
3591   3A8D 68          CDONE     	PLA 	
3592   3A8E 91 E1                 	STA 	(SCRAT3),Y
3593   3A90 68                    	PLA 	
3594   3A91 85 DD                 	STA 	SCRAT0
3595   3A93 68                    	PLA 	
3596   3A94 85 DE                 	STA 	SCRAT0+1
3597   3A96 60                    	RTS 	
3598   3A97             ;			
3599   3A97 AD 0A 01    FIRSTLAST   LDA 	LAST
3600   3A9A 8D 08 01              	STA 	FIRST
3601   3A9D AD 0B 01              	LDA 	LAST+1 
3602   3AA0 8D 09 01              	STA 	FIRST+1
3603   3AA3 60                    	RTS 
3604   3AA4             ;			
3605   3AA4 20 67 39    MOVE       	JSR 	EXCOPY 
3606   3AA7 20 70 23              	JSR 	MOVEDOWN
3607   3AAA 4C 5C 20              	JMP 	MONLOOP
3608   3AAD             ;			
3609   3AAD 20 10 25    DELETE     	JSR 	NXTLETTER
3610   3AB0 C0 40                 	CPY 	#64
3611   3AB2 90 03                 	BCC 	DPARMS
3612   3AB4 4C 3A 24              	JMP 	ERR.11					;MISSING PARM
3613   3AB7             ;			
3614   3AB7 20 FA 21    DPARMS     	JSR 	INFL
3615   3ABA F0 1B                 	BEQ 	ERR122
3616   3ABC 08                    	PHP 	
3617   3ABD 20 9F 24              	JSR 	SR12SR0 
3618   3AC0 20 97 3A              	JSR 	FIRSTLAST
3619   3AC3 28                    	PLP 	
3620   3AC4 10 03                 	BPL 	DUNTIL
3621   3AC6 20 A2 23              	JSR 	NXTLILA
3622   3AC9 20 15 22    DUNTIL     	JSR 	FNDEOF
3623   3ACC 10 03                 	BPL 	DDELETE
3624   3ACE 20 A2 23              	JSR 	NXTLILA
3625   3AD1 20 70 23    DDELETE    	JSR 	MOVEDOWN
3626   3AD4 4C 5C 20              	JMP 	MONLOOP
3627   3AD7             ;			
3628   3AD7 4C 39 24    ERR122     	JMP 	ERR.12
3629   3ADA             ;
3630   3ADA EE 13 01    SET        	INC 	PASS
3631   3ADD 8E 11 01              	STX 	HEXDEC
3632   3AE0 C0 50       NEWBOUNDS  	CPY 	#$50
3633   3AE2 B0 30                 	BCS 	PRBOUNDS
3634   3AE4 8A                    	TXA 	
3635   3AE5 48                    	PHA 	
3636   3AE6 A2 00                 	LDX 	#$00
3637   3AE8 20 60 32              	JSR 	OPERTST
3638   3AEB 68                    	PLA 	
3639   3AEC AA                    	TAX 	
3640   3AED A5 D1                 	LDA 	PROCADDRS
3641   3AEF 9D 00 01              	STA 	TXST,X
3642   3AF2 E8                    	INX 	
3643   3AF3 A5 D2                 	LDA 	PROCADDRS+1
3644   3AF5 9D 00 01              	STA 	TXST,X
3645   3AF8 E8                    	INX 	
3646   3AF9 20 10 25              	JSR 	NXTLETTER
3647   3AFC E0 08                 	CPX 	#$08
3648   3AFE 90 E0                 	BCC 	NEWBOUNDS
3649   3B00 C0 50                 	CPY 	#$50
3650   3B02 B0 10                 	BCS 	PRBOUNDS
3651   3B04 A2 00                 	LDX 	#$00
3652   3B06 20 60 32              	JSR 	OPERTST
3653   3B09 A5 D1                 	LDA 	PROCADDRS
3654   3B0B 85 C8                 	STA 	PURECL
3655   3B0D A5 D2                 	LDA 	PROCADDRS+1
3656   3B0F 85 C9                 	STA 	PURECH
3657   3B11 20 22 36              	JSR 	CLRTXTST
3658   3B14 A2 00       PRBOUNDS   	LDX 	#$00
3659   3B16 20 EA 33              	JSR 	OUTCR
3660   3B19 BD 01 01    PRBTXST    	LDA 	TXST+1,X
3661   3B1C 20 02 34              	JSR 	OUTBYTE
3662   3B1F BD 00 01              	LDA 	TXST,X
3663   3B22 20 02 34              	JSR 	OUTBYTE
3664   3B25 E0 00                 	CPX 	#$00
3665   3B27 D0 08                 	BNE 	PRB2SP
3666   3B29 A9 2D       PRB     	LDA 	#'-'
3667   3B2B 20 C4 33              	JSR 	OUTCHAR
3668   3B2E 4C 38 3B              	JMP 	PRBPRES
3669   3B31             ;			
3670   3B31 E0 04       PRB2SP     	CPX 	#$04
3671   3B33 F0 F4                 	BEQ 	PRB
3672   3B35 20 F9 33              	JSR 	OUT2SP
3673   3B38 E8          PRBPRES    	INX 	
3674   3B39 E8                    	INX 	
3675   3B3A E0 08                 	CPX 	#$08
3676   3B3C 90 DB                 	BCC 	PRBTXST
3677   3B3E A5 C9                 	LDA 	PURECH
3678   3B40 20 02 34              	JSR 	OUTBYTE
3679   3B43 A5 C8                 	LDA 	PURECL
3680   3B45 20 02 34              	JSR 	OUTBYTE
3681   3B48 20 EA 33              	JSR 	OUTCR
3682   3B4B A5 D4                 	LDA 	TPRES+1
3683   3B4D 20 02 34              	JSR 	OUTBYTE
3684   3B50 A5 D3                 	LDA 	TPRES
3685   3B52 20 02 34              	JSR 	OUTBYTE
3686   3B55 20 F9 33              	JSR 	OUT2SP
3687   3B58 A5 D6                 	LDA 	SPRES+1
3688   3B5A 20 02 34              	JSR 	OUTBYTE
3689   3B5D A5 D5                 	LDA 	SPRES
3690   3B5F 20 02 34              	JSR 	OUTBYTE
3691   3B62 20 EA 33              	JSR 	OUTCR
3692   3B65 4C 5C 20              	JMP 	MONLOOP
3693   3B68             ;			
3694   3B68 20 99 21    DUPLCT     	JSR 	GETFILNO
3695   3B6B 8E 10 01    DUPLCT1    	STX 	FILENO
3696   3B6E 20 91 34              	JSR 	GCLEAR 
3697   3B71 AD 28 01              	LDA 	HFILENO 
3698   3B74 8D 10 01              	STA 	FILENO
3699   3B77 C9 EE                 	CMP 	#$EE
3700   3B79 F0 0E                 	BEQ 	MONLOOP111
3701   3B7B CD 0A 01              	CMP 	LAST
3702   3B7E F0 09                 	BEQ 	MONLOOP111 
3703   3B80 20 8C 3B              	JSR 	HFLTXTADS
3704   3B83 20 8B 21              	JSR 	PUTIT
3705   3B86 4C 6B 3B              	JMP 	DUPLCT1
3706   3B89             			
3707   3B89 4C 5C 20    MONLOOP111 	JMP 	MONLOOP
3708   3B8C             ;
3709   3B8C A2 01       HFLTXTADS  	LDX 	#$01
3710   3B8E BD 00 01    HFLNXT     	LDA 	TXST,X
3711   3B91 9D 29 01              	STA 	HSTART,X
3712   3B94 B5 D3                 	LDA 	TPRES,X
3713   3B96 9D 2B 01              	STA 	HEND,X
3714   3B99 CA                    	DEX 	
3715   3B9A 10 F2                 	BPL 	HFLNXT
3716   3B9C E8                    	INX 	
3717   3B9D 60                    	RTS
3718   3B9E             
3719   3B9E 86 AD       ENTER		STX 	DISCO
3720   3BA0 C0 50       			CPY 	#80
3721   3BA2 B0 02                 	BCS 	ENTER2
3722   3BA4 E6 AD                 	INC 	DISCO
3723   3BA6 20 AC 3B    ENTER2   	JSR 	ENTER1
3724   3BA9 4C 5C 20              	JMP 	MONLOOP
3725   3BAC             			
3726   3BAC 6C B0 00    ENTER1    	JMP 	(DISC1)
3727   3BAF             
3728   3BAF 86 AC       LOOKUP     	STX 	DISCI
3729   3BB1 C0 50                 	CPY 	#$50
3730   3BB3 B0 02                 	BCS 	LOOKUP2
3731   3BB5 E6 AC                 	INC 	DISCI
3732   3BB7 20 BD 3B    LOOKUP2   	JSR 	LOOKUP1
3733   3BBA 4C 5C 20              	JMP 	MONLOOP
3734   3BBD             ;			
3735   3BBD 6C B2 00    LOOKUP1    	JMP 	(DISC2)
3736   3BC0             ;
3737   3BC0 20 C6 3B    DISCCOM    	JSR 	DISCCOM1
3738   3BC3 4C 5C 20              	JMP 	MONLOOP
3739   3BC6             			
3740   3BC6 6C AE 00    DISCCOM1   	JMP 	(DISCCVEC)
3741   3BC9             
3742   3BC9 20 F1 3B    PRBRKTST    JSR 	PRINTTSTO
3743   3BCC C9 0D                 	CMP 	#$0D				; CR
3744   3BCE EA                    	NOP 	
3745   3BCF D0 1F                 	BNE 	RETPB 
3746   3BD1 EA                    	NOP 	
3747   3BD2 20 77 3F              	JSR 	BRKTST
3748   3BD5 90 19                 	BCC 	RETPB 
3749   3BD7 48                    	PHA 	
3750   3BD8 EA                    	NOP 	
3751   3BD9 EA                    	NOP 	
3752   3BDA 20 2A 3C    BROKEN     	JSR 	INTSTCHR
3753   3BDD C9 0F                 	CMP 	#$0F				; SI? (^O)
3754   3BDF D0 0A                 	BNE 	GOON1
3755   3BE1 A9 0D                 	LDA 	#$0D				; CR
3756   3BE3 EA                    	NOP 	
3757   3BE4 EA                    	NOP 	
3758   3BE5 EA                    	NOP 	
3759   3BE6 20 27 3C              	JSR 	JMPPRINT
3760   3BE9 68                    	PLA 	
3761   3BEA 60                    	RTS 	
3762   3BEB             ;			
3763   3BEB C9 11       GOON1     	CMP 	#$11
3764   3BED D0 EB                 	BNE 	BROKEN
3765   3BEF 68                    	PLA 	
3766   3BF0 60          RETPB      	RTS 
3767   3BF1             	
3768   3BF1 29 7F       PRINTTSTO  	AND 	#$7F
3769   3BF3 48                    	PHA 	
3770   3BF4 A5 E3                 	LDA 	SUPPRESS0
3771   3BF6 F0 02                 	BEQ 	TESTCCHAR
3772   3BF8 68                    	PLA 	
3773   3BF9 60                    	RTS 	
3774   3BFA             ;
3775   3BFA 68          TESTCCHAR   PLA 	
3776   3BFB 48                    	PHA 	
3777   3BFC C9 00                 	CMP 	#$00				; nul?
3778   3BFE F0 22                 	BEQ 	NOCCHAR 
3779   3C00 C9 1B                 	CMP 	#$1B				; Escape
3780   3C02 F0 1E                 	BEQ 	NOCCHAR 
3781   3C04 C9 0D                 	CMP 	#$0D				; CR?
3782   3C06 F0 1A                 	BEQ 	NOCCHAR 
3783   3C08 C9 0A                 	CMP 	#$0A				; LF
3784   3C0A F0 16                 	BEQ 	NOCCHAR 
3785   3C0C C9 07                 	CMP 	#$07				; Bell?
3786   3C0E F0 12                 	BEQ 	NOCCHAR 
3787   3C10 C9 08                 	CMP 	#$08				; BS
3788   3C12 F0 0E                 	BEQ 	NOCCHAR 
3789   3C14 C9 20                 	CMP 	#$20				; SP?
3790   3C16 B0 0A                 	BCS 	NOCCHAR 
3791   3C18 48                    	PHA 	
3792   3C19 A9 5E                 	LDA 	#'^'				; 
3793   3C1B 20 27 3C              	JSR 	JMPPRINT
3794   3C1E 68                    	PLA 	
3795   3C1F 18                    	CLC 	
3796   3C20 69 40                 	ADC 	#$40
3797   3C22 20 27 3C    NOCCHAR     JSR 	JMPPRINT
3798   3C25 68                    	PLA 	
3799   3C26 60                    	RTS 
3800   3C27             ;			
3801   3C27 4C E8 3F    JMPPRINT   	JMP 	PRINT
3802   3C2A             
3803   3C2A A9 00       INTSTCHR   	LDA 	#$00
3804   3C2C 85 E3                 	STA 	SUPPRESS0
3805   3C2E 20 89 3C    INAGN     	JSR 	INCHAR
3806   3C31 C9 00                 	CMP 	#$00				; NUL?
3807   3C33 F0 F9                 	BEQ 	INAGN
3808   3C35 C9 1A                 	CMP 	#$1A				; ^Z
3809   3C37 D0 03                 	BNE 	TSTC 
3810   3C39 4C 5C 20              	JMP 	MONLOOP
3811   3C3C             ;			
3812   3C3C C9 03       TSTC      	CMP 	#$03
3813   3C3E D0 03                 	BNE 	TSTY 
3814   3C40 4C A4 20              	JMP 	BREAK
3815   3C43             ;
3816   3C43 C9 19       TSTY      	CMP 	#$19				; EM? (^Y)
3817   3C45 D0 03                 	BNE 	TSTSTX
3818   3C47 4C 00 00    EXIT0000   	JMP 	NULVECTOR
3819   3C4A             			
3820   3C4A C9 02       TSTSTX     	CMP 	#$02				; STX?
3821   3C4C D0 08                 	BNE 	TSTBEL 
3822   3C4E EA                    	NOP 	
3823   3C4F EA                    	NOP 	
3824   3C50 EA                    	NOP 	
3825   3C51 EA                    	NOP 	
3826   3C52 EA                    	NOP 	
3827   3C53 4C 06 00              	JMP 	$0006
3828   3C56             			
3829   3C56 C9 07       TSTBEL    	CMP 	#$07				; Bell?
3830   3C58 D0 03                 	BNE 	TSTSI
3831   3C5A EA                    	NOP 	
3832   3C5B EA                    	NOP 	
3833   3C5C EA                    	NOP 	
3834   3C5D C9 0F       TSTSI     	CMP 	#$0F				; SI? ^O
3835   3C5F D0 03                 	BNE 	TSTDC4
3836   3C61 E6 E3                 	INC 	SUPPRESS0
3837   3C63 60                    	RTS 	
3838   3C64             ;			
3839   3C64 C9 14       TSTDC4     	CMP 	#$14				; DC4? ^T?
3840   3C66 D0 20                 	BNE 	RET5
3841   3C68 20 89 3C              	JSR 	INCHAR
3842   3C6B C9 30                 	CMP 	#'0'
3843   3C6D F0 0F                 	BEQ 	TD0TGGL
3844   3C6F C9 31                 	CMP 	#'1'
3845   3C71 D0 15                 	BNE 	RET5
3846   3C73 AD 02 17              	LDA 	CPORT				; tape motor 1
3847   3C76 49 02                 	EOR 	#$02
3848   3C78 8D 02 17              	STA 	CPORT
3849   3C7B 4C 86 3C              	JMP 	RETCAN
3850   3C7E             			
3851   3C7E AD 02 17    TD0TGGL    	LDA 	CPORT				; tape motor 1
3852   3C81 49 01                 	EOR 	#$01
3853   3C83 8D 02 17              	STA 	CPORT
3854   3C86 A9 18       RETCAN     	LDA 	#$18				; CAN (^X)
3855   3C88 60          RET5     	RTS 
3856   3C89             ;
3857   3C89             ; read KIM character
3858   3C89             ;	
3859   3C89 20 5A 1E    INCHAR     	JSR 	GETCH
3860   3C8C 29 7F                 	AND 	#$7F
3861   3C8E 48                    	PHA 	
3862   3C8F AD 33 01              	LDA 	TABSN
3863   3C92 D0 0A                 	BNE 	ECHO
3864   3C94 68                    	PLA 	
3865   3C95 48                    	PHA 	
3866   3C96 C9 11                 	CMP 	#$11				; DC1? ^Q
3867   3C98 F0 09                 	BEQ 	NOECHO
3868   3C9A C9 09                 	CMP 	#$09				; tab?
3869   3C9C F0 05                 	BEQ 	NOECHO
3870   3C9E 68          ECHO     	PLA 	
3871   3C9F EA                    	NOP 	
3872   3CA0 EA                    	NOP 	
3873   3CA1 EA                    	NOP 	
3874   3CA2 60                    	RTS 
3875   3CA3             ;			
3876   3CA3 68          NOECHO     	PLA 	
3877   3CA4 60                    	RTS 	
3878   3CA5             ;
3879   3CA5 A2 00       IFPSEU1     LDX 	#$00
3880   3CA7 B9 38 01              	LDA 	CRT+3,Y
3881   3CAA C9 20                 	CMP 	#$20
3882   3CAC D0 03                 	BNE 	MACRO1
3883   3CAE 20 5E 3D              	JSR 	SRCHAT 
3884   3CB1 A9 01       MACRO1     	LDA 	#$01
3885   3CB3 85 BD                 	STA 	MACSRCH
3886   3CB5 20 30 31              	JSR 	EVLABEX 
3887   3CB8 B0 06                 	BCS 	MFOUND
3888   3CBA 20 49 24    ILLMNEM    	JSR 	ERR.2				 ;ILLEGAL MNEMONIC 
3889   3CBD 4C 04 2C              	JMP 	ASGOON
3890   3CC0             ;
3891   3CC0 A5 C0       MFOUND   	LDA 	SYMBOLIC
3892   3CC2 F0 F6                 	BEQ 	ILLMNEM
3893   3CC4 B9 35 01              	LDA 	CRT,Y
3894   3CC7 C9 20                 	CMP 	#$20
3895   3CC9 F0 06                 	BEQ 	MDEFD1
3896   3CCB 20 49 24              	JSR 	ERR.2
3897   3CCE 4C 04 2C              	JMP 	ASGOON
3898   3CD1             		
3899   3CD1 AD FF 01    MDEFD1     	LDA 	TOP+1 
3900   3CD4 CD 19 01              	CMP 	ADDRS+1
3901   3CD7 F0 0A                 	BEQ 	MDEFD22
3902   3CD9 B0 10                 	BCS 	MPARMS1
3903   3CDB A2 20       MNOTDEFD   	LDX 	#$20
3904   3CDD 20 4B 24              	JSR 	ERR.0
3905   3CE0 4C 04 2C              	JMP 	ASGOON
3906   3CE3             ;			
3907   3CE3 AD FE 01    MDEFD22    	LDA 	TOP
3908   3CE6 CD 18 01              	CMP 	ADDRS
3909   3CE9 90 F0                 	BCC 	MNOTDEFD
3910   3CEB AD 19 01    MPARMS1    	LDA 	ADDRS+1
3911   3CEE 48                    	PHA 	
3912   3CEF AD 18 01              	LDA 	ADDRS
3913   3CF2 48                    	PHA 	
3914   3CF3 86 BD                 	STX 	MACSRCH
3915   3CF5 8E 8F 01              	STX 	CRTEX
3916   3CF8 20 0D 25              	JSR 	NXTWORD
3917   3CFB C0 50                 	CPY 	#80
3918   3CFD B0 39                 	BCS 	MCALLEXP
3919   3CFF C9 3B                 	CMP 	#$3B				; ';'
3920   3D01 F0 35                 	BEQ 	MCALLEXP
3921   3D03 C9 28                 	CMP 	#'('			
3922   3D05 F0 08                 	BEQ 	MPARMIN
3923   3D07 20 41 24              	JSR 	ERR.A
3924   3D0A 68                    	PLA 	
3925   3D0B 68                    	PLA 	
3926   3D0C 4C 04 2C              	JMP 	ASGOON
3927   3D0F             ;
3928   3D0F C8          MPARMIN    	INY 	
3929   3D10 20 10 25    MNXTPARM    JSR 	NXTLETTER
3930   3D13 C0 50                 	CPY 	#$50
3931   3D15 B0 21                 	BCS 	MCALLEXP
3932   3D17 B9 35 01              	LDA 	CRT,Y
3933   3D1A C9 29                 	CMP 	#')'
3934   3D1C F0 1A                 	BEQ 	MCALLEXP
3935   3D1E 8A                    	TXA 	
3936   3D1F 48                    	PHA 	
3937   3D20 A2 00                 	LDX 	#$00
3938   3D22 20 D7 30              	JSR 	GETOPER
3939   3D25 68                    	PLA 	
3940   3D26 AA                    	TAX 	
3941   3D27 A5 D1                 	LDA 	PROCADDRS
3942   3D29 9D 90 01              	STA 	CRTEX+1 ,X
3943   3D2C A5 D2                 	LDA 	PROCADDRS+1
3944   3D2E E8                    	INX 	
3945   3D2F 9D 90 01              	STA 	CRTEX+1 ,X
3946   3D32 E8                    	INX 	
3947   3D33 EE 8F 01              	INC 	CRTEX
3948   3D36 D0 D8                 	BNE 	MNXTPARM
3949   3D38 A2 00       MCALLEXP   	LDX 	#$00
3950   3D3A 68                    	PLA 	
3951   3D3B 85 DD                 	STA 	SCRAT0
3952   3D3D 68                    	PLA 	
3953   3D3E 85 DE                 	STA 	SCRAT0+1
3954   3D40 48                    	PHA 	
3955   3D41 A5 DD                 	LDA 	SCRAT0
3956   3D43 48                    	PHA 	
3957   3D44 20 67 2F              	JSR 	PRASLIN 
3958   3D47 A9 01                 	LDA 	#$01
3959   3D49 85 BE                 	STA 	CALLEXP
3960   3D4B E6 BC                 	INC 	MACEXPAND
3961   3D4D A5 BC                 	LDA 	MACEXPAND
3962   3D4F C9 20                 	CMP 	#$20
3963   3D51 90 08                 	BCC 	ASLINE1
3964   3D53 A2 24                 	LDX 	#$24
3965   3D55 8E 12 01              	STX 	TERM
3966   3D58 4C 4B 24              	JMP 	ERR.0					;TOO MANY NESTED MACROS 
3967   3D5B             ;			
3968   3D5B 4C 8A 2C    ASLINE1    	JMP 	ASLINE
3969   3D5E             ;
3970   3D5E B9 35 01    SRCHAT     	LDA 	CRT,Y
3971   3D61 20 93 26              	JSR 	UPPERCASE
3972   3D64 DD A0 3D              	CMP 	ATCOND,X
3973   3D67 D0 2A                 	BNE 	SRATNXT
3974   3D69 B9 36 01              	LDA 	CRT+1,Y
3975   3D6C 20 93 26              	JSR 	UPPERCASE
3976   3D6F DD A1 3D              	CMP 	ATCOND+1,X
3977   3D72 D0 1F                 	BNE 	SRATNXT
3978   3D74 B9 37 01              	LDA 	CRT+2,Y
3979   3D77 20 93 26              	JSR 	UPPERCASE
3980   3D7A DD A2 3D              	CMP 	ATCOND+2,X
3981   3D7D D0 14                 	BNE 	SRATNXT
3982   3D7F BD A3 3D              	LDA 	ATCOND+3,X
3983   3D82 85 E1                 	STA 	SCRAT3
3984   3D84 BD A4 3D              	LDA 	ATCOND+4,X
3985   3D87 85 E2                 	STA 	SCRAT4
3986   3D89 68                    	PLA 	
3987   3D8A 68                    	PLA 	
3988   3D8B C8                    	INY 	
3989   3D8C C8                    	INY 	
3990   3D8D C8                    	INY 	
3991   3D8E A2 00                 	LDX 	#$00
3992   3D90 4C 29 27              	JMP 	EXPSEU
3993   3D93             ;			
3994   3D93 E8          SRATNXT    	INX 	
3995   3D94 E8                    	INX 	
3996   3D95 E8                    	INX 	
3997   3D96 E8                    	INX 	
3998   3D97 E8                    	INX 	
3999   3D98 BD A0 3D              	LDA 	ATCOND,X
4000   3D9B D0 C1                 	BNE 	SRCHAT 
4001   3D9D A2 00                 	LDX 	#$00
4002   3D9F 60                    	RTS 
4003   3DA0             			
4004   3DA0 49 46 45    ATCOND 		.TEXT	"IFE"
4005   3DA3 12 3E       			.WORD 	IFE
4006   3DA5 49 46 4E    			.TEXT	"IFN"
4007   3DA8 22 3E       			.WORD	IFN
4008   3DAA 49 46 50    			.TEXT	"IFP"
4009   3DAD 2F 3E       			.WORD	IFP
4010   3DAF 49 46 4D    			.TEXT	"IFM"
4011   3DB2 3B 3E       			.WORD	IFM
4012   3DB4 53 45 54    			.TEXT	"SET"
4013   3DB7 65 3E       			.WORD	SETLABEL
4014   3DB9             ;
4015   3DB9 2A          ATSTARS		.BYTE 	$2A
4016   3DBA 2A          			.BYTE 	$2A
4017   3DBB 2A          			.BYTE 	$2A
4018   3DBC 00 3E       			.WORD  	STARS
4019   3DBE 2E 45 4E    			.TEXT   ".EN"
4020   3DC1 5C 2B       			.WORD	EN
4021   3DC3 00          			.BYTE   $00	
4022   3DC4             ;
4023   3DC4 2E 4D 45    ATMEMDEN	.TEXT	".ME"
4024   3DC7 05 3E       			.WORD	MEINP
4025   3DC9 2E 4D 44    			.TEXT	".MD"
4026   3DCC 0A 3E       			.WORD	ILLNEST
4027   3DCE 2E 45 4E    			.TEXT	".EN"
4028   3DD1 5C 2B       			.WORD	EN
4029   3DD3 00          			.BYTE 	$00
4030   3DD4             			
4031   3DD4 2C 58 29    ATINDXY 	.TEXT	",X)"
4032   3DD7 3B 2E       			.WORD	INDX
4033   3DD9 29 2C 59    			.TEXT 	"),Y"
4034   3DDC 3C 2E       			.WORD	INDY
4035   3DDE 00          			.BYTE 	$00
4036   3DDF             ;
4037   3DDF 2C 58 20    ATZXY 		.TEXT	",X "
4038   3DE2 3E 2E       			.WORD	ZEROX
4039   3DE4 2C 59 20    			.TEXT 	",Y "
4040   3DE7 3D 2E       			.WORD	ZEROY
4041   3DE9 00          			.BYTE 	$00
4042   3DEA             ;
4043   3DEA 2C 58 20    ATAXY 		.TEXT	",X "
4044   3DED 2C 2E       			.WORD	ABSX
4045   3DEF 2C 59 20    			.TEXT	",Y "
4046   3DF2 2B 2E       			.WORD	ABSY
4047   3DF4 00          			.BYTE	$00
4048   3DF5             ;
4049   3DF5 23 4C 2C    ATLABLH 	.TEXT	"#L,"
4050   3DF8 9B 2D       			.WORD	IMMLABL
4051   3DFA 23 48 2C    			.TEXT	"#H,"
4052   3DFD AC 2D       			.WORD	IMMLABH
4053   3DFF 00          			.BYTE 	$00
4054   3E00             			
4055   3E00 86 BF       STARS     	STX 	CONDSUP
4056   3E02 4C 04 2C              	JMP 	ASGOON
4057   3E05             ;
4058   3E05 86 BB       MEINP		STX 	MACSUPPRS
4059   3E07 4C 04 2C              	JMP 	ASGOON
4060   3E0A             ;
4061   3E0A A2 29       ILLNEST    	LDX 	#$29
4062   3E0C 20 4B 24              	JSR 	ERR.0				 ;ILL NESTED DEFINITION
4063   3E0F 4C 04 2C              	JMP 	ASGOON
4064   3E12             			
4065   3E12 20 47 3E    IFE        	JSR 	IFGETOPER
4066   3E15 A5 D1                 	LDA 	PROCADDRS
4067   3E17 D0 06                 	BNE 	ASGOON8 
4068   3E19 A5 D2                 	LDA 	PROCADDRS+1
4069   3E1B D0 02                 	BNE 	ASGOON8 
4070   3E1D 86 BF       IFNOSUPR    STX 	CONDSUP
4071   3E1F 4C 04 2C    ASGOON8    	JMP 	ASGOON
4072   3E22             ;
4073   3E22 20 47 3E    IFN        	JSR 	IFGETOPER
4074   3E25 A5 D1                 	LDA 	PROCADDRS
4075   3E27 D0 F4                 	BNE 	IFNOSUPR
4076   3E29 A5 D2                 	LDA 	PROCADDRS+1
4077   3E2B F0 F2                 	BEQ 	ASGOON8 
4078   3E2D D0 EE                 	BNE 	IFNOSUPR
4079   3E2F             ;
4080   3E2F 20 47 3E    IFP        	JSR 	IFGETOPER
4081   3E32 A5 D2                 	LDA 	PROCADDRS+1
4082   3E34 30 02                 	BMI 	ASGOON9
4083   3E36 86 BF                 	STX 	CONDSUP
4084   3E38 4C 04 2C    ASGOON9    	JMP 	ASGOON
4085   3E3B             
4086   3E3B 20 47 3E    IFM        	JSR 	IFGETOPER
4087   3E3E A5 D2                 	LDA 	PROCADDRS+1
4088   3E40 10 02                 	BPL 	ASGOONA
4089   3E42 86 BF       			STX 	CONDSUP
4090   3E44 4C 04 2C    ASGOONA     JMP 	ASGOON
4091   3E47             
4092   3E47 84 BF       IFGETOPER   STY 	CONDSUP
4093   3E49 20 10 25    IFSGET     	JSR 	NXTLETTER
4094   3E4C 20 60 32              	JSR 	OPERTST
4095   3E4F AD 1A 01              	LDA 	ADDPAD
4096   3E52 F0 06                 	BEQ 	IFSGOT 
4097   3E54 8C 12 01    IFSERR     	STY 	TERM
4098   3E57 20 47 24              	JSR 	ERR.4				;OPERAND UNDEFINED 
4099   3E5A 60          IFSGOT     	RTS 
4100   3E5B             ;	
4101   3E5B 84 C1       ES         	STY 	LSTEXPOB
4102   3E5D 4C 04 2C              	JMP 	ASGOON
4103   3E60             ;
4104   3E60 86 C1       EC         	STX 	LSTEXPOB
4105   3E62 4C 04 2C              	JMP 	ASGOON
4106   3E65             			
4107   3E65 20 30 31    SETLABEL   	JSR 	EVLABEX 
4108   3E68 B0 03                 	BCS 	SETSYMB1
4109   3E6A 4C 54 3E              	JMP 	IFSERR 
4110   3E6D             			
4111   3E6D A5 C0       SETSYMB1   	LDA 	SYMBOLIC
4112   3E6F D0 08                 	BNE 	SETOPR1
4113   3E71 A2 2A                 	LDX 	#$2A
4114   3E73 20 4B 24              	JSR 	ERR.0				;MUST BE SYBOLIC (SET) 
4115   3E76 4C 04 2C              	JMP 	ASGOON
4116   3E79             
4117   3E79 20 10 25    SETOPR1    	JSR 	NXTLETTER
4118   3E7C B9 35 01              	LDA 	CRT,Y
4119   3E7F C9 3D                 	CMP 	#'='
4120   3E81 F0 06                 	BEQ 	SETLABEL1
4121   3E83 20 41 24              	JSR 	ERR.A
4122   3E86 4C 04 2C              	JMP 	ASGOON
4123   3E89             ;			
4124   3E89 A5 DE       SETLABEL1  	LDA 	SCRAT0+1
4125   3E8B 48                    	PHA 	
4126   3E8C A5 DD                 	LDA 	SCRAT0
4127   3E8E 48                    	PHA 	
4128   3E8F C8                    	INY 	
4129   3E90 20 49 3E              	JSR 	IFSGET
4130   3E93 68                    	PLA 	
4131   3E94 85 DD                 	STA 	SCRAT0
4132   3E96 68                    	PLA 	
4133   3E97 85 DE                 	STA 	SCRAT0+1
4134   3E99 A0 00                 	LDY 	#$00
4135   3E9B A5 D1                 	LDA 	PROCADDRS
4136   3E9D 91 DD                 	STA 	(SCRAT0),Y
4137   3E9F A5 D2                 	LDA 	PROCADDRS+1
4138   3EA1 C8                    	INY 	
4139   3EA2 91 DD                 	STA 	(SCRAT0),Y
4140   3EA4 4C 04 2C              	JMP 	ASGOON
4141   3EA7             ;			
4142   3EA7 A5 BC       MD        	LDA 	MACEXPAND
4143   3EA9 F0 0C                 	BEQ 	MINPUT
4144   3EAB A5 BE                 	LDA 	CALLEXP
4145   3EAD D0 20                 	BNE 	MEXPAND
4146   3EAF A2 29                 	LDX 	#$29
4147   3EB1 20 4B 24              	JSR 	ERR.0
4148   3EB4 4C 04 2C              	JMP 	ASGOON
4149   3EB7             ;			
4150   3EB7 E6 BB       MINPUT     	INC 	MACSUPPRS
4151   3EB9 AD 13 01              	LDA 	PASS
4152   3EBC D0 0E                 	BNE 	ASGOONB
4153   3EBE A0 00                 	LDY 	#$00
4154   3EC0 68                    	PLA 	
4155   3EC1 91 DD                 	STA 	(SCRAT0),Y
4156   3EC3 68                    	PLA 	
4157   3EC4 48                    	PHA 	
4158   3EC5 C8                    	INY 	
4159   3EC6 91 DD                 	STA 	(SCRAT0),Y
4160   3EC8 88                    	DEY 	
4161   3EC9 B1 DD                 	LDA 	(SCRAT0),Y
4162   3ECB 48                    	PHA 	
4163   3ECC 4C 04 2C    ASGOONB    	JMP 	ASGOON
4164   3ECF             ;
4165   3ECF E6 C2       MEXPAND    	INC 	MACSEQ
4166   3ED1 D0 09                 	BNE 	EXPPARMS1
4167   3ED3 E6 C3                 	INC 	MACSEQ+1
4168   3ED5 D0 05                 	BNE 	EXPPARMS1
4169   3ED7 A2 2E                 	LDX 	#$2E
4170   3ED9 20 4B 24              	JSR 	ERR.0					;MAC # OVRFLW 
4171   3EDC 86 BE       EXPPARMS1  	STX 	CALLEXP
4172   3EDE 86 BD                 	STX 	MACSRCH
4173   3EE0 AD 8F 01              	LDA 	CRTEX
4174   3EE3 F0 5B                 	BEQ 	EXPNOPARM
4175   3EE5 B9 35 01              	LDA 	CRT,Y
4176   3EE8 C9 28                 	CMP 	#'('
4177   3EEA F0 08                 	BEQ 	EXPFETCH 
4178   3EEC A2 25       EXPPRMERR  	LDX 	#$25
4179   3EEE 20 4B 24              	JSR 	ERR.0					;MACRO PARM MISMATCH 
4180   3EF1 4C 56 3F    EXME1     	JMP 	EXME 
4181   3EF4             ;
4182   3EF4 86 E5       EXPFETCH   	STX 	SAVEX
4183   3EF6 C8                    	INY 	
4184   3EF7 20 10 25    EXPNXTPRM  	JSR 	NXTLETTER
4185   3EFA C9 3B                 	CMP 	#$3B					; ';'
4186   3EFC F0 3A                 	BEQ 	EXPALL1
4187   3EFE C0 50                 	CPY 	#$50
4188   3F00 B0 36                 	BCS 	EXPALL1
4189   3F02 C9 29                 	CMP 	#')'
4190   3F04 F0 32                 	BEQ 	EXPALL1
4191   3F06 84 E4                 	STY 	SAVEY
4192   3F08 20 30 31              	JSR 	EVLABEX 
4193   3F0B B0 07                 	BCS 	EXPACTUAL
4194   3F0D A4 E4                 	LDY 	SAVEY
4195   3F0F 20 99 2F              	JSR 	NEWLABEL 
4196   3F12 B0 DD                 	BCS 	EXME1
4197   3F14 84 E4       EXPACTUAL   STY 	SAVEY
4198   3F16 A0 00                 	LDY 	#$00
4199   3F18 A6 E5                 	LDX 	SAVEX
4200   3F1A BD 90 01              	LDA 	CRTEX+1 ,X
4201   3F1D 91 DD                 	STA 	(SCRAT0),Y
4202   3F1F E8                    	INX 	
4203   3F20 BD 90 01              	LDA 	CRTEX+1 ,X
4204   3F23 E8                    	INX 	
4205   3F24 C8                    	INY 	
4206   3F25 91 DD                 	STA 	(SCRAT0),Y
4207   3F27 A4 E4                 	LDY 	SAVEY
4208   3F29 86 E5                 	STX 	SAVEX
4209   3F2B A2 00                 	LDX 	#$00
4210   3F2D CE 8F 01              	DEC 	CRTEX
4211   3F30 30 BA                 	BMI 	EXPPRMERR
4212   3F32 20 03 25              	JSR 	COMP
4213   3F35 4C F7 3E              	JMP 	EXPNXTPRM
4214   3F38             			
4215   3F38 AD 8F 01    EXPALL1    	LDA 	CRTEX
4216   3F3B D0 AF                 	BNE 	EXPPRMERR
4217   3F3D 4C 04 2C    ASGOONC    	JMP 	ASGOON
4218   3F40             
4219   3F40 B9 35 01    EXPNOPARM  	LDA 	CRT,Y
4220   3F43 C9 3B                 	CMP 	#$3B					; ';'
4221   3F45 F0 F6                 	BEQ 	ASGOONC
4222   3F47 C0 50                 	CPY 	#$50
4223   3F49 B0 F2                 	BCS 	ASGOONC
4224   3F4B 90 9F                 	BCC 	EXPPRMERR
4225   3F4D             ;			
4226   3F4D A5 BC       ME         	LDA 	MACEXPAND
4227   3F4F D0 05                 	BNE 	EXME 
4228   3F51 86 BB                 	STX 	MACSUPPRS
4229   3F53 4C 04 2C              	JMP 	ASGOON
4230   3F56             ;
4231   3F56 86 E6       EXME      	STX 	LN2BOUT
4232   3F58 C6 BC                 	DEC 	MACEXPAND
4233   3F5A 30 11                 	BMI 	NOMDER
4234   3F5C F0 0A                 	BEQ 	MRETURN
4235   3F5E C6 C2                 	DEC 	MACSEQ
4236   3F60 A5 C2                 	LDA 	MACSEQ
4237   3F62 C9 FF                 	CMP 	#$FF
4238   3F64 D0 02                 	BNE 	MRETURN
4239   3F66 C6 C3                 	DEC 	MACSEQ+1
4240   3F68 68          MRETURN    	PLA 	
4241   3F69 68                    	PLA 	
4242   3F6A 4C 04 2C              	JMP 	ASGOON
4243   3F6D             ;
4244   3F6D 86 BC       NOMDER     	STX 	MACEXPAND
4245   3F6F A2 2B                 	LDX 	#$2B
4246   3F71 20 4B 24              	JSR 	ERR.0
4247   3F74 4C 04 2C              	JMP 	ASGOON
4248   3F77             ;
4249   3F77             ; break test
4250   3F77             ;			
4251   3F77 2C 40 17    BRKTST     	BIT 	SAD			; look at KIM TTY input bit
4252   3F7A 18                    	CLC 					; clear carry, no break
4253   3F7B 30 09                 	BMI 	BRKRET			; no break
4254   3F7D 2C 40 17    BRKEND     	BIT 	SAD			
4255   3F80 10 FB                 	BPL 	BRKEND			; wait for end of break 
4256   3F82 20 5A 1E              	JSR 	GETCH			; get typed character and discard
4257   3F85 38                    	SEC 					; Carry set: it was break
4258   3F86 60          BRKRET     	RTS 	
4259   3F87             ;
4260   3F87 48          WAIT     	PHA 	
4261   3F88 48          WAIT+1     	PHA 	
4262   3F89 E9 01       WAIT+2     	SBC 	#$01
4263   3F8B D0 FC                 	BNE 	WAIT+2
4264   3F8D 68                    	PLA 	
4265   3F8E E9 01                 	SBC 	#$01
4266   3F90 D0 F6                 	BNE 	WAIT+1
4267   3F92 68                    	PLA 	
4268   3F93 E9 01                 	SBC 	#$01
4269   3F95 D0 F0                 	BNE 	WAIT
4270   3F97 60                    	RTS 	
4271   3F98             			
4272   3F98 A5 AC       LOADER     	LDA 	DISCI
4273   3F9A F0 07                 	BEQ  	TAPELOAD
4274   3F9C 20 A0 3F              	JSR 	DISCLOAD
4275   3F9F 60                    	RTS 	
4276   3FA0             ;
4277   3FA0 6C B6 00    DISCLOAD    JMP 	(DISCIVEC)
4278   3FA3             ;
4279   3FA3 4C A5 40    TAPELOAD    JMP 	LOADEXT 
4280   3FA6             ;
4281   3FA6 A9 00       INIT     	LDA 	#$00		; load KIM IRQ/BRK vector
4282   3FA8 8D FE 17              	STA 	IRQVEC 
4283   3FAB A9 1C                 	LDA 	#$1C
4284   3FAD 8D FF 17              	STA 	IRQVEC+1
4285   3FB0 AD 03 17              	LDA 	CPORTD	; tape motors off
4286   3FB3 09 0B                 	ORA 	#$0B
4287   3FB5 8D 03 17              	STA 	CPORTD
4288   3FB8 60                    	RTS 	
4289   3FB9             ; 
4290   3FB9 00           BRK 	
4291   3FBA 00                    	BRK 	
4292   3FBB 00                    	BRK 	
4293   3FBC 00                    	BRK 	
4294   3FBD 00                    	BRK 	
4295   3FBE 00                    	BRK 	
4296   3FBF 00                    	BRK 	
4297   3FC0 00                    	BRK 	
4298   3FC1 00                    	BRK 	
4299   3FC2 00                    	BRK 	
4300   3FC3 00                    	BRK 	
4301   3FC4 00                    	BRK 	
4302   3FC5 00                    	BRK 	
4303   3FC6 00                    	BRK 	
4304   3FC7 00                    	BRK 
4305   3FC8             ;			
4306   3FC8 A5 AD       SAVER   	LDA 	DISCO
4307   3FCA F0 07                 	BEQ 	TAPESAVE
4308   3FCC 20 D0 3F              	JSR 	DISCSAVE
4309   3FCF 60                    	RTS 
4310   3FD0             ;			
4311   3FD0 6C B4 00    DISCSAVE   	JMP 	(DISCOVEC)
4312   3FD3             ;
4313   3FD3 4C 00 40    TAPESAVE  	JMP 	SAVEEXT
4314   3FD6             ;
4315   3FD6 A9 1F       WAITLF     	LDA 	#$1F
4316   3FD8 20 87 3F              	JSR 	WAIT
4317   3FDB A9 0A                 	LDA 	#$0A
4318   3FDD 20 E8 3F              	JSR 	PRINT
4319   3FE0 A9 1F                 	LDA 	#$1F
4320   3FE2 20 87 3F              	JSR 	WAIT
4321   3FE5 EA                    	NOP 	
4322   3FE6 EA                    	NOP 	
4323   3FE7 EA          			NOP						; should be RTS					
4324   3FE8             ;			
4325   3FE8 48          PRINT     	PHA 	
4326   3FE9 EA                    	NOP 	
4327   3FEA EA                    	NOP 	
4328   3FEB EA                    	NOP 	
4329   3FEC EA                    	NOP 	
4330   3FED EA                    	NOP 	
4331   3FEE 20 A0 1E              	JSR 	OUTCH			; KIM TTY in character
4332   3FF1 68                    	PLA 	
4333   3FF2 C9 0D                 	CMP 	#$0D
4334   3FF4 F0 E0                 	BEQ 	WAITLF			; echo CR with linefeed
4335   3FF6 60                    	RTS 	
4336   3FF7             ;			
4337   3FF7 00                    	BRK 	
4338   3FF8 00                    	BRK 	
4339   3FF9 00                    	BRK 	
4340   3FFA 00                    	BRK 	
4341   3FFB 22                    	.BYTE $22    ;%00100010 '"'
4342   3FFC 00                    	BRK 	
4343   3FFD FF                    	.BYTE $FF    ;%11111111
4344   3FFE FF                    	.BYTE $FF    ;%11111111
4345   3FFF FF                    	.BYTE $FF    ;%11111111
4346   4000             ;
4347   4000             ; fast cassette interface?
4348   4000             ;
4349   4000 AD 03 17    SAVEEXT     LDA 	CPORTD				; tape motor Data direction
4350   4003 09 08                 	ORA 	#$08				; bit 3 cassette out
4351   4005 8D 03 17              	STA 	CPORTD
4352   4008             ;
4353   4008 A9 E0                 	LDA 	#SCRAT2
4354   400A 85 B6                 	STA 	COUNT
4355   400C A9 16       LOOPRECST  	LDA 	#$16
4356   400E 20 41 40              	JSR 	WRITEBYTE
4357   4011             ;
4358   4011 A9 10                 	LDA 	#$10
4359   4013 85 B4                 	STA 	SYNCCOUNT
4360   4015 20 5D 40    LOOPDELSY  	JSR 	OUTZERO
4361   4018 C6 B4                 	DEC 	FORMBYTE
4362   401A D0 F9                 	BNE 	LOOPDELSY
4363   401C             ;
4364   401C C6 B6                 	DEC 	COUNT
4365   401E D0 EC                 	BNE 	LOOPRECST
4366   4020             ;			
4367   4020 20 84 40              	JSR 	MOVESTAD			; Start > Address
4368   4023             ; 
4369   4023 A9 0F       			LDA		#$0F				; record start char.
4370   4025 20 41 40              	JSR 	WRITEBYTE
4371   4028             ;			
4372   4028 A2 00                 	LDX 	#$00
4373   402A 86 B2                 	STX 	CHECKSUM
4374   402C 86 B3                 	STX 	CHECKSUM+1
4375   402E             			
4376   402E A1 B6       LOOPDATA   	LDA 	(ADDR,X)
4377   4030 20 41 40              	JSR 	WRITEBYTE
4378   4033 20 8F 40              	JSR 	INCCOMP
4379   4036 90 F6                 	BCC 	LOOPDATA
4380   4038             ; write checksum
4381   4038 A5 B3                 	LDA 	CHECKSUM+1
4382   403A 48                    	PHA 	
4383   403B A5 B2                 	LDA 	CHECKSUM
4384   403D 20 41 40              	JSR 	WRITEBYTE
4385   4040 68                    	PLA 	
4386   4041             ;
4387   4041 85 B4       WRITEBYTE   STA 	FORMBYTE
4388   4043 20 34 41              	JSR 	CHKSUMADD			; update checksum
4389   4046 20 7C 40              	JSR 	OUTONE
4390   4049 A9 08                 	LDA 	#$08				; 8 bits
4391   404B 85 B5                 	STA 	BITCOUNT
4392   404D 06 B4       DATALOOP   	ASL 	FORMBYTE			; shift left into carry
4393   404F 90 05                 	BCC 	ZEROBIT
4394   4051 20 7C 40              	JSR 	OUTONE
4395   4054 F0 03                 	BEQ 	CKENDBY
4396   4056 20 5D 40    ZEROBIT    	JSR 	OUTZERO
4397   4059 C6 B5       CKENDBY    	DEC 	BITCOUNT
4398   405B D0 F0                 	BNE 	DATALOOP
4399   405D             ;
4400   405D             ; output a zero to tape
4401   405D             ;
4402   405D A9 20       OUTZERO     LDA 	#$20
4403   405F             ;
4404   405F             ; write to tape
4405   405F             ;
4406   405F 48          WRITE     	PHA 	
4407   4060 AD 02 17              	LDA 	CPORT
4408   4063 09 08                 	ORA 	#$08				; Out a '1' on bit 3
4409   4065 8D 02 17              	STA 	CPORT
4410   4068 68                    	PLA 	
4411   4069 48                    	PHA 	
4412   406A AA                    	TAX 	
4413   406B 20 78 40              	JSR 	LOOPD
4414   406E AD 02 17              	LDA 	CPORT
4415   4071 29 F7                 	AND 	#$F7				; Out a '0 on bit 3
4416   4073 8D 02 17              	STA 	CPORT
4417   4076 68                    	PLA 	
4418   4077 AA                    	TAX 						; delay constant	
4419   4078 CA          LOOPD     	DEX 	
4420   4079 D0 FD                 	BNE 	LOOPD
4421   407B 60                    	RTS 	
4422   407C             ;
4423   407C             ;
4424   407C             ;
4425   407C A9 50       OUTONE     	LDA 	#$50
4426   407E D0 DF                 	BNE 	WRITE
4427   4080             ;	
4428   4080             ;	Delay for '0 time for read
4429   4080             ;
4430   4080 A2 30       READDELAY     	LDX 	#$30
4431   4082 D0 F4                 	BNE 	LOOPD
4432   4084             ;
4433   4084             ; Move from Start Address to ADDR
4434   4084             ;
4435   4084 AD 24 01    MOVESTAD    LDA  	START 
4436   4087 85 B6                 	STA 	ADDR
4437   4089 AD 25 01              	LDA 	START+1
4438   408C 85 B7                 	STA 	ADDR+1
4439   408E 60                    	RTS 	
4440   408F             			
4441   408F E6 B6       INCCOMP    	INC 	ADDR
4442   4091 D0 02                 	BNE 	SKIPINC
4443   4093 E6 B7                 	INC 	ADDR+1
4444   4095 A5 B7       SKIPINC    	LDA 	ADDR+1
4445   4097 CD 27 01              	CMP 	END+1
4446   409A 90 08                 	BCC 	NOTEND
4447   409C A5 B6                 	LDA 	ADDR
4448   409E CD 26 01              	CMP 	END
4449   40A1 90 01                 	BCC 	NOTEND
4450   40A3 38                    	SEC 	
4451   40A4 60          NOTEND     	RTS 	
4452   40A5             ;
4453   40A5             ; Read from tape to (start) to (end)
4454   40A5             ;
4455   40A5 A2 00       LOADEXT     LDX 	#$00
4456   40A7 86 B6                 	STX 	COUNT
4457   40A9 20 EF 40    LOOPLOAD 	JSR 	READBYTE
4458   40AC C9 16                 	CMP 	#$16					; sync
4459   40AE D0 04                 	BNE 	SKIP1
4460   40B0 E6 B6                 	INC 	COUNT
4461   40B2 D0 F5                 	BNE 	LOOPLOAD
4462   40B4             ;			
4463   40B4 A4 B6       SKIP1     	LDY 	COUNT
4464   40B6 C0 0A                 	CPY 	#$0A					; must be more than 10 syncs
4465   40B8 90 EB                 	BCC 	LOADEXT 
4466   40BA C9 0F                 	CMP 	#$0F					; record start?
4467   40BC D0 E7                 	BNE 	LOADEXT 
4468   40BE A0 00                 	LDY 	#$00
4469   40C0 84 B2                 	STY 	CHECKSUM
4470   40C2 84 B3                 	STY 	CHECKSUM+1
4471   40C4 20 84 40              	JSR 	MOVESTAD
4472   40C7             ;
4473   40C7             ; Now load data
4474   40C7             ;			
4475   40C7 20 EF 40    LOOP69     	JSR 	READBYTE
4476   40CA AC 23 01              	LDY 	LOADNO 
4477   40CD F0 02                 	BEQ 	SKIPSTORE
4478   40CF 81 B6                 	STA 	(ADDR,X)
4479   40D1 20 8F 40    SKIPSTORE  	JSR 	INCCOMP
4480   40D4 90 F1                 	BCC 	LOOP69
4481   40D6 A5 B3                 	LDA 	CHECKSUM+1
4482   40D8 48                    	PHA 	
4483   40D9 A5 B2                 	LDA 	CHECKSUM
4484   40DB 48                    	PHA 	
4485   40DC 20 EF 40              	JSR 	READBYTE
4486   40DF 68                    	PLA 	
4487   40E0 C5 B4                 	CMP 	FORMBYTE				; check checksum
4488   40E2 D0 07                 	BNE 	RETURN
4489   40E4 20 EF 40              	JSR 	READBYTE
4490   40E7 68                    	PLA 	
4491   40E8 C5 B4                 	CMP 	FORMBYTE
4492   40EA 60                    	RTS 	
4493   40EB 68          RETURN     	PLA 	
4494   40EC A9 FF                 	LDA 	#$FF					; clear Z 
4495   40EE 60                    	RTS 	
4496   40EF             ;
4497   40EF             ; Read a byte form tape
4498   40EF             ;
4499   40EF 20 5B 41    READBYTE   	JSR 	INPORT
4500   40F2 D0 FB                 	BNE 	READBYTE
4501   40F4 20 5B 41    WAITFOR1   	JSR 	INPORT
4502   40F7 F0 FB                 	BEQ 	WAITFOR1				; loop until 1
4503   40F9             ;			
4504   40F9 20 80 40              	JSR 	READDELAY
4505   40FC 20 5B 41              	JSR 	INPORT
4506   40FF F0 F3                 	BEQ 	WAITFOR1
4507   4101             ;
4508   4101 20 5B 41    WAITFOR0   	JSR 	INPORT
4509   4104 D0 FB                 	BNE 	WAITFOR0				; wait till end of start bit
4510   4106 A9 08                 	LDA 	#$08
4511   4108 85 B5                 	STA 	BITCOUNT
4512   410A             ;			
4513   410A 20 5B 41    WAITTOON   	JSR 	INPORT
4514   410D F0 FB                 	BEQ 	WAITTOON				; loop unitl 1
4515   410F 20 80 40              	JSR 	READDELAY
4516   4112 20 5B 41              	JSR 	INPORT
4517   4115 F0 08                 	BEQ 	PROCESS0				; if '0' then zero else one
4518   4117 20 5B 41    PROCESS1   	JSR 	INPORT
4519   411A D0 FB                 	BNE 	PROCESS1				; loop until '0'
4520   411C 38                    	SEC 	
4521   411D B0 01                 	BCS 	ROTATEIN
4522   411F 18          PROCESS0   	CLC 	
4523   4120 26 B4       ROTATEIN    ROL 	FORMBYTE				; rotate carry
4524   4122 C6 B5                 	DEC 	BITCOUNT
4525   4124 D0 E4                 	BNE 	WAITTOON
4526   4126 A5 B4                 	LDA 	FORMBYTE
4527   4128 20 34 41              	JSR 	CHKSUMADD
4528   412B A5 B4                 	LDA 	FORMBYTE
4529   412D 60                    	RTS 	
4530   412E             ;
4531   412E             ; input from tape
4532   412E             ;
4533   412E AD 02 17              	LDA 	CPORT
4534   4131 29 04                 	AND 	#$04
4535   4133 60                    	RTS 	
4536   4134             ;
4537   4134             ; Update checksum
4538   4134             ;
4539   4134 18          CHKSUMADD   CLC 	
4540   4135 D8                    	CLD 	
4541   4136 65 B2                 	ADC 	CHECKSUM
4542   4138 85 B2                 	STA 	CHECKSUM
4543   413A A9 00                 	LDA 	#$00
4544   413C 65 B3                 	ADC 	CHECKSUM+1
4545   413E 85 B3                 	STA 	CHECKSUM+1 
4546   4140 60                    	RTS 	
4547   4141             ;
4548   4141 20 A5 40    LOADENTRY  	JSR 	LOADEXT 
4549   4144 D0 08                 	BNE 	BAD
4550   4146 A9 00                 	LDA 	#$00
4551   4148 00          B     		BRK 	
4552   4149 EA                    	NOP 	
4553   414A EA                    	NOP 	
4554   414B 4C 41 41              	JMP 	LOADENTRY
4555   414E A9 EE       BAD     	LDA 	#$EE
4556   4150 D0 F6       			BNE 	B
4557   4152             
4558   4152 20 00 40    RECORDENT  	JSR 	SAVEEXT
4559   4155 00                    	BRK 	
4560   4156 EA                    	NOP 	
4561   4157 EA                    	NOP 	
4562   4158 4C 52 41              	JMP 	RECORDENT
4563   415B             ;
4564   415B AD 02 17    INPORT     	LDA 	CPORT
4565   415E 29 FF                 	AND 	#$FF
4566   4160 29 04                 	AND 	#$04
4567   4162 60                    	RTS 	
4568   4163             ;
4569   4163                       	.END	


Label        Value      Label        Value      Label        Value
------------------      ------------------      ------------------
ASSMLNKNO     00BA      AUTOTAB       00EA      AU            0115      
ADDRS         0118      ADDPAD        011A      ASLNSV        012F      
ADDR          00B6      AUTO          20B2      ASSMBLE       20FA      
ASLC          211E      ASGFRST       2121      AU1           2294      
ADJAU         22EF      ADDLINE       234C      ASGOON1       2A01      
ASGOON2       2A18      ASGOON3       2A3C      ASGOON4       2A90      
ASAUTOP2      2BB1      ASSEMBLE      2BC0      ASGOON        2C04      
ASNEW         2C0F      ASLINE        2C8A      ASSUPR        2CC7      
ASGOON5       2CDC      ASGOON6       2DCE      ACCU          2DEA      
ACCU1         2DF2      ABS1          2E1C      ABSINDX       2E23      
ABSY          2E2B      ABSX          2E2C      ABS           2E2D      
ASGOOND       2E5A      ASLNPRNTD     2F92      ADD           30FA      
ADDGET        30FB      ADDDO         3103      ASLINE1       3D5B      
ATCOND        3DA0      ATSTARS       3DB9      ATMEMDEN      3DC4      
ATINDXY       3DD4      ATZXY         3DDF      ATAXY         3DEA      
ATLABLH       3DF5      ASGOON8       3E1F      ASGOON9       3E38      
ASGOONA       3E44      ASGOONB       3ECC      ASGOONC       3F3D      
BITCOUNT      00B5      BREAK         20A4      BRA1          27AC      
BRA2          27B2      BLOCKSIZE     29BC      BA            2A53      
BAP3          2A88      BYOPER        2AAC      BYDONE        2AB4      
BY            2ABD      BYOPRS        2AC7      BYSTRING      2ACF      
BYNXTCH       2ADE      BYSTORE       2AE4      BYSTDAT       2AF2      
BRA0          2D2A      BRA11         2D59      BRA           2D5E      
BADLACHA      3276      BROKEN        3BDA      BRKTST        3F77      
BRKEND        3F7D      BRKRET        3F86      B             4148      
BAD           414E      CALLEXP       00BE      CONDSUP       00BF      
CONTAPE       0114      CURSAVE       011C      CRTEX         018F      
CRT           0135      CHECKSUM      00B2      COUNT         00B6      
CPORT         1702      CPORTD        1703      COLDSTART     2010      
CLEAR         204D      CLRSPR        21ED      CMPLNNR       221D      
CMP11         22C3      CRTTXTLIN     23B0      COMMFIELD     23EE      
COMP          2503      CURSBACK      25C1      CRTBACK       25D1      
CLRCRTBUF     2616      CLRCRTDO      261A      CONTSRCH      26AC      
CMPNXT        26AE      CMPMODS       26BA      CMPCOM        26C0      
COMPARE       26C6      COMTABLE      2731      CE            2A20      
CT            2A2F      CHNGEVALUE    2B50      CONSUPEN      2B71      
CMNTONLY      2CD3      CLRTXTST      3622      COPY          3961      
CDESTFND      3981      CFROM         399C      CUNTIL        39A5      
CCALCTP       39B0      COVFLW        39DE      CDU1          39E5      
CDU2          39EF      CDF1          39F5      CDF22         39FF      
CADJFU        3A08      CADJU         3A0A      CMOVEUP       3A1D      
CMOVED        3A27      CCOPYED1      3A41      CCOPYED11     3A45      
CCOPY         3A4D      CCOPYED       3A5A      CDONE         3A8D      
CKENDBY       4059      CHKSUMADD     4134      DISCI         00AC      
DISCO         00AD      DISCCVEC      00AE      DISC1         00B0      
DISC2         00B2      DISCOVEC      00B4      DISCIVEC      00B6      
DELIM         00CD      DC            00CF      DELAY1        012D      
DELAY2        012E      DELIFEQ       2368      DECSCR34      24E3      
DECSCR12      24E4      DECREL        24E7      DECTPRES      24ED      
DECOK         24F7      DS            29A5      DI            2AF7      
DE            2B00      DEFLAB        2B28      DONTSKA       2E75      
DONTSKZ       2E87      DECTABL       31A6      DECTABH       31AB      
DECIM         31BA      DELAY8T       338A      DELAY4T       338D      
DELAY2T       3390      DELAYT        3393      DELAYON       339B      
DEFAULTS      362C      DELETE        3AAD      DPARMS        3AB7      
DUNTIL        3AC9      DDELETE       3AD1      DUPLCT        3B68      
DUPLCT1       3B6B      DISCCOM       3BC0      DISCCOM1      3BC6      
DISCLOAD      3FA0      DISCSAVE      3FD0      DATALOOP      404D      
ERRORS        00DB      EXT           011E      EDITFINDC     0131      
END           0126      EXRUN         2147      EXPASS2       225C      
EOLABORT      241D      ERR.17        2434      ERR.16        2435      
ERR.15        2436      ERR.12        2439      ERR.11        243A      
ERR.10        243B      ERR.F         243C      ERR.E         243D      
ERR.D         243E      ERR.C         243F      ERR.B         2440      
ERR.A         2441      ERR.9         2442      ERR.8         2443      
ERR.7         2444      ERR.6         2445      ERR.5         2446      
ERR.4         2447      ERR.3         2448      ERR.2         2449      
ERR.1         244A      ERR.0         244B      EXPSEU        2729      
EXCOM         272C      EXDS          29CA      EJ            2A04      
EXBA          2A67      EXTMARKED     2B22      EN            2B5C      
ERR01         2B77      EXEN          2B7A      ENPASS3       2B87      
EXTP3         2DDD      ENPASS2       2F1E      EVLABEX       3130      
EVBINEX       3144      EVBIN0        3152      EVBIN1        3155      
EVBININ       3156      EVTSTDEC      315F      EVDECEX       316A      
EVDECCNT      3175      EVDECCONV     3183      EVDECNXT      3199      
EVDECOK       31A0      EVDEC         31B0      EVNODEC       31B8      
EVTSTHX       31BE      EVSYM         31C6      EVTABEND1     31D1      
EVTABEND      31D8      EVSKLAB       31DC      EVNEST        31ED      
EVTSTP2       31F5      EVNOTOK       31FD      EVPC          31FF      
EVHEXEX       320C      EVCOMP        321B      EVNOMATCH     3236      
EVTONXT       3237      EVSYMEQ       323F      EVEXT         3258      
EVOK          325E      EXLA          3278      EVMSEQ        32D3      
EVFSEQ1       32F4      EVFSEQ        3305      EVFSEQOK      3310      
EVMSRCH       3316      EVTONXT1      3325      EVMACSRCH     3328      
EVMACDEF      332B      EVCOMP1       332C      ERR161        3367      
EXNUMB        3423      EDIT          363C      EDSYNER       364D      
EDSTRING      3652      EDSAVSTRS     3669      EFSAVSTR      3672      
EFEMPTY       3688      EDSUBCS       36AD      EFSUPPRO      36B6      
EFTOPARMS     36BD      EFGTPARMS     36C0      EFEOF         36C3      
EFSRCHSTR     36CC      EFSRCHA1      36D2      EFEOL         36D8      
EFDCDLM       36DE      EFCMPCH       36F0      EFSRCHON      36F5      
EFMATCH       36FA      EFNEWLN       36FE      EFNXTLN       3700      
EFDONE        3705      EFEOF1        3711      EFFOUND       3714      
EFPRCOLNR     3723      EDCR          3734      EDSUBCIN      3737      
EDDONE        3754      EDMAF         375D      EDD           3772      
EDCHNGE       377C      EDCHNGE1      3784      EDDELSTR      378D      
EDINSSTR      3796      EDLINOK       37A4      EDPRNEW       37AF      
EDPRNEW1      37BC      EFCT          37C5      EDLINE        37E7      
ELSTART       37FD      ELF           37FF      ELNXTCH       3815      
ELPRCH        381D      ELDEL1        382C      ELDEL         3839      
ELCR1         383F      EL.DONE       3846      EFPRLIN       384B      
ELRET         3859      ELD           385A      ELINSERT      386B      
EDINSCH       3872      EDUPW         3878      ED76          3886      
EDINCEOL      3890      EDIRET        389A      EDDELCH       389B      
EDSVCUR       389F      EDDOWNW       38A1      EDGTCUR       38B2      
EDCHNGELN     38B5      EDMAX80       38B7      EDTOTXT       38BE      
EDCRET        38D3      EXCOPY        3967      ERRF1         39DB      
ERR121        3A05      ERR122        3AD7      ENTER         3B9E      
ENTER2        3BA6      ENTER1        3BAC      EXIT0000      3C47      
ECHO          3C9E      ES            3E5B      EC            3E60      
EXPPARMS1     3EDC      EXPPRMERR     3EEC      EXME1         3EF1      
EXPFETCH      3EF4      EXPNXTPRM     3EF7      EXPACTUAL     3F14      
EXPALL1       3F38      EXPNOPARM     3F40      EXME          3F56      
FILESEQ       00C4      FIRST         0108      FORMAT        010F      
FILENO        0110      FORMBYTE      00B4      FORMAT1       20C0      
FORMSETD      20CD      FINDLNGE      2212      FNDEOF        2215      
FNDLNGE       221B      FILNDEL       2362      FALSE2ND      26E2      
FALSE3TH      26E3      FIEXPSEU      2D0B      FETCHOP       2E5D      
FETCHIT       2E8D      FIND          3636      FIRSTLAST     3A97      
GETCH         1E5A      GET1          20BA      GETFILNO      2199      
GETFRSTCH     2257      GETDECPARM    22E4      GOTALINE      25BC      
GETCRTHX      266E      GETCRTUP      2690      GETOPER       30D7      
GETOPRDO      30E2      GOTIT         30EC      GPLNGE        345C      
GET           3469      GGOTIT        346C      GTRYAGN       347B      
GEOF          3481      GPARMS        3487      GCLEAR        3491      
GAPP          3497      GSA           349B      GSRCHSA       34A6      
GHFILE        34A9      GDOLOAD       34F0      GTXTOVFLW     3505      
GAFILE        350F      GLOADERR      3520      GNTFATAL      352A      
GLOADED       35B7      GRET          35C9      GOON1         3BEB      
HEXDEC        0111      HFILENO       0128      HSTART        0129      
HEND          012B      HALAYOUT1     33CF      HALAYOUT      38D4      
HASKTONXT     38E9      HAPAGE        38EE      HATST4        38F9      
HA36SP        3902      HANXTSP       3907      HARET         392E      
HARD          392F      HASEPGNR      3943      HASKIPP       3952      
HFLTXTADS     3B8C      HFLNXT        3B8E      INCBY         010C      
IRQVEC        17FE      INFL          21FA      INLAST        220A      
INTXT         2262      INNOTXT       2272      INTXTLINE     2273      
ILLCHINDEC    22DE      INSRTLN       22FA      INCSCR34      24D0      
INCSCR12      24D1      INCSCR0       24D2      INCREL        24D4      
INCPC         24D5      INCSPRES      24D6      INCOK         24E0      
INLINE        25AB      INCHALNE      25B5      INSERT        2B0C      
INCFILSEQ     2C26      IFPSEU        2D6C      IMMLABEX      2D91      
IMMLABL       2D9B      IMMLABH       2DAC      INDIR         2E09      
INDABS        2E2A      INDX          2E3B      INDY          2E3C      
INCPCREL      2ED8      INSAVXY       33DD      INCERRORS     37D7      
INTSTCHR      3C2A      INAGN         3C2E      INCHAR        3C89      
IFPSEU1       3CA5      ILLMNEM       3CBA      ILLNEST       3E0A      
IFE           3E12      IFNOSUPR      3E1D      IFN           3E22      
IFP           3E2F      IFM           3E3B      IFGETOPER     3E47      
IFSGET        3E49      IFSERR        3E54      IFSGOT        3E5A      
INIT          3FA6      INCCOMP       408F      INPORT        415B      
JSROUTCR1     33F3      JMPPRINT      3C27      LSTEXPOB      00C1      
LN2BOUT       00E6      LNINDEX       00E7      LIBYM         00E8      
LINELEN       00E9      LAST          010A      LINECNTR      0120      
LOADNO        0123      LNCOM         2070      LIFL          2169      
LILAST        21B3      LILAST1       21B7      LILAST2       21B9      
LILAST3       21C5      LILINE        21C9      LINOLNNR      21D7      
LIEND         21E6      LNNRLESS      222A      LNCOM1        22C0      
LINEAGN       25DC      LS            2A34      LC            2A39      
LABWHERE      2B38      LASTOB        2D24      LASTOB1       2D62      
LABELS        2F20      LABCHAOK      3277      LAPRALL       3280      
LAEND         3285      LANORM        328F      LANXT         329D      
LAPRONE       32A3      LACOL         32B9      LOOKUP        3BAF      
LOOKUP2       3BB7      LOOKUP1       3BBD      LOADER        3F98      
LOOPRECST     400C      LOOPDELSY     4015      LOOPDATA      402E      
LOOPD         4078      LOADEXT       40A5      LOOPLOAD      40A9      
LOOP69        40C7      LOADENTRY     4141      MACSUPPRS     00BB      
MACEXPAND     00BC      MACSRCH       00BD      MACSEQ        00C2      
MGFLAG        00CA      MGADDR        00CB      MANU          010E      
MONL0OFF      2056      MONL1OFF      2059      MONLOOP       205C      
MONLOOP1      205E      MONLOOP11     20E7      MANUSCR       20EA      
MONLOOP12     20F7      MOVEUP        2327      MOVEDUP       2331      
MOVEDOWN      2370      MVDLNNR       2385      MVDLINE1      2392      
MVDLINE       23A5      MNEMFIELD     23D1      MESSAGE       252C      
MESSDO        2532      MESERROR      2538      MESLABS       2541      
MESPASS2      2566      MESPAGE       2579      MESCOLD       257F      
MATCH23       26FB      MATCH3        2707      MATCHOK       270C      
MODACCU       2827      MODIND        282C      MNEMTABLE     2831      
MNEMBRA       2896      MNEMMODS      28B7      MG            29A0      
MC            2A93      MARKEXT       2B07      MACEXPEN      2B6D      
MACDEFEN      2B75      MACRINP       2CB9      MNEM          2D15      
MOD           2D65      MODEER        2E7B      MACDEF        307C      
MACCMP23      3081      MACLAB        308C      MONLOOP13     37FA      
MONLOOP14     394F      MOVE          3AA4      MONLOOP111    3B89      
MACRO1        3CB1      MFOUND        3CC0      MDEFD1        3CD1      
MNOTDEFD      3CDB      MDEFD22       3CE3      MPARMS1       3CEB      
MPARMIN       3D0F      MNXTPARM      3D10      MCALLEXP      3D38      
MEINP         3E05      MD            3EA7      MINPUT        3EB7      
MEXPAND       3ECF      ME            3F4D      MRETURN       3F68      
MOVESTAD      4084      NULVECTOR     0000      NEWTPRES      231C      
NXTLILA       23A2      NXTTAB        242D      NXTWSK        24FA      
NXTWORD       250D      NXTLETTER     2510      NXTSPACE      251E      
NUMHEX        2688      NOTHEX        268D      NOTLOWER      269D      
NXTFILE       2C40      NOMG          2C58      NEWLAB        2CDF      
NONEWLAB      2CEB      NOTP3         2DD1      NXTA          2E6D      
NXTZOP        2E83      NOLA          2F23      NEWLABEL      2F99      
NLMLAB        2FAC      NLMDEF        2FB7      NLSTSEQ       2FCE      
NLNORM        2FE1      NLSTLAB       2FE8      NLCHAR1       2FEF      
NLNXTCH       3004      NLILLCH       300C      NLLAST        3016      
NLDUP         3030      NLOK          3052      NXTLABSK      30BE      
NOSEQ         30D3      NOHARDCP      33D3      NODEC         3419      
NUMBER        341D      NEWBOUNDS     3AE0      NOCCHAR       3C22      
NOECHO        3CA3      NOMDER        3F6D      NOTEND        40A4      
OSTORE        0116      OUTCH         1EA0      ONEWORD       2407      
OS            2A25      OC            2A2A      OPER          2AC1      
OUTPUT        2BA0      OLDSPRES      3066      OPERTST       3260      
OPER1         3266      OFF           3353      ON            3370      
OUTCHAR       33C4      OUTCR         33EA      OUT2SP        33F9      
OUTSP         33FC      OUTBYTE       3402      OUTNIBBLE     340F      
OUTZERO       405D      OUTONE        407C      PURECL        00C8      
PURECH        00C9      PNTR          00D0      PROCADDRS     00D1      
PC            00D7      PASS          0113      PRINTCTL      011F      
PAGENUMB      0121      PRINTP        214A      PUTRBUF       2172      
PUTIT         218B      PARMDCML      22D3      PRERRMSG      245A      
PRCRT         2598      PRCRTNXT      259A      PRCRT2        259B      
PROMPT        25AD      PRTAB         2605      PRTABSP       2607      
PRSPFRST      2622      PRFIRST       2625      PARM          2632      
PARMGET       263E      PARMNITST     2646      PARMNIBOK     2654      
PARMNIBIN     2659      PSEUTABLE     27B6      PSEUER        2D05      
P3RDIR        2DBB      P3LALSO       2DD5      PROB          2EA7      
PR1EOB        2EAB      PROBNL        2EB2      PROBJBYT      2EC1      
PRPC          2EDF      P3STORE       2EF3      PUTRBUFR      2F0D      
PRERRORS      2F2F      PRPCREL       2F39      PRASLNER      2F62      
PRASLIN       2F67      PRSUPR        2F75      PASS1         32CD      
PXFEOF        3461      PUT           3544      PFILNO        3560      
PSA           356A      PEA           358C      PUTITRETM     3596      
PUTHF         359C      PUTF          35AA      PUTH          35B3      
PRFILINFO     35CA      PRNOADRS      3607      PRBOUNDS      3B14      
PRBTXST       3B19      PRB           3B29      PRB2SP        3B31      
PRBPRES       3B38      PRBRKTST      3BC9      PRINTTSTO     3BF1      
PRINT         3FE8      PROCESS1      4117      PROCESS0      411F      
REL           00D9      RECPOINT      0122      RUN           2133      
RETGFLN       21B2      RET3          22D2      RET4          22E3      
RETF          2367      RET1          251D      RET2          252B      
RS            2A1B      RETZIFP1      2B4F      RANGEER       2D53      
RDIRSTRD      2F02      RBUFULL       2F05      RESETRBUF     2F10      
RETM          308B      RENUMB        3430      RENULN        3434      
RENUMBD       3442      RENUADD       3448      RC            3457      
RETPB         3BF0      RETCAN        3C86      RET5          3C88      
READDELAY     4080      RETURN        40EB      READBYTE      40EF      
ROTATEIN      4120      RECORDENT     4152      SAVEM         00B9      
SYMBOLIC      00C0      SAVEXX        00C6      SAVEYY        00C7      
SAVE          00CE      SPRES         00D5      SCRAT0        00DD      
SCRAT1        00DF      SCRAT2        00E0      SCRAT3        00E1      
SCRAT4        00E2      SUPPRESS0     00E3      SAVEY         00E4      
SAVEX         00E5      STST          0104      STEN          0106      
SYNCCOUNT     00B4      START         0124      SAD           1740      
STINRBUF      223A      SEILOW        2247      SEINP2        2254      
SRCHENTRY     2283      SAVEEOLY      2426      SR12SR0       249F      
SR12TPRES     24A8      SR34TPRES     24B1      SR0TXST       24BA      
SR0STST       24C5      SKIP3         250A      SRCHCOM       269E      
SRCHMNEM      26A2      SRCHMODS      26A6      STRTSRCH      26A8      
SKIPOPS       26ED      SI            2A3F      SE            2A48      
STRTPASS2     2B8D      STPRLOPR      2E31      STPROB        2E90      
STOBJBYT      2ED0      SKIPSTOR      2EEF      SPRESSTST     2F57      
SOVFLW        305C      SOVFLW1       3063      STEND0        3075      
SETFSEQ       3094      SETMSEQ       309F      STLABADR      30AA      
STLABCH       30B6      SKIPSEQ       30CA      SUBTR         3115      
SUBTRDO       311E      SETBNDS       360B      SET           3ADA      
SRCHAT        3D5E      SRATNXT       3D93      STARS         3E00      
SETLABEL      3E65      SETSYMB1      3E6D      SETOPR1       3E79      
SETLABEL1     3E89      SAVER         3FC8      SAVEEXT       4000      
SKIPINC       4095      SKIP1         40B4      SKIPSTORE     40D1      
TPRES         00D3      TXST          0100      TXEN          0102      
TERM          0112      TLIST         0117      TSTART        0124      
TEND          0126      TABSN         0133      TOP           01FE      
TXTCLEAR      2094      TXTEND0       209E      TXTOVFLW      2310      
TXTOVFLW1     2313      TONXTWRD      23F7      TERMINATE     2498      
TSTBS         25C4      TSTLINDEL     25EA      TSTLNOVFL     25FF      
TSTCTAPE      2C33      TERMLLINE     2CA3      TERMNTYET     2CA6      
TRYZOPS       2E81      TO16          2F7F      TSTLABCH      326A      
TD0OFF        332F      TD1OFF        3338      TD0ON         3341      
TD1ON         334A      TSTTD1        3363      TD1OFF1       336A      
TSTTD11       3380      TD1ONW        33A8      TD0ONW        33AF      
TD1OFW        33B6      TD0OFW        33BD      TADSHFADS     3531      
TESTCCHAR     3BFA      TSTC          3C3C      TSTY          3C43      
TSTSTX        3C4A      TSTBEL        3C56      TSTSI         3C5D      
TSTDC4        3C64      TD0TGGL       3C7E      TAPELOAD      3FA3      
TAPESAVE      3FD3      USRVECTOR     0003      UNTILEOL      23F1      
UPPERCASE     2693      WARMSTRT      20AC      WHICHMODE     2D6F      
WAIT          3F87      WAIT+1        3F88      WAIT+2        3F89      
WAITLF        3FD6      WRITEBYTE     4041      WRITE         405F      
WAITFOR1      40F4      WAITFOR0      4101      WAITTOON      410A      
XNXTTAB       2400      XPSEUCOM      2713      ZEROY         2E3D      
ZEROX         2E3E      ZEROPG        2E3F      ZEROBIT       4056      

tasm: Number of errors = 0
